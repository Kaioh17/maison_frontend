import{r as n,j as e,i as P,X as U,an as X,ak as $}from"./react-vendor-JE9gdlBQ.js";import{f as E,x as A}from"./index-DaAC2zqA.js";import{U as O}from"./UpgradePlanButton-C63cPaCY.js";import{u as T,S as q}from"./SettingsMenuBar-Cp_MNEJw.js";import{b as G}from"./router-DL0rZlEF.js";import"./vendor-C1Py2TwH.js";import"./utils-2shQNo7D.js";function ae(){var j,C;const[t,w]=n.useState(null),[F,M]=n.useState(!0),[g,f]=n.useState(!1),[m,b]=n.useState(!1),[a,L]=n.useState(window.innerWidth<=768),{isOpen:u}=T(),[p,y]=n.useState(!1),[d,h]=n.useState(!1),[c,S]=n.useState(!1),_=G(),[i,v]=n.useState({company_name:"",slug:"",city:"",address:""});n.useEffect(()=>{const s=()=>{L(window.innerWidth<=768)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),n.useEffect(()=>{(async()=>{var l,r,x,W,I,k,N,z;try{const o=await E();w(o.data),v({company_name:((r=(l=o.data)==null?void 0:l.profile)==null?void 0:r.company_name)||"",slug:((W=(x=o.data)==null?void 0:x.profile)==null?void 0:W.slug)||"",city:((k=(I=o.data)==null?void 0:I.profile)==null?void 0:k.city)||"",address:((z=(N=o.data)==null?void 0:N.profile)==null?void 0:z.address)||""})}catch(o){console.error("Failed to load data:",o)}finally{M(!1)}})()},[]);const H=(s,l)=>{v(r=>({...r,[s]:l}))},R=async()=>{try{b(!0),await A.patch("/v1/tenant/",{company_name:i.company_name,slug:i.slug,city:i.city,address:i.address});const s=await E();w(s.data),f(!1),alert("Company information updated successfully!")}catch(s){console.error("Failed to update:",s),alert("Failed to update company information. Please try again.")}finally{b(!1)}},B=()=>{var s,l,r,x;v({company_name:((s=t==null?void 0:t.profile)==null?void 0:s.company_name)||"",slug:((l=t==null?void 0:t.profile)==null?void 0:l.slug)||"",city:((r=t==null?void 0:t.profile)==null?void 0:r.city)||"",address:((x=t==null?void 0:t.profile)==null?void 0:x.address)||""}),f(!1)};if(F)return e.jsx("div",{className:"bw bw-container",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",padding:"clamp(16px, 3vw, 24px) 0"},children:e.jsx("div",{className:"bw-loading",style:{fontSize:"clamp(14px, 2vw, 16px)",fontFamily:'"Work Sans", sans-serif',color:"var(--bw-muted)"},children:"Loading..."})});const D=((C=(j=t==null?void 0:t.profile)==null?void 0:j.subscription_plan)==null?void 0:C.toLowerCase())||"free";return e.jsxs("div",{className:"bw",style:{display:"flex",minHeight:"100vh"},children:[e.jsx(q,{}),e.jsxs("div",{style:{marginLeft:a?"0":u?"20%":"64px",transition:"margin-left 0.3s ease",width:a?"100%":u?"calc(100% - 20%)":"calc(100% - 64px)",maxWidth:"100%",overflowX:"hidden",boxSizing:"border-box"},children:[e.jsx("div",{style:{width:"100%",maxWidth:"100%",padding:"clamp(16px, 2vw, 24px) clamp(16px, 2vw, 24px) clamp(16px, 2vw, 24px) clamp(16px, 2vw, 24px)",marginBottom:"clamp(24px, 4vw, 32px)",boxSizing:"border-box"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:a?"wrap":"nowrap",gap:"clamp(12px, 2vw, 16px)"},children:[e.jsx("h1",{style:{fontSize:"clamp(24px, 4vw, 32px)",margin:0,fontFamily:'"DM Sans", sans-serif',fontWeight:200,color:"var(--bw-text)"},children:"Company Information"}),g?e.jsxs("div",{style:{display:"flex",gap:"clamp(8px, 1.5vw, 12px)",flexWrap:"wrap"},children:[e.jsxs("button",{className:`bw-btn-outline ${c?"custom-hover-border":""}`,onClick:B,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),disabled:m,style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",borderRadius:7,border:c?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:c?"rgba(155, 97, 209, 0.81)":void 0,color:c?"rgba(155, 97, 209, 0.81)":"#000000",backgroundColor:c?"var(--bw-bg-secondary)":"#ffffff",transition:"all 0.2s ease"},children:[e.jsx(U,{className:"w-4 h-4",style:{width:a?"clamp(18px, 2.5vw, 20px)":"18px",height:a?"clamp(18px, 2.5vw, 20px)":"18px"}}),e.jsx("span",{children:"Cancel"})]}),e.jsxs("button",{className:`bw-btn bw-btn-action ${d?"custom-hover-border":""}`,onClick:R,onMouseEnter:()=>!m&&h(!0),onMouseLeave:()=>h(!1),disabled:m,style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",borderRadius:7,backgroundColor:d?"var(--bw-bg-secondary)":"var(--bw-accent)",color:d?"rgba(155, 97, 209, 0.81)":"#ffffff",border:d?"2px solid rgba(155, 97, 209, 0.81)":"none",borderColor:d?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:[e.jsx(X,{className:"w-4 h-4",style:{width:a?"clamp(18px, 2.5vw, 20px)":"18px",height:a?"clamp(18px, 2.5vw, 20px)":"18px"}}),e.jsx("span",{children:m?"Saving...":"Save"})]})]}):e.jsxs("button",{className:`bw-btn-outline ${p?"custom-hover-border":""}`,onClick:()=>f(!0),onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",borderRadius:7,border:p?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:p?"rgba(155, 97, 209, 0.81)":void 0,color:p?"rgba(155, 97, 209, 0.81)":"#000000",backgroundColor:p?"var(--bw-bg-secondary)":"#ffffff",transition:"all 0.2s ease"},children:[e.jsx(P,{className:"w-4 h-4",style:{width:a?"clamp(18px, 2.5vw, 20px)":"18px",height:a?"clamp(18px, 2.5vw, 20px)":"18px"}}),e.jsx("span",{children:"Edit"})]})]})}),e.jsx("div",{className:"bw-container",style:{padding:"0 clamp(16px, 2vw, 24px) clamp(16px, 2vw, 24px) clamp(16px, 2vw, 24px)",maxWidth:"100%",overflowX:"hidden",boxSizing:"border-box"},children:e.jsxs("div",{className:"bw-card",style:{backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"clamp(8px, 1.5vw, 12px)",padding:"clamp(16px, 2.5vw, 24px)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",marginBottom:"clamp(16px, 2.5vw, 24px)"},children:[e.jsx($,{className:"w-5 h-5",style:{color:"var(--bw-text)"}}),e.jsx("h3",{style:{margin:0,fontSize:"clamp(16px, 2.5vw, 20px)",fontFamily:'"Work Sans", sans-serif',fontWeight:400,color:"var(--bw-text)"},children:"Company Details"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:a?"1fr":"repeat(2, minmax(0, 1fr))",gap:"clamp(16px, 2vw, 24px)",width:"100%",maxWidth:"100%"},children:[{label:"Company Name",field:"company_name",type:"text"},{label:"Slug",field:"slug",type:"text"},{label:"City",field:"city",type:"text"},{label:"Address",field:"address",type:"text"}].map(s=>e.jsxs("div",{className:"bw-form-group",style:{gridColumn:s.field==="address"?a?"span 1":"span 2":"span 1"},children:[e.jsx("label",{className:"bw-form-label small-muted",style:{fontSize:"clamp(11px, 1.3vw, 13px)",fontFamily:'"Work Sans", sans-serif',fontWeight:300,color:"var(--bw-muted)",marginBottom:"clamp(4px, 0.8vw, 6px)"},children:s.label}),g?e.jsx("input",{type:s.type,value:i[s.field],onChange:l=>H(s.field,l.target.value),className:"bw-input",style:{width:"100%",padding:"clamp(12px, 2vw, 16px) clamp(14px, 2.5vw, 18px)",fontSize:"clamp(12px, 1.5vw, 14px)",fontFamily:'"Work Sans", sans-serif',borderRadius:0,color:"var(--bw-text)",backgroundColor:"var(--bw-bg)",border:"1px solid var(--bw-border)"}}):e.jsx("div",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontFamily:'"Work Sans", sans-serif',fontWeight:300,color:"var(--bw-text)",padding:"clamp(12px, 2vw, 16px) 0"},children:i[s.field]||"N/A"})]},s.field))})]})}),e.jsx(O,{currentPlan:D,onUpgradeClick:()=>_("/tenant/settings/plans"),isMobile:a})]})]})}export{ae as default};
