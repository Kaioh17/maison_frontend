const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Landing-iP3hVzn8.js","assets/react-vendor-JE9gdlBQ.js","assets/vendor-C1Py2TwH.js","assets/router-DL0rZlEF.js","assets/framer-motion-BK52U2hD.js","assets/Login-sSxa6CLQ.js","assets/dark_logo(c)-CHybLdYU.js","assets/utils-2shQNo7D.js","assets/Signup-DMp1FfqO.js","assets/TenantDashboard-CQMFdRA3.js","assets/vehicles-CkZMpXtf.js","assets/vehicleData-BAhqvYk7.js","assets/DriverDashboard-BZzFaCSY.js","assets/driver-ZL_jGIpG.js","assets/useFavicon-Bc8ZFvv0.js","assets/bookings-DED0-iGc.js","assets/DriverLogin-Bdi1lwqC.js","assets/DriverRegistration-BBwbPQC0.js","assets/StateAutocomplete-CLQ3OVdu.js","assets/DriverVerify-DamdfHQH.js","assets/RiderDashboard-9SfB8ELr.js","assets/CountryAutocomplete-DcIo2GPh.js","assets/RiderRegistration-BrJofRZr.js","assets/CityAutocomplete-Dtwa3AUg.js","assets/RiderProfile-DHD34EEw.js","assets/RiderLogin-D1FnyEFB.js","assets/BookingConfirmation-TAyRG_oS.js","assets/BookingSuccess-CSQD7gBm.js","assets/PaymentPage-D4MZ3LUy.js","assets/stripe-BEfo7vFG.js","assets/BookingComplete-2N6xnVrH.js","assets/BookingFailed-Cfua2Tod.js","assets/VehicleRates-CJVatdYU.js","assets/TenantSettings-KgDx6RAU.js","assets/SettingsMenuBar-Cp_MNEJw.js","assets/GeneralView-TA61_SF6.js","assets/UpgradePlanButton-C63cPaCY.js","assets/AccountInformation-BMa45s37.js","assets/CompanyInformation-CoSBYOm6.js","assets/VehicleConfiguration-CUhlz9_5.js","assets/BrandingSettings-CCQKNSdO.js","assets/PricingSettings--J6gMXcN.js","assets/Plans-CxdDUNOL.js","assets/subscription-CVBCrPam.js","assets/Help-DAzhD2Py.js","assets/StripeDocs-BXGDgBk1.js","assets/AddVehicle-DMVcTRyW.js","assets/NotFound-DsmYpoOq.js","assets/SubscriptionSelection-DRL5h73w.js","assets/landing-BPLG3u_r.css","assets/Success-CNgwAVlO.js","assets/StripeReturn-Cl1xbDAg.js","assets/StripeReauth-hKBBhnLI.js"])))=>i.map(i=>d[i]);
import{j as e,r as a,n as ge,b as fe,C as xe,E as ye,X as ve,c as we,a as je}from"./react-vendor-JE9gdlBQ.js";import{u as _e,a as be,N as H,b as te,R as Se,c as l,B as Te}from"./router-DL0rZlEF.js";import{a as Ee,c as Re,p as Ie,j as B}from"./utils-2shQNo7D.js";import"./vendor-C1Py2TwH.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();const ne=console.log,Y=console.error,re=console.warn,oe=console.info,se=console.debug;let T=[];const Z=200,C=(t,n,...r)=>{const s=new Date().toISOString(),o=r.map(i=>typeof i=="object"?JSON.stringify(i,null,2):String(i)).join(" ");return`${s} [${t}] ${n} ${o}`},z=t=>{try{T.push(t),localStorage.setItem("maison_frontend_logs",JSON.stringify(T)),T.length>Z&&(T=T.slice(-Z),localStorage.setItem("maison_frontend_logs",JSON.stringify(T)))}catch(n){Y("Failed to save logs to localStorage:",n)}};console.log=(...t)=>{const n=t.join(" "),r=C("LOG",n);z(r),ne(...t)};console.error=(...t)=>{const n=t.join(" "),r=C("ERROR",n);z(r),Y(...t)};console.warn=(...t)=>{const n=t.join(" "),r=C("WARN",n);z(r),re(...t)};console.info=(...t)=>{const n=t.join(" "),r=C("INFO",n);z(r),oe(...t)};console.debug=(...t)=>{const n=t.join(" "),r=C("DEBUG",n);z(r),se(...t)};const k={log:ne,error:Y,warn:re,info:oe,debug:se},ke=()=>{try{const t=localStorage.getItem("maison_frontend_logs");if(!t){k.warn("No logs found to download");return}const r=JSON.parse(t).join(`
`),s=new Blob([r],{type:"text/plain"}),o=URL.createObjectURL(s),i=document.createElement("a");i.href=o,i.download=`maison_frontend_log_${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o),k.log("Logs downloaded successfully")}catch(t){k.error("Failed to download logs:",t)}},Ae=()=>{try{T=[],localStorage.removeItem("maison_frontend_logs"),k.log("Logs cleared successfully")}catch(t){k.error("Failed to clear logs:",t)}},Le=()=>T.length,De=()=>[...T];try{const t=localStorage.getItem("maison_frontend_logs");t&&(T=JSON.parse(t),k.log(`Loaded ${T.length} existing logs from localStorage`))}catch(t){k.warn("Failed to load existing logs from localStorage:",t)}window.maisonLogs={downloadLogs:ke,clearLogs:Ae,getLogCount:Le,getAllLogs:De};console.log("Frontend logging initialized - all console output will be saved locally and can be downloaded as maison_frontend_log");console.log("Use window.maisonLogs.downloadLogs() to download logs, or access other functions from window.maisonLogs");const Pe="modulepreload",Ce=function(t){return"/"+t},ee={},p=function(n,r,s){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),g=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(r.map(v=>{if(v=Ce(v),v in ee)return;ee[v]=!0;const f=v.endsWith(".css"),_=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${_}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":Pe,f||(d.as="script"),d.crossOrigin="",d.href=v,g&&d.setAttribute("nonce",g),document.head.appendChild(d),f)return new Promise((m,j)=>{d.addEventListener("load",m),d.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${v}`)))})}))}function i(c){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=c,window.dispatchEvent(g),!g.defaultPrevented)throw c}return o.then(c=>{for(const g of c||[])g.status==="rejected"&&i(g.reason);return n().catch(i)})},ze="usemaison.io",ae=["localhost","127.0.0.1"],P=ze;function Bt(t,n=""){const r="https",s="",o=n.startsWith("/")?n:`/${n}`;return`${r}://${t}.${P}${s}${o}`}function q(t){const n=(t||(typeof window<"u"?window.location.hostname:"")).split(":")[0];return ae.includes(n)||n.startsWith("127.0.0.1")}function O(){return"usemaison.io"}function ie(){if(typeof window>"u")return!1;const t=window.location.hostname,n=O(),r=t.split(":")[0];if(r===n)return!0;const s=r.split("."),o=n.split(".");return s.length>o.length||s.length<o.length?!1:s.length===o.length?r===n:!1}function le(t){const n=O(),r=t.split(":")[0];if(r===n)return!0;const s=r.split("."),o=n.split(".");return s.length>o.length||s.length<o.length?!1:s.length===o.length?r===n:!1}function ce(t){const n=t.split(":")[0],r=n.split("."),s=r[r.length-1]===P,o=n===P||ae.includes(n);if(s||o)return r.length>=2&&r[0]!==P&&r[r.length-1]===P?r[0]:null;if(r.length>=3)return r[0];const i=O(),c=i.split(".");return r.length===c.length+1&&r.slice(1).join(".")===i?r[0]:null}const F=typeof window<"u"?window.location.hostname:"",J=typeof window<"u"?window.location.port:"",Ve="8000",Oe=q(F)&&(J==="5173"||J==="3001"),Fe=q(F)&&J==="3000",Ne=typeof window<"u"&&!le(F),Be=Ne?"/api":Oe||Fe?`http://${F}:${Ve}/api`:"/api",L=Be,Wt="pk.eyJ1IjoibXViYXJhcSIsImEiOiJjbWlseXZ0aGcxbGU1M2ZxNWNneGM1eDQ0In0.S5fhmJz7DQ7nWXArXubtSA",$t="pk_test_51RnRA7QtWPwjkVcEtAK70yFpKXYvKVBn2iOcVHfqNzvrWXfqxKlcLDy7jCK79ppIiySr78UyBYYHHeFpILtdmzBy00f6piPx2Na",We={tenant:"/v1/auth/refresh/manual",driver:"/v1/auth/refresh",rider:"/v1/auth/refresh",admin:"/v1/auth/refresh"};var $e={};function Me(){try{if(L.startsWith("http://")||L.startsWith("https://")){const t=new URL(L,typeof window<"u"?window.location.href:void 0);return q(t.hostname)&&!t.port&&(t.port=$e.VITE_API_PORT||"8000"),t.origin+t.pathname.replace(/\/$/,"")}return L}catch{return L}}const de=Me(),h=Ee.create({baseURL:de,withCredentials:!0,maxRedirects:5});h.interceptors.request.use(t=>{const n=R.getState().accessToken;if(n&&(t.headers=t.headers||{},t.headers.Authorization=`Bearer ${n}`),typeof window<"u"){const r=window.location.hostname;!le(r)&&(t.baseURL="/api");const o=ce(r),i=R.getState().role;o&&i==="rider"&&(t.headers=t.headers||{},t.headers["X-Tenant-Slug"]=o)}return t});let W=!1,X=[];async function Ue(){const t=R.getState();if(!t.role)throw new Error("No role available for refresh");if(t.role==="tenant")throw new Error("Tenant tokens must be refreshed manually");const n=We[t.role],s=`${de}${n}`,o=await fetch(s,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!o.ok)throw new Error("Token refresh failed");const i=await o.json(),c=i==null?void 0:i.access_token;if(c)return t.setAccessToken(c),c;throw new Error("No new token received")}function He(){X.forEach(t=>t()),X=[]}h.interceptors.response.use(t=>t,async t=>{var s;const n=t.config;if(((s=t==null?void 0:t.response)==null?void 0:s.status)===401&&n&&!n._retry){if(n._retry=!0,W)await new Promise(i=>X.push(i));else try{W=!0,await Ue()}catch{return R.getState().logout(),Promise.reject(t)}finally{W=!1,He()}const o=R.getState().accessToken;return o&&n?(n.headers=n.headers||{},n.headers.Authorization=`Bearer ${o}`,h(n)):Promise.reject(t)}return Promise.reject(t)});async function Mt(t,n){const r=new URLSearchParams;r.append("username",t),r.append("password",n);const{data:s}=await h.post("/v1/auth/login/tenant",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return s}async function Ut(t,n){const r=new URLSearchParams;r.append("username",t),r.append("password",n);const{data:s}=await h.post("/v1/auth/login/driver",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return s}async function Ht(t,n){const r=new URLSearchParams;r.append("username",t),r.append("password",n);const{data:s}=await h.post("/v1/auth/login/rider",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return s}async function Jt(){try{const{data:t}=await h.post("/v1/auth/refresh/manual");return t}catch(t){throw t}}async function Je(){try{const{data:t}=await h.post("/v1/auth/logout",{},{withCredentials:!0});return t}catch(t){throw t}}const R=Re()(Ie((t,n)=>({accessToken:null,role:null,userId:null,tenantId:null,isAuthenticated:!1,setAccessToken:r=>{let s=null,o=null,i=null;try{const c=B(r);s=c.role,o=c.id,i=c.tenant_id||null}catch{}t({accessToken:r,role:s,userId:o,tenantId:i,isAuthenticated:!!r})},login:({token:r})=>{let s=null,o=null,i=null;try{const c=B(r);s=c.role,o=c.id,i=c.tenant_id||null}catch{}t({accessToken:r,role:s,userId:o,tenantId:i,isAuthenticated:!0})},logout:()=>{Je().catch(r=>{console.error("Logout API call failed:",r)}),t({accessToken:null,role:null,userId:null,tenantId:null,isAuthenticated:!1})},getUserId:()=>n().userId,getTenantId:()=>n().tenantId,checkAuthStatus:()=>{const r=n();if(!r.accessToken)return!1;try{const s=B(r.accessToken),o=Date.now()/1e3;return s.exp&&s.exp<o?(n().logout(),!1):!0}catch{return n().logout(),!1}}}),{name:"auth-storage",partialize:t=>({accessToken:t.accessToken,role:t.role,userId:t.userId,tenantId:t.tenantId,isAuthenticated:t.isAuthenticated})}));function N(){if(typeof window<"u"){const n=window.location.hostname,r=ce(n),s=O();if(r&&r!=="www"&&r!==s)return r}return _e().slug||null}function u({allowRoles:t,children:n}){const{accessToken:r,role:s,isAuthenticated:o}=R(),i=be();N();const c=()=>s==="rider"?"/riders/login":s==="tenant"?"/tenant/login":s==="driver"?"/driver/login":"/tenant/login";return!o||!r?e.jsx(H,{to:c(),state:{from:i},replace:!0}):s&&!t.includes(s)?e.jsx(H,{to:c(),replace:!0}):r&&!s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e.jsx(e.Fragment,{children:n})}async function Xe(){const{data:t}=await h.get("/v1/tenant/");return t}async function Ke(t){const{data:n}=await h.get(`/v1/slug/${t}`);return n}async function Ye(t){const{data:n}=await h.get(`/v1/slug/${t}`);return n}async function Xt(t){const n=new FormData;n.append("email",t.email),n.append("first_name",t.first_name),n.append("last_name",t.last_name),n.append("password",t.password),n.append("phone_no",t.phone_no),n.append("company_name",t.company_name),n.append("slug",t.slug),n.append("city",t.city),t.address&&n.append("address",t.address),t.drivers_count!==void 0&&n.append("drivers_count",t.drivers_count.toString()),t.logo_url instanceof File&&n.append("logo_url",t.logo_url);const{data:r}=await h.post("/v1/tenant/add",n,{headers:{"Content-Type":"multipart/form-data"}});return r}async function Kt(t){const n=t?{driver_id:t}:void 0,{data:r}=await h.get("/v1/tenant/drivers",{params:n});return r}async function Yt(t){const{data:n}=await h.get("/v1/vehicles",{params:t});return n}async function qt(t){const{data:n}=await h.get("/v1/tenant/bookings",{params:t});return n}async function Gt(t){const{data:n}=await h.get("/v1/tenant/bookings",{params:{booking_id:t}});return n}async function Qt(t){const{data:n}=await h.post("/v1/tenant/onboard",t);return n}async function Zt(t,n){const{data:r}=await h.patch(`/v1/tenant/vehicles/${t}/assign/${n}`);return r}async function en(t,n){const{data:r}=await h.patch(`/v1/tenant/vehicles/${t}/unassign/driver`,{},{params:{override:n}});return r}async function tn(t,n){const{data:r}=await h.patch(`/v1/tenant/bookings/${t}/assign-driver`,n);return r}async function nn(){const{data:t}=await h.get("/v1/tenant/analysis");return t}async function rn(){const{data:t}=await h.post("/v1/tenant/driver");return t}const ue="slug_verification_",qe=10*60*1e3;function pe(t){if(typeof window>"u")return null;try{const n=`${ue}${t}`,r=sessionStorage.getItem(n);if(!r)return null;const s=JSON.parse(r);return G(s)?(sessionStorage.removeItem(n),null):s}catch(n){return console.error("Error reading slug cache:",n),null}}function K(t,n,r){if(!(typeof window>"u"))try{const s=`${ue}${t}`,o={slug:t,isValid:r,data:n||void 0,timestamp:Date.now()};sessionStorage.setItem(s,JSON.stringify(o))}catch(s){console.error("Error setting slug cache:",s)}}function G(t){return Date.now()-t.timestamp>qe}function Ge(){const t=N(),[n,r]=a.useState(null),[s,o]=a.useState(!1),[i,c]=a.useState(null);return a.useEffect(()=>{if(!t){r(null),c(null);return}(async()=>{var v,f,_;try{o(!0),c(null);const d=pe(t);if(d&&!G(d)&&d.data){const j={company_name:d.data.profile.company_name,slug:d.data.branding.slug||t,logo_url:d.data.branding.logo_url||null,favicon_url:d.data.branding.favicon_url||null};r(j),o(!1);return}const m=await Ke(t);if(m.success&&m.data){let j;(v=m.meta)!=null&&v.tenant_id&&(j=typeof m.meta.tenant_id=="number"?m.meta.tenant_id:parseInt(String(m.meta.tenant_id))),!j&&m.data.tenant_id&&(j=typeof m.data.tenant_id=="number"?m.data.tenant_id:parseInt(String(m.data.tenant_id)));const b={company_name:m.data.profile.company_name,slug:m.data.branding.slug||t,logo_url:m.data.branding.logo_url||null,favicon_url:m.data.branding.favicon_url||null,tenant_id:j};r(b),K(t,m.data,!0)}else c("Tenant not found")}catch(d){c(((_=(f=d.response)==null?void 0:f.data)==null?void 0:_.detail)||d.message||"Failed to load tenant information"),r(null)}finally{o(!1)}})()},[t]),{tenantInfo:n,isLoading:s,error:i,slug:t}}function he(){const{tenantInfo:t}=Ge(),n=(t==null?void 0:t.company_name)||"the service";return e.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",fontFamily:"Work Sans, sans-serif",backgroundColor:"var(--bw-bg)",padding:"clamp(20px, 4vw, 40px)",color:"var(--bw-text)"},children:e.jsxs("div",{style:{textAlign:"center",maxWidth:"600px",width:"100%"},children:[(t==null?void 0:t.logo_url)&&e.jsx("div",{style:{marginBottom:"24px",display:"flex",justifyContent:"center"},children:e.jsx("img",{src:t.logo_url,alt:n,style:{maxHeight:"60px",maxWidth:"200px",objectFit:"contain"}})}),e.jsx("h1",{style:{fontSize:"clamp(72px, 12vw, 120px)",fontWeight:"bold",margin:"0",color:"var(--bw-text)",lineHeight:"1",fontFamily:"DM Sans, sans-serif"},children:"404"}),e.jsx("h2",{style:{fontSize:"clamp(24px, 4vw, 36px)",fontWeight:"600",margin:"clamp(16px, 3vw, 20px) 0",color:"var(--bw-text)",fontFamily:"DM Sans, sans-serif"},children:"Tenant Not Found"}),e.jsx("p",{style:{fontSize:"clamp(16px, 2.5vw, 18px)",color:"var(--bw-muted, var(--bw-text))",margin:"clamp(16px, 3vw, 20px) 0",lineHeight:"1.6",opacity:.8},children:"This tenant subdomain is not valid or has been removed."}),e.jsxs("div",{style:{marginTop:"clamp(24px, 4vw, 30px)",padding:"clamp(20px, 3vw, 24px)",backgroundColor:"var(--bw-card-bg, var(--bw-bg))",borderRadius:"8px",border:"1px solid var(--bw-border)",textAlign:"left",maxWidth:"500px",margin:"clamp(24px, 4vw, 30px) auto 0"},children:[e.jsx("h3",{style:{fontSize:"clamp(18px, 3vw, 20px)",fontWeight:"600",margin:"0 0 clamp(12px, 2vw, 15px) 0",color:"var(--bw-text)",fontFamily:"DM Sans, sans-serif"},children:"How to resolve this:"}),e.jsxs("ul",{style:{fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-text)",lineHeight:"1.8",margin:"0",paddingLeft:"20px",opacity:.9},children:[e.jsx("li",{children:"Double-check the subdomain in the URL for typos"}),e.jsx("li",{children:"Verify you're using the correct tenant subdomain"}),e.jsxs("li",{children:["Make sure you're accessing the correct URL provided by ",n]}),e.jsx("li",{children:"Contact support if you believe this is an error"})]})]}),e.jsxs("div",{style:{marginTop:"clamp(24px, 4vw, 30px)",padding:"clamp(20px, 3vw, 24px)",backgroundColor:"var(--bw-card-bg, var(--bw-bg))",borderRadius:"8px",border:"1px solid var(--bw-border)",textAlign:"center"},children:[e.jsx("p",{style:{fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-text)",margin:"0 0 clamp(8px, 1.5vw, 10px) 0",opacity:.9},children:"Need help?"}),e.jsx("p",{style:{fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-fg)",margin:"0 0 clamp(4px, 1vw, 6px) 0",fontWeight:"500"},children:"Contact Support"}),e.jsx("a",{href:"mailto:support@example.com",style:{fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-fg)",textDecoration:"none",marginTop:"4px",display:"inline-block",opacity:.8},onMouseOver:r=>{r.currentTarget.style.textDecoration="underline",r.currentTarget.style.opacity="1"},onMouseOut:r=>{r.currentTarget.style.textDecoration="none",r.currentTarget.style.opacity="0.8"},children:"support@example.com"})]})]})})}function y({children:t}){const n=N(),[r,s]=a.useState(null),[o,i]=a.useState(!0);return a.useEffect(()=>{if(!n){s(!1),i(!1);return}(async()=>{var v;const g=pe(n);if(g&&!G(g)){s(g.isValid),i(!1);return}try{i(!0);const f=await Ye(n),_=!!(f.success&&f.data);s(_),K(n,f.data||null,_)}catch(f){s(!1),K(n,null,!1),((v=f.response)==null?void 0:v.status)!==404&&console.error("Slug verification error:",f)}finally{i(!1)}})()},[n]),o?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",fontFamily:"Work Sans, sans-serif"},children:e.jsx("div",{children:"Loading..."})}):r?e.jsx(e.Fragment,{children:t}):e.jsx(he,{})}function $({children:t}){return ie()?e.jsx(e.Fragment,{children:t}):e.jsx(he,{})}function Qe(){const t=te(),n=N(),r=()=>{t("/driver/login")},s=()=>{t("/riders/login")};return e.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",fontFamily:"Work Sans, sans-serif",backgroundColor:"var(--bw-bg)",padding:"clamp(20px, 4vw, 40px)",color:"var(--bw-text)"},children:e.jsxs("div",{style:{textAlign:"center",maxWidth:"700px",width:"100%"},children:[e.jsx("h1",{style:{fontSize:"clamp(72px, 12vw, 120px)",fontWeight:"bold",margin:"0",color:"var(--bw-text)",lineHeight:"1",fontFamily:"DM Sans, sans-serif"},children:"404"}),e.jsx("h2",{style:{fontSize:"clamp(24px, 4vw, 36px)",fontWeight:"600",margin:"clamp(16px, 3vw, 20px) 0",color:"var(--bw-text)",fontFamily:"DM Sans, sans-serif"},children:"Page Not Found"}),e.jsx("p",{style:{fontSize:"clamp(16px, 2.5vw, 18px)",color:"var(--bw-muted, var(--bw-text))",margin:"clamp(16px, 3vw, 20px) 0",lineHeight:"1.6",opacity:.8},children:"Tenant management pages are not available on subdomain routes."}),e.jsxs("div",{style:{marginTop:"clamp(24px, 4vw, 30px)",padding:"clamp(20px, 3vw, 24px)",backgroundColor:"var(--bw-card-bg, var(--bw-bg))",borderRadius:"12px",border:"1px solid var(--bw-border)",textAlign:"left",maxWidth:"600px",margin:"clamp(24px, 4vw, 30px) auto"},children:[e.jsx("h3",{style:{fontSize:"clamp(18px, 3vw, 20px)",fontWeight:"600",margin:"0 0 clamp(12px, 2vw, 15px) 0",color:"var(--bw-text)",fontFamily:"DM Sans, sans-serif"},children:"Why you're seeing this page:"}),e.jsxs("ul",{style:{fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-text)",lineHeight:"1.8",margin:"0",paddingLeft:"20px",opacity:.9},children:[e.jsx("li",{children:"Tenant management features are only accessible from the main domain"}),e.jsx("li",{children:"Subdomain routes are reserved for driver and rider portals"}),e.jsx("li",{children:"If you're a tenant administrator, please access the platform from the main domain"}),e.jsx("li",{children:"If you're a driver or rider, use the options below to access your portal"})]})]}),e.jsxs("div",{style:{marginTop:"clamp(24px, 4vw, 30px)",display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",maxWidth:"500px",margin:"clamp(24px, 4vw, 30px) auto 0"},children:[e.jsx("h3",{style:{fontSize:"clamp(18px, 3vw, 20px)",fontWeight:"600",margin:"0 0 clamp(12px, 2vw, 15px) 0",color:"var(--bw-text)",fontFamily:"DM Sans, sans-serif",textAlign:"center"},children:"Are you a driver or rider?"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",width:"100%"},children:[e.jsxs("button",{onClick:r,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"clamp(14px, 2.5vw, 18px) clamp(24px, 4vw, 32px)",backgroundColor:"var(--bw-fg)",color:"var(--bw-bg)",border:"none",borderRadius:"12px",fontSize:"clamp(15px, 2.5vw, 17px)",fontWeight:600,fontFamily:"Work Sans, sans-serif",cursor:"pointer",transition:"opacity 0.2s, transform 0.1s",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseEnter:o=>{o.currentTarget.style.opacity="0.9",o.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:o=>{o.currentTarget.style.opacity="1",o.currentTarget.style.transform="translateY(0)"},children:[e.jsx(ge,{size:20}),e.jsx("span",{children:"I'm a Driver"})]}),e.jsxs("button",{onClick:s,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"clamp(14px, 2.5vw, 18px) clamp(24px, 4vw, 32px)",backgroundColor:"var(--bw-card-bg, var(--bw-bg))",color:"var(--bw-text)",border:"1px solid var(--bw-border)",borderRadius:"12px",fontSize:"clamp(15px, 2.5vw, 17px)",fontWeight:600,fontFamily:"Work Sans, sans-serif",cursor:"pointer",transition:"opacity 0.2s, transform 0.1s, background-color 0.2s"},onMouseEnter:o=>{o.currentTarget.style.opacity="0.9",o.currentTarget.style.transform="translateY(-2px)",o.currentTarget.style.backgroundColor="var(--bw-bg-secondary)"},onMouseLeave:o=>{o.currentTarget.style.opacity="1",o.currentTarget.style.transform="translateY(0)",o.currentTarget.style.backgroundColor="var(--bw-card-bg, var(--bw-bg))"},children:[e.jsx(fe,{size:20}),e.jsx("span",{children:"I'm a Rider"})]})]})]}),e.jsxs("div",{style:{marginTop:"clamp(24px, 4vw, 30px)",padding:"clamp(20px, 3vw, 24px)",backgroundColor:"var(--bw-card-bg, var(--bw-bg))",borderRadius:"8px",border:"1px solid var(--bw-border)",textAlign:"center"},children:[e.jsx("p",{style:{fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-text)",margin:"0 0 clamp(8px, 1.5vw, 10px) 0",opacity:.9},children:"Need help?"}),e.jsx("p",{style:{fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-fg)",margin:"0",fontWeight:"500"},children:"Contact Support"})]})]})})}function x({children:t}){return ie()?e.jsx(e.Fragment,{children:t}):e.jsx(Qe,{})}async function on(t="all"){const{data:n}=await h.get(`/v1/tenant/config/${t}`);return n.data}async function sn(t){const{data:n}=await h.patch("/v1/tenant/config/settings",t);return n.data}async function an(t){const{data:n}=await h.patch("/v1/tenant/config/pricing",t);return n.data}async function ln(t){const{data:n}=await h.patch("/v1/tenant/config/branding",t);return n.data}async function cn(t,n){try{const r=new FormData;return t&&r.append("logo_url",t),n&&r.append("favicon_url",n),(await h.patch("/v1/tenant/config/logo",r)).data}catch(r){throw console.error("Logo/Favicon update failed:",r),r}}async function Ze(){const{data:t}=await h.post("/v1/tenant/stripe");return t.data}async function dn(){const{data:t}=await h.get("/v1/tenant/stripe/link");return t}async function un(){var n;const{data:t}=await h.get("/v1/tenant/config/booking");return((n=t.data)==null?void 0:n.booking)||[]}async function pn(t,n){const{data:r}=await h.patch(`/v1/tenant/config/booking/${t}`,n);return r.data}function et(){const{accessToken:t,role:n}=R(),r=te(),[s,o]=a.useState(!1),[i,c]=a.useState(null),[g,v]=a.useState(!0),[f,_]=a.useState(!1);a.useEffect(()=>{if(!t||n!=="tenant"){o(!1),v(!1);return}(async()=>{var I;try{v(!0);const Q=((I=(await Xe()).data)==null?void 0:I.is_verified)??!1;c(Q),o(!Q)}catch(S){console.error("Error checking verification status:",S),o(!1)}finally{v(!1)}})()},[t,n]);const d=async()=>{var w,I;try{_(!0);const S=await Ze();S.onboarding_link?window.open(S.onboarding_link,"_blank","noopener,noreferrer"):alert("Failed to get Stripe onboarding link")}catch(S){console.error("Failed to setup Stripe account:",S),alert(((I=(w=S==null?void 0:S.response)==null?void 0:w.data)==null?void 0:I.message)||(S==null?void 0:S.message)||"Failed to setup Stripe account")}finally{_(!1)}},m=()=>{r("/tenant/settings/account")};if(!s||g||i)return null;const j="#FF6C37",b="rgba(255, 108, 55, 0.15)",A="#FF8C5A";return e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,zIndex:1e4,backgroundColor:j,color:"#ffffff",padding:"16px 24px",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",fontFamily:'"Work Sans", sans-serif',flexWrap:"wrap",gap:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:"300px"},children:[e.jsx(xe,{className:"w-5 h-5",style:{flexShrink:0}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:"4px",fontSize:"15px"},children:"Complete Your Account Setup"}),e.jsxs("div",{style:{fontSize:"13px",opacity:.95,lineHeight:"1.5"},children:["Finish your application process by setting up your Stripe account."," ",e.jsx("button",{onClick:m,style:{background:"transparent",border:"none",color:"#ffffff",textDecoration:"underline",cursor:"pointer",padding:0,fontSize:"13px",fontFamily:"inherit",fontWeight:500},onMouseEnter:w=>{w.currentTarget.style.opacity="0.8"},onMouseLeave:w=>{w.currentTarget.style.opacity="1"},children:"Learn more"})," ","about how this enables you to receive payments from riders and distribute funds to drivers seamlessly."]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexShrink:0},children:[e.jsxs("button",{onClick:d,disabled:f,style:{backgroundColor:b,border:`2px solid ${A}`,color:"#ffffff",padding:"8px 16px",borderRadius:"6px",cursor:f?"not-allowed":"pointer",fontWeight:600,fontSize:"14px",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px",opacity:f?.6:1},onMouseEnter:w=>{f||(w.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.25)",w.currentTarget.style.borderColor="#FFB380")},onMouseLeave:w=>{f||(w.currentTarget.style.backgroundColor=b,w.currentTarget.style.borderColor=A)},children:[f?"Setting up...":"Complete Account Setup",!f&&e.jsx(ye,{className:"w-4 h-4"})]}),e.jsx("button",{onClick:()=>o(!1),style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",transition:"background 0.2s ease"},onMouseEnter:w=>{w.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor="transparent"},children:e.jsx(ve,{className:"w-5 h-5"})})]})]})}const tt=a.lazy(()=>p(()=>import("./Landing-iP3hVzn8.js"),__vite__mapDeps([0,1,2,3,4]))),nt=a.lazy(()=>p(()=>import("./Login-sSxa6CLQ.js"),__vite__mapDeps([5,1,2,3,6,7]))),rt=a.lazy(()=>p(()=>import("./Signup-DMp1FfqO.js"),__vite__mapDeps([8,1,2,3,6,7]))),V=a.lazy(()=>p(()=>import("./TenantDashboard-CQMFdRA3.js"),__vite__mapDeps([9,1,2,10,7,3,11]))),E=a.lazy(()=>p(()=>import("./DriverDashboard-BZzFaCSY.js"),__vite__mapDeps([12,1,2,13,10,14,15,3,7]))),ot=a.lazy(()=>p(()=>import("./DriverLogin-Bdi1lwqC.js"),__vite__mapDeps([16,1,2,3,14,7]))),st=a.lazy(()=>p(()=>import("./DriverRegistration-BBwbPQC0.js"),__vite__mapDeps([17,1,2,13,10,3,14,18,7]))),at=a.lazy(()=>p(()=>import("./DriverVerify-DamdfHQH.js"),__vite__mapDeps([19,1,2,13,14,3,7]))),D=a.lazy(()=>p(()=>import("./RiderDashboard-9SfB8ELr.js"),__vite__mapDeps([20,1,2,15,10,3,14,21,7]))),it=a.lazy(()=>p(()=>import("./RiderRegistration-BrJofRZr.js"),__vite__mapDeps([22,1,2,23,18,3,14,21,7]))),lt=a.lazy(()=>p(()=>import("./RiderProfile-DHD34EEw.js"),__vite__mapDeps([24,1,2,23,18,3,14,21,7]))),ct=a.lazy(()=>p(()=>import("./RiderLogin-D1FnyEFB.js"),__vite__mapDeps([25,1,2,3,14,7]))),dt=a.lazy(()=>p(()=>import("./BookingConfirmation-TAyRG_oS.js"),__vite__mapDeps([26,1,2,15,14,3,7]))),ut=a.lazy(()=>p(()=>import("./BookingSuccess-CSQD7gBm.js"),__vite__mapDeps([27,1,2,3,7]))),pt=a.lazy(()=>p(()=>import("./PaymentPage-D4MZ3LUy.js"),__vite__mapDeps([28,1,2,29,14,3,7]))),ht=a.lazy(()=>p(()=>import("./BookingComplete-2N6xnVrH.js"),__vite__mapDeps([30,1,2,3,14,7]))),mt=a.lazy(()=>p(()=>import("./BookingFailed-Cfua2Tod.js"),__vite__mapDeps([31,1,2,3,14,7]))),gt=a.lazy(()=>p(()=>import("./VehicleRates-CJVatdYU.js"),__vite__mapDeps([32,1,2,10,3,7]))),M=a.lazy(()=>p(()=>import("./TenantSettings-KgDx6RAU.js"),__vite__mapDeps([33,1,2,34,3,7]))),ft=a.lazy(()=>p(()=>import("./GeneralView-TA61_SF6.js"),__vite__mapDeps([35,1,2,36,34,3,7]))),xt=a.lazy(()=>p(()=>import("./AccountInformation-BMa45s37.js"),__vite__mapDeps([37,1,2,36,34,3,7]))),yt=a.lazy(()=>p(()=>import("./CompanyInformation-CoSBYOm6.js"),__vite__mapDeps([38,1,2,36,34,3,7]))),vt=a.lazy(()=>p(()=>import("./VehicleConfiguration-CUhlz9_5.js"),__vite__mapDeps([39,1,2,10,36,34,3,7]))),wt=a.lazy(()=>p(()=>import("./BrandingSettings-CCQKNSdO.js"),__vite__mapDeps([40,1,2,34,3,7]))),jt=a.lazy(()=>p(()=>import("./PricingSettings--J6gMXcN.js"),__vite__mapDeps([41,1,2,34,3,7]))),_t=a.lazy(()=>p(()=>import("./Plans-CxdDUNOL.js"),__vite__mapDeps([42,1,2,43,36,34,3,7]))),bt=a.lazy(()=>p(()=>import("./Help-DAzhD2Py.js"),__vite__mapDeps([44,1,2,36,34,3,7]))),St=a.lazy(()=>p(()=>import("./StripeDocs-BXGDgBk1.js"),__vite__mapDeps([45,1,2,36,34,3,7]))),Tt=a.lazy(()=>p(()=>import("./AddVehicle-DMVcTRyW.js"),__vite__mapDeps([46,1,2,10,11,3,7]))),Et=a.lazy(()=>p(()=>import("./NotFound-DsmYpoOq.js"),__vite__mapDeps([47,1,2,3]))),Rt=a.lazy(()=>p(()=>import("./SubscriptionSelection-DRL5h73w.js"),__vite__mapDeps([48,1,2,43,3,7,49]))),It=a.lazy(()=>p(()=>import("./Success-CNgwAVlO.js"),__vite__mapDeps([50,1,2,3,49]))),kt=a.lazy(()=>p(()=>import("./StripeReturn-Cl1xbDAg.js"),__vite__mapDeps([51,1,2,3]))),At=a.lazy(()=>p(()=>import("./StripeReauth-hKBBhnLI.js"),__vite__mapDeps([52,1,2,3])));function Lt(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"animate-pulse text-gray-500 dark:text-gray-400",children:"Loadingâ€¦"})})}function Dt(){return e.jsxs(e.Fragment,{children:[e.jsx(et,{}),e.jsx(a.Suspense,{fallback:e.jsx(Lt,{}),children:e.jsxs(Se,{children:[e.jsx(l,{path:"/",element:e.jsx($,{children:e.jsx(tt,{})})}),e.jsx(l,{path:"/signup",element:e.jsx($,{children:e.jsx(rt,{})})}),e.jsx(l,{path:"/tenant/login",element:e.jsx(x,{children:e.jsx(nt,{})})}),e.jsx(l,{path:"/subscription",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(Rt,{})})})}),e.jsx(l,{path:"/success",element:e.jsx($,{children:e.jsx(It,{})})}),e.jsx(l,{path:"/tenant",element:e.jsx(x,{children:e.jsx(H,{to:"/tenant/overview",replace:!0})})}),e.jsx(l,{path:"/tenant/overview",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(V,{})})})}),e.jsx(l,{path:"/tenant/drivers",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(V,{})})})}),e.jsx(l,{path:"/tenant/bookings",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(V,{})})})}),e.jsx(l,{path:"/tenant/vehicles",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(V,{})})})}),e.jsx(l,{path:"/tenant/rates",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(gt,{})})})}),e.jsx(l,{path:"/tenant/settings",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(M,{})})})}),e.jsx(l,{path:"/tenant/settings/general",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(ft,{})})})}),e.jsx(l,{path:"/tenant/settings/account",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(xt,{})})})}),e.jsx(l,{path:"/tenant/settings/company",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(yt,{})})})}),e.jsx(l,{path:"/tenant/settings/tenant-settings",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(M,{})})})}),e.jsx(l,{path:"/tenant/settings/branding",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(wt,{})})})}),e.jsx(l,{path:"/tenant/settings/pricing",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(jt,{})})})}),e.jsx(l,{path:"/tenant/settings/vehicle-config",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(vt,{})})})}),e.jsx(l,{path:"/tenant/settings/plans",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(_t,{})})})}),e.jsx(l,{path:"/tenant/settings/help",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(bt,{})})})}),e.jsx(l,{path:"/tenant/settings/help/stripe",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(St,{})})})}),e.jsx(l,{path:"/tenant/return",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(kt,{})})})}),e.jsx(l,{path:"/tenant/reauth",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(At,{})})})}),e.jsx(l,{path:"/tenant_settings",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(M,{})})})}),e.jsx(l,{path:"/vehicles/add",element:e.jsx(x,{children:e.jsx(u,{allowRoles:["tenant"],children:e.jsx(Tt,{})})})}),e.jsx(l,{path:"/driver",element:e.jsx(u,{allowRoles:["driver"],children:e.jsx(E,{})})}),e.jsx(l,{path:"/driver/vehicles",element:e.jsx(u,{allowRoles:["driver"],children:e.jsx(E,{})})}),e.jsx(l,{path:"/rider/dashboard",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["rider"],children:e.jsx(D,{})})})}),e.jsx(l,{path:"/rider/book",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["rider"],children:e.jsx(D,{})})})}),e.jsx(l,{path:"/rider/see-bookings",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["rider"],children:e.jsx(D,{})})})}),e.jsx(l,{path:"/rider/drivers",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["rider"],children:e.jsx(D,{})})})}),e.jsx(l,{path:"/rider/vehicles",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["rider"],children:e.jsx(D,{})})})}),e.jsx(l,{path:"/rider/confirm-booking",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["rider"],children:e.jsx(dt,{})})})}),e.jsx(l,{path:"/rider/payment",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["rider"],children:e.jsx(pt,{})})})}),e.jsx(l,{path:"/rider/booking-success",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["rider"],children:e.jsx(ut,{})})})}),e.jsx(l,{path:"/booking/complete",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["rider"],children:e.jsx(ht,{})})})}),e.jsx(l,{path:"/booking/failed",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["rider"],children:e.jsx(mt,{})})})}),e.jsx(l,{path:"/riders/login",element:e.jsx(y,{children:e.jsx(ct,{})})}),e.jsx(l,{path:"/riders/register",element:e.jsx(y,{children:e.jsx(it,{})})}),e.jsx(l,{path:"/riders/profile",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["rider"],children:e.jsx(lt,{})})})}),e.jsx(l,{path:"/driver/login",element:e.jsx(y,{children:e.jsx(ot,{})})}),e.jsx(l,{path:"/driver/verify",element:e.jsx(y,{children:e.jsx(at,{})})}),e.jsx(l,{path:"/driver/register",element:e.jsx(y,{children:e.jsx(st,{})})}),e.jsx(l,{path:"/driver/dashboard",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["driver"],children:e.jsx(E,{})})})}),e.jsx(l,{path:"/driver/bookings",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["driver"],children:e.jsx(E,{})})})}),e.jsx(l,{path:"/driver/bookings/upcoming",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["driver"],children:e.jsx(E,{})})})}),e.jsx(l,{path:"/driver/bookings/new-requests",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["driver"],children:e.jsx(E,{})})})}),e.jsx(l,{path:"/driver/bookings/all",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["driver"],children:e.jsx(E,{})})})}),e.jsx(l,{path:"/driver/vehicles",element:e.jsx(y,{children:e.jsx(u,{allowRoles:["driver"],children:e.jsx(E,{})})})}),e.jsx(l,{path:"*",element:e.jsx(Et,{})})]})})]})}function Pt(){const[t,n]=a.useState(!1),{accessToken:r,role:s,checkAuthStatus:o,logout:i}=R();return a.useEffect(()=>{(async()=>{try{r&&s&&(o()||i())}catch(g){console.error("Auth initialization error:",g),i()}finally{n(!0)}})()},[r,s,o,i]),t?null:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})})}const me=a.createContext(void 0);function U(){try{if(typeof window>"u")return"dark";const t=localStorage.getItem("theme");return t&&["dark","light"].includes(t)?t:"dark"}catch(t){return console.warn("Theme: Error getting initial theme:",t),"dark"}}function Ct({children:t}){const[n,r]=a.useState(U),[s,o]=a.useState(U()==="dark"),[i,c]=a.useState(U()==="light"),[g,v]=a.useState(!1);a.useEffect(()=>{try{const d=document.documentElement,m=document.body,j=d.getAttribute("data-theme"),b=m.getAttribute("data-theme");j!==n&&d.setAttribute("data-theme",n),b!==n&&m.setAttribute("data-theme",n)}catch(d){console.warn("Theme: Error applying theme on mount:",d)}},[]),a.useEffect(()=>{const d=()=>{try{const b=document.documentElement,A=document.body,w=b.getAttribute("data-theme"),I=A.getAttribute("data-theme");(w!==n||I!==n)&&(b.setAttribute("data-theme",n),A.setAttribute("data-theme",n))}catch(b){console.warn("Theme: Error checking theme consistency:",b)}},m=setInterval(d,1e3),j=()=>{document.hidden||d()};return document.addEventListener("visibilitychange",j),()=>{clearInterval(m),document.removeEventListener("visibilitychange",j)}},[n]),a.useEffect(()=>{try{const d=document.documentElement,m=document.body,j=d.getAttribute("data-theme"),b=m.getAttribute("data-theme");(j!==n||b!==n)&&(d.removeAttribute("data-theme"),m.removeAttribute("data-theme"),d.setAttribute("data-theme",n),m.setAttribute("data-theme",n),o(n==="dark"),c(n==="light")),v(!0)}catch(d){console.warn("Theme: Error applying theme:",d),document.documentElement.setAttribute("data-theme","dark"),document.body.setAttribute("data-theme","dark"),o(!0),c(!1),v(!0)}},[n]),a.useEffect(()=>{if(g)try{typeof window<"u"&&(localStorage.setItem("theme",n),document.documentElement.setAttribute("data-theme",n),document.body.setAttribute("data-theme",n))}catch(d){console.warn("Theme: Error saving theme to localStorage:",d)}},[n,g]);const _={theme:n,setTheme:r,isDark:s,isLight:i,restoreTheme:()=>{try{const d=document.documentElement,m=document.body;d.setAttribute("data-theme",n),m.setAttribute("data-theme",n)}catch(d){console.warn("Theme: Error restoring theme:",d)}}};return e.jsx(me.Provider,{value:_,children:t})}function zt(){const t=a.useContext(me);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function hn(t){const{theme:n,setTheme:r}=zt();a.useEffect(()=>{if(t&&["dark","light"].includes(t))try{const s=localStorage.getItem("theme");if(s)return;s||r(t)}catch(s){console.warn("Theme: Error checking localStorage for theme preference:",s)}},[t,r,n])}we.createRoot(document.getElementById("root")).render(e.jsx(je.StrictMode,{children:e.jsx(Ct,{children:e.jsxs(Te,{children:[e.jsx(Pt,{}),e.jsx(Dt,{})]})})}));export{G as A,Ye as B,cn as C,sn as D,an as E,ln as F,Ze as G,un as H,pn as I,dn as J,Wt as M,$t as S,p as _,zt as a,hn as b,Xt as c,rn as d,ce as e,Xe as f,Bt as g,Kt as h,Yt as i,nn as j,qt as k,Mt as l,on as m,en as n,Qt as o,Zt as p,Gt as q,Jt as r,tn as s,Ge as t,R as u,Ut as v,N as w,h as x,Ht as y,pe as z};
