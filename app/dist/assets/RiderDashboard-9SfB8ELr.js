import{r as n,j as e,a6 as xe,a7 as _e,N as oe,V as We,a8 as ze,x as fe,a9 as Ce,aa as Fe,Y as Be,O as G,u as Le,n as Re,p as Ae,d as Te,y as Ie,s as De}from"./react-vendor-JE9gdlBQ.js";import{g as ve,a as Ee,c as Me}from"./bookings-DED0-iGc.js";import{f as Pe}from"./vehicles-CkZMpXtf.js";import{M as V,t as Ne,u as $e}from"./index-DaAC2zqA.js";import{b as Oe,a as Ve,L as He}from"./router-DL0rZlEF.js";import{u as Ue}from"./useFavicon-Bc8ZFvv0.js";import{C as Ye}from"./CountryAutocomplete-DcIo2GPh.js";import"./vendor-C1Py2TwH.js";import"./utils-2shQNo7D.js";function Ke(){return`${Date.now()}-${Math.random().toString(36).substring(2,15)}`}async function Xe(o,c,l=5,f){if(!o.trim()||!V)return[];try{const x=new URLSearchParams({q:o,session_token:c,limit:l.toString(),navigation_profile:"driving",access_token:V});f&&f.trim()&&x.append("country",f.toLowerCase().trim());const p=await fetch(`https://api.mapbox.com/search/searchbox/v1/suggest?${x.toString()}`);if(!p.ok)throw new Error(`Mapbox API error: ${p.statusText}`);return(await p.json()).suggestions||[]}catch(x){return console.error("Error fetching location suggestions:",x),[]}}async function Ze(o,c,l=4,f){if(!o.trim()||!V)return[];try{const x=new URLSearchParams({q:o,session_token:c,types:"poi,country",poi_category:"airport,airport_gate,airport_terminal",limit:l.toString(),navigation_profile:"driving",access_token:V});f&&f.trim()?x.append("country",f.toLowerCase().trim()):x.append("country","us");const p=await fetch(`https://api.mapbox.com/search/searchbox/v1/suggest?${x.toString()}`);if(!p.ok)throw new Error(`Mapbox API error: ${p.statusText}`);return(await p.json()).suggestions||[]}catch(x){return console.error("Error fetching airport suggestions:",x),[]}}async function qe(o,c){if(!o||!V)return null;try{const l=new URLSearchParams({session_token:c,access_token:V}),f=await fetch(`https://api.mapbox.com/search/searchbox/v1/retrieve/${o}?${l.toString()}`);if(!f.ok)throw new Error(`Mapbox API error: ${f.statusText}`);return await f.json()}catch(l){return console.error("Error fetching location details:",l),null}}function Ge(o){return o.name_preferred||o.place_formatted||o.full_address||o.name||""}function Je(o,c=!1){var l,f,x;if(o.features&&o.features.length>0){const p=o.features[0].properties;return c||p.feature_type==="poi"&&(((l=p.name)==null?void 0:l.toLowerCase().includes("airport"))||((f=p.name)==null?void 0:f.toLowerCase().includes("international"))||((x=p.full_address)==null?void 0:x.toLowerCase().includes("airport"))),p.name||p.name_preferred||p.place_formatted||p.full_address||""}return""}function re({value:o,onChange:c,onLocationSelect:l,placeholder:f="Enter address",label:x,isAirportOnly:p=!1,disabled:v=!1,country:I}){const[d,j]=n.useState([]),[F,D]=n.useState(!1),[H,W]=n.useState(!1),[h,B]=n.useState(-1),[E]=n.useState(()=>Ke()),m=n.useRef(null),L=n.useRef(null),S=n.useRef(null),R=n.useCallback(async a=>{if(!a.trim()||a.length<2){j([]),D(!1);return}D(!0);try{const s=p?await Ze(a,E,4,I):await Xe(a,E,5,I);j(s),W(!0),B(-1)}catch(s){console.error("Error searching locations:",s),j([])}finally{D(!1)}},[p,E,I]),J=a=>{const s=a.target.value;c(s),W(!0),S.current&&clearTimeout(S.current),s.trim().length>=2?S.current=setTimeout(()=>{R(s)},300):(j([]),D(!1))},A=async a=>{let s=Ge(a);if(a.mapbox_id)try{const g=await qe(a.mapbox_id,E);if(g&&g.features&&g.features.length>0){const $=Je(g,p);if($&&(s=$),c(s),W(!1),j([]),l){const U=g.features[0],M=U.properties;let k,b;if(M.coordinates&&M.coordinates.latitude&&M.coordinates.longitude)k=M.coordinates.latitude,b=M.coordinates.longitude;else{const[P,T]=U.geometry.coordinates;k=T,b=P}console.log("Location coordinates captured:",{lat:k,lng:b,address:s}),l(s,{lat:k,lng:b})}return}}catch(g){console.error("Error getting location details:",g)}c(s),W(!1),j([]),l&&(a.coordinates&&a.coordinates.latitude&&a.coordinates.longitude?l(s,{lat:a.coordinates.latitude,lng:a.coordinates.longitude}):l(s))},N=a=>{if(!(!H||d.length===0))switch(a.key){case"ArrowDown":a.preventDefault(),B(s=>s<d.length-1?s+1:s);break;case"ArrowUp":a.preventDefault(),B(s=>s>0?s-1:-1);break;case"Enter":a.preventDefault(),h>=0&&h<d.length&&A(d[h]);break;case"Escape":W(!1),B(-1);break}};return n.useEffect(()=>{const a=s=>{L.current&&!L.current.contains(s.target)&&W(!1)};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]),n.useEffect(()=>()=>{S.current&&clearTimeout(S.current)},[]),e.jsxs("div",{ref:L,style:{position:"relative",width:"100%"},children:[x&&e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",fontSize:"clamp(13px, 2vw, 14px)",fontWeight:500,color:"var(--bw-text)"},children:[e.jsx(xe,{size:16}),x]}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{ref:m,className:"bw-input",type:"text",value:o,onChange:J,onKeyDown:N,onFocus:()=>{d.length>0&&W(!0)},placeholder:f,disabled:v,style:{width:"100%",padding:"clamp(10px, 2vw, 12px)",paddingRight:F?"40px":"clamp(10px, 2vw, 12px)",borderRadius:"8px",border:"1px solid var(--bw-border)",backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)"}}),F&&e.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center"},children:e.jsx(_e,{size:16,style:{animation:"spin 1s linear infinite",color:"var(--bw-text)",opacity:.6}})})]}),H&&d.length>0&&e.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"4px",backgroundColor:"var(--bw-bg)",border:"1px solid var(--bw-border)",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:1e3,maxHeight:"300px",overflowY:"auto",overflowX:"hidden"},children:d.map((a,s)=>e.jsx("button",{type:"button",onClick:()=>A(a),onMouseEnter:()=>B(s),style:{width:"100%",padding:"clamp(10px, 2vw, 12px)",textAlign:"left",backgroundColor:h===s?"var(--bw-bg-hover, rgba(0, 0, 0, 0.05))":"transparent",border:"none",borderBottom:s<d.length-1?"1px solid var(--bw-border)":"none",color:"var(--bw-text)",cursor:"pointer",fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)",transition:"background-color 0.2s ease"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[e.jsx(xe,{size:14,style:{marginTop:"2px",flexShrink:0,opacity:.7}}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontWeight:500,marginBottom:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.name_preferred||a.name}),e.jsx("div",{style:{fontSize:"clamp(11px, 1.5vw, 12px)",opacity:.7,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.place_formatted||a.full_address})]})]})},a.mapbox_id))}),e.jsx("style",{children:`
        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }
      `})]})}function pt(){var ce;Ue();const[o,c]=n.useState({vehicle_id:0,country:"",service_type:"dropoff",airport_service:"",pickup_location:"",dropoff_location:"",airport_location:"",pickup_time_local:"",hours:0,notes:"",pickup_coordinates:null,dropoff_coordinates:null,airport_coordinates:null}),[l,f]=n.useState([]),[x,p]=n.useState([]),[v,I]=n.useState(null),[d,j]=n.useState(!1),[F,D]=n.useState(!1),[H,W]=n.useState(!1),[h,B]=n.useState(!1),[E,m]=n.useState(""),[L,S]=n.useState(!1),[R,J]=n.useState(window.innerWidth<=768),[A,N]=n.useState(5),[a,s]=n.useState(""),[g,$]=n.useState(""),[U,M]=n.useState(""),[k,b]=n.useState(!0),{tenantInfo:P}=Ne(),T=Oe(),Y=Ve();n.useEffect(()=>{const t=()=>{J(window.innerWidth<=768),window.innerWidth>768&&S(!1)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const me=async(t=1,r,i)=>{var z,C;try{j(!0),m("");const w=i||u,_=await ve(void 0);_.success&&_.data?f(_.data):f([])}catch(w){m(((C=(z=w.response)==null?void 0:z.data)==null?void 0:C.detail)||"Failed to load bookings"),f([])}finally{j(!1)}},ie=async(t,r,i)=>{var z,C;try{j(!0),m("");const w=l.length,y={limit:t};r&&(y.booking_status=r),i&&(y.service_type=i);const _=await ve(y);if(_.success&&_.data){const O=_.data;f(O),O.length<t||w>0&&O.length===w?b(!1):b(!0)}else m(_.message||"Failed to load bookings"),b(!1)}catch(w){console.error("Failed to load bookings:",w),m(((C=(z=w.response)==null?void 0:z.data)==null?void 0:C.detail)||w.message||"Failed to load bookings"),b(!1)}finally{j(!1)}},ge=async()=>{var t,r;try{D(!0),m("");const i=await Pe();i.success&&i.data?p(i.data):p([])}catch(i){m(((r=(t=i.response)==null?void 0:t.data)==null?void 0:r.detail)||"Failed to load vehicles"),p([])}finally{D(!1)}},ue=async()=>{var t,r;try{W(!0),m("");const i=await Ee();i.success&&i.data?I(i.data):I(null)}catch(i){console.error("Failed to load analytics:",i),m(((r=(t=i.response)==null?void 0:t.data)==null?void 0:r.detail)||"Failed to load analytics"),I(null)}finally{W(!1)}},u=(()=>{const t=Y.pathname;return t.includes("/rider/book")?"book-ride":t.includes("/rider/see-bookings")?"all-bookings":t.includes("/rider/vehicles")?"vehicles":(t.includes("/rider/dashboard"),"dashboard")})(),[ae,se]=n.useState(null);n.useEffect(()=>{u==="dashboard"&&(!v&&!H&&ue(),ae!=="dashboard"&&!d&&(me(1,void 0,"dashboard"),se("dashboard"))),u==="all-bookings"&&(ae!=="all-bookings"||l.length===0)&&!d&&(A===5&&b(!0),ie(A,a||void 0,g||void 0),se("all-bookings")),(u==="book-ride"||u==="vehicles")&&x.length===0&&!F&&ge()},[u,Y.pathname]),n.useEffect(()=>{Y.pathname.includes("/rider/see-bookings")&&(A===5&&b(!0),ie(A,a||void 0,g||void 0))},[Y.pathname,A,a,g]);const be=async()=>{var i,z,C,w;let t=!0,r="Please fill in all required fields including vehicle selection";if((!o.country||!o.pickup_time_local||!o.vehicle_id)&&(t=!1),o.service_type==="airport"?o.airport_service?o.airport_service==="to_airport"?(!o.pickup_location||!o.airport_location)&&(t=!1,r="Please fill in pickup location and airport location"):o.airport_service==="from_airport"&&(!o.airport_location||!o.dropoff_location)&&(t=!1,r="Please fill in airport location and dropoff location"):(t=!1,r="Please select airport service type (To Airport or From Airport)"):o.service_type==="hourly"?(!o.pickup_location||o.hours<=0)&&(t=!1,r="Please fill in pickup location and hours (must be greater than 0)"):(!o.pickup_location||!o.dropoff_location)&&(t=!1,r="Please fill in pickup and dropoff locations"),!t){m(r);return}try{B(!0),m("");let y;o.service_type==="airport"?o.airport_service==="to_airport"?o.pickup_coordinates&&o.airport_coordinates&&(y={plat:o.pickup_coordinates.lat,plon:o.pickup_coordinates.lng,dlat:o.airport_coordinates.lat,dlon:o.airport_coordinates.lng}):o.airport_service==="from_airport"&&o.airport_coordinates&&o.dropoff_coordinates&&(y={plat:o.airport_coordinates.lat,plon:o.airport_coordinates.lng,dlat:o.dropoff_coordinates.lat,dlon:o.dropoff_coordinates.lng}):o.service_type==="hourly"?o.pickup_coordinates&&(y={plat:o.pickup_coordinates.lat,plon:o.pickup_coordinates.lng,dlat:((i=o.dropoff_coordinates)==null?void 0:i.lat)||0,dlon:((z=o.dropoff_coordinates)==null?void 0:z.lng)||0}):o.pickup_coordinates&&o.dropoff_coordinates&&(y={plat:o.pickup_coordinates.lat,plon:o.pickup_coordinates.lng,dlat:o.dropoff_coordinates.lat,dlon:o.dropoff_coordinates.lng}),console.log("Coordinates being sent:",y),console.log("Form coordinates state:",{pickup:o.pickup_coordinates,dropoff:o.dropoff_coordinates,airport:o.airport_coordinates});let _=o.pickup_location,O=o.dropoff_location;o.service_type==="airport"&&(o.airport_service==="to_airport"?O=o.airport_location:o.airport_service==="from_airport"&&(_=o.airport_location));const de={vehicle_id:o.vehicle_id,country:o.country,service_type:o.service_type,pickup_location:_,pickup_time:new Date(o.pickup_time_local).toISOString(),dropoff_location:O,notes:o.notes||void 0,coordinates:y,airport_service:o.service_type==="airport"&&o.airport_service?o.airport_service:void 0,hours:o.service_type==="hourly"?o.hours:void 0};console.log("Booking Request:",de);const q=await Me(de);q.success&&q.data?(c({vehicle_id:0,country:"",service_type:"dropoff",airport_service:"",pickup_location:"",dropoff_location:"",airport_location:"",pickup_time_local:"",hours:0,notes:"",pickup_coordinates:null,dropoff_coordinates:null,airport_coordinates:null}),m(""),T("/rider/confirm-booking",{state:{booking:q.data}})):m(q.message||"Failed to create booking")}catch(y){m(((w=(C=y.response)==null?void 0:C.data)==null?void 0:w.detail)||"Failed to create booking")}finally{B(!1)}},K=t=>t?new Date(t).toLocaleString():"N/A",X=t=>{switch(t==null?void 0:t.toLowerCase()){case"confirmed":case"completed":return"#10b981";case"pending":return"#f59e0b";case"cancelled":return"#ef4444";default:return"#6b7280"}},Z=t=>{switch(t==null?void 0:t.toLowerCase()){case"completed":case"active":case"confirmed":return"#10b981";case"pending":return"#f59e0b";case"cancelled":return"#ef4444";default:return"#6b7280"}},he=t=>{const r=Z(t);switch(t==null?void 0:t.toLowerCase()){case"completed":case"active":case"confirmed":return e.jsx(De,{size:14,style:{color:r}});case"pending":return e.jsx(Ie,{size:14,style:{color:r}});case"cancelled":return e.jsx(Te,{size:14,style:{color:r}});default:return e.jsx(Ae,{size:14,style:{color:r}})}},we=t=>{if(M(t),!t){s(""),$(""),N(5),b(!0);return}const[r,i]=t.split(":");r==="status"?s(i||""):r==="service_type"&&$(i||""),N(5),b(!0)},ne=t=>{t==="status"?s(""):$(""),N(5),b(!0)},ye=()=>{N(t=>t+5)},le=new Date,Q=l.filter(t=>new Date(t.pickup_time)<le).sort((t,r)=>new Date(r.pickup_time).getTime()-new Date(t.pickup_time).getTime()).slice(0,5),ee=l.filter(t=>{var i;return new Date(t.pickup_time)>=le&&((i=t.booking_status)==null?void 0:i.toLowerCase())!=="cancelled"}).sort((t,r)=>new Date(t.pickup_time).getTime()-new Date(r.pickup_time).getTime()).slice(0,5),ke=(v==null?void 0:v.total)??l.length,je=(v==null?void 0:v.completed)??l.filter(t=>{var r;return((r=t.booking_status)==null?void 0:r.toLowerCase())==="completed"}).length,Se=(v==null?void 0:v.pending)??l.filter(t=>{var r;return((r=t.booking_status)==null?void 0:r.toLowerCase())==="pending"}).length;v==null||v.confirmed,v==null||v.cancelled;const pe=[{id:"dashboard",label:"Dashboard",icon:We},{id:"book-ride",label:"Book a Ride",icon:ze},{id:"all-bookings",label:"See All Bookings",icon:fe},{id:"vehicles",label:"See Vehicles",icon:Ce}],te=t=>{t==="dashboard"?T("/rider/dashboard"):t==="book-ride"?T("/rider/book"):t==="all-bookings"?T("/rider/see-bookings"):t==="vehicles"&&T("/rider/vehicles"),S(!1)};return e.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--bw-bg)",fontFamily:"Work Sans, sans-serif",position:"relative"},children:[L&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:998,transition:"opacity 0.3s ease"},onClick:()=>S(!1)}),e.jsxs("div",{className:"rider-sidebar",style:{position:"fixed",top:0,left:R?L?"0":"-100%":"0",width:R?"100%":"clamp(280px, 25vw, 320px)",height:"100vh",backgroundColor:"var(--bw-bg)",borderRight:"1px solid var(--bw-border)",zIndex:999,transition:"left 0.3s ease",overflowY:"auto",display:"flex",flexDirection:"column",boxShadow:"var(--bw-shadow, 0 4px 6px rgba(0, 0, 0, 0.1))"},children:[e.jsxs("div",{style:{padding:"clamp(16px, 2.5vw, 24px)",borderBottom:"1px solid var(--bw-border)",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[P?P.logo_url?e.jsx("img",{src:P.logo_url,alt:P.company_name||"Company Logo",style:{maxHeight:"clamp(40px, 5vw, 50px)",maxWidth:"clamp(120px, 20vw, 180px)",objectFit:"contain"}}):e.jsx("h1",{style:{margin:0,fontSize:"clamp(20px, 3vw, 28px)",fontWeight:600,color:"var(--bw-text)",fontFamily:"DM Sans, sans-serif",flex:1},children:P.company_name}):e.jsx("h1",{style:{margin:0,fontSize:"clamp(20px, 3vw, 28px)",fontWeight:600,color:"var(--bw-text)",fontFamily:"DM Sans, sans-serif",flex:1},children:"Rider Dashboard"}),e.jsx("button",{onClick:()=>S(!1),"aria-label":"Close menu",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",minWidth:"40px",minHeight:"40px",backgroundColor:"transparent",border:"none",cursor:"pointer",color:"var(--bw-text)"},children:e.jsx(oe,{size:20})})]}),e.jsx("nav",{style:{flex:1,padding:"clamp(12px, 2vw, 20px) 0",display:"flex",flexDirection:"column",gap:"4px"},children:pe.map(t=>{const r=t.icon;return e.jsxs("button",{onClick:()=>te(t.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"clamp(12px, 2vw, 16px)",padding:"clamp(12px, 2vw, 16px) clamp(16px, 3vw, 24px)",backgroundColor:u===t.id?"var(--bw-bg-hover, rgba(0, 0, 0, 0.05))":"transparent",border:"none",borderLeft:u===t.id?"3px solid var(--bw-fg)":"3px solid transparent",color:"var(--bw-text)",cursor:"pointer",fontSize:"clamp(14px, 2vw, 16px)",fontFamily:"Work Sans, sans-serif",fontWeight:u===t.id?500:300,textAlign:"left",transition:"all 0.2s ease"},onMouseEnter:i=>{u!==t.id&&(i.currentTarget.style.backgroundColor="var(--bw-bg-hover, rgba(0, 0, 0, 0.05))")},onMouseLeave:i=>{u!==t.id&&(i.currentTarget.style.backgroundColor="transparent")},children:[e.jsx(r,{size:20,style:{flexShrink:0,width:"clamp(18px, 2.5vw, 20px)",height:"clamp(18px, 2.5vw, 20px)"}}),e.jsx("span",{children:t.label})]},t.id)})}),e.jsxs("div",{style:{padding:"clamp(12px, 2vw, 20px)",borderTop:"1px solid var(--bw-border)",display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx(He,{to:"/riders/profile",style:{textDecoration:"none"},children:e.jsxs("button",{style:{width:"100%",display:"flex",alignItems:"center",gap:"8px",padding:"clamp(10px, 1.5vw, 12px) clamp(16px, 3vw, 24px)",backgroundColor:"transparent",border:"1px solid var(--bw-border)",borderRadius:"6px",color:"var(--bw-text)",cursor:"pointer",fontSize:"clamp(14px, 2vw, 16px)",fontFamily:"Work Sans, sans-serif",fontWeight:300},children:[e.jsx(Fe,{size:18}),"Profile"]})}),e.jsxs("button",{onClick:()=>{$e.getState().logout(),T("/riders/login",{replace:!0})},style:{width:"100%",display:"flex",alignItems:"center",gap:"8px",padding:"clamp(10px, 1.5vw, 12px) clamp(16px, 3vw, 24px)",backgroundColor:"transparent",border:"1px solid var(--bw-border)",borderRadius:"6px",color:"var(--bw-text)",cursor:"pointer",fontSize:"clamp(14px, 2vw, 16px)",fontFamily:"Work Sans, sans-serif",fontWeight:300},children:[e.jsx(Be,{size:18}),"Logout"]})]})]}),e.jsxs("div",{style:{padding:"clamp(12px, 2.5vw, 24px)",marginLeft:R?"0":"clamp(280px, 25vw, 320px)",transition:"margin-left 0.3s ease"},className:"rider-main-content",children:[e.jsxs("div",{style:{marginBottom:"clamp(16px, 3vw, 24px)",paddingBottom:"clamp(12px, 2vw, 16px)",borderBottom:"1px solid var(--bw-border)",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px"},children:[R&&e.jsx("button",{className:"rider-hamburger",onClick:()=>S(!L),"aria-label":"Toggle menu","aria-expanded":L,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",minWidth:"40px",minHeight:"40px",backgroundColor:"transparent",border:"1px solid var(--bw-border)",borderRadius:"6px",cursor:"pointer",color:"var(--bw-text)"},children:e.jsx(fe,{size:20})}),e.jsx("h1",{style:{margin:0,fontSize:"clamp(20px, 4vw, 28px)",fontWeight:200,fontFamily:"DM Sans, sans-serif",color:"var(--bw-text)",flex:1},children:((ce=pe.find(t=>t.id===u))==null?void 0:ce.label)||"Dashboard"})]}),E&&e.jsx("div",{style:{padding:"clamp(10px, 2vw, 12px)",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"8px",color:"#ef4444",marginBottom:"clamp(16px, 3vw, 24px)",fontSize:"clamp(13px, 2vw, 14px)"},children:E}),u==="dashboard"&&e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(16px, 3vw, 24px)"},children:H||d&&l.length===0?e.jsx("div",{style:{textAlign:"center",padding:"clamp(40px, 8vw, 60px)",color:"var(--bw-text)",opacity:.6,fontSize:"clamp(14px, 2.5vw, 16px)"},children:"Loading dashboard..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rider-stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"clamp(12px, 2vw, 16px)"},children:[e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 24px)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"clamp(28px, 5vw, 40px)",fontWeight:700,color:"var(--bw-text)",marginBottom:"8px",fontFamily:"Work Sans, sans-serif"},children:ke}),e.jsx("div",{style:{fontSize:"clamp(12px, 2vw, 14px)",color:"var(--bw-text)",opacity:.7,fontFamily:"Work Sans, sans-serif",fontWeight:300},children:"Total Bookings"})]}),e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 24px)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"clamp(28px, 5vw, 40px)",fontWeight:700,color:"var(--bw-text)",marginBottom:"8px",fontFamily:"Work Sans, sans-serif"},children:je}),e.jsx("div",{style:{fontSize:"clamp(12px, 2vw, 14px)",color:"var(--bw-text)",opacity:.7,fontFamily:"Work Sans, sans-serif",fontWeight:300},children:"Completed"})]}),e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 24px)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"clamp(28px, 5vw, 40px)",fontWeight:700,color:"var(--bw-text)",marginBottom:"8px",fontFamily:"Work Sans, sans-serif"},children:Se}),e.jsx("div",{style:{fontSize:"clamp(12px, 2vw, 14px)",color:"var(--bw-text)",opacity:.7,fontFamily:"Work Sans, sans-serif",fontWeight:300},children:"Pending"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(clamp(200px, 30vw, 250px), 1fr))",gap:"clamp(12px, 2vw, 16px)"},children:[e.jsx("button",{onClick:()=>te("book-ride"),style:{padding:"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)",backgroundColor:"var(--bw-fg)",color:"var(--bw-bg)",border:"none",borderRadius:7,cursor:"pointer",fontSize:"clamp(14px, 2.5vw, 16px)",fontFamily:"Work Sans, sans-serif",fontWeight:600},children:"Book a Ride"}),e.jsx("button",{onClick:()=>te("all-bookings"),style:{padding:"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)",backgroundColor:"transparent",color:"var(--bw-text)",border:"1px solid var(--bw-border)",borderRadius:7,cursor:"pointer",fontSize:"clamp(14px, 2.5vw, 16px)",fontFamily:"Work Sans, sans-serif",fontWeight:600},children:"See All Bookings"})]}),Q.length>0&&e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 20px)"},children:[e.jsx("h2",{style:{margin:"0 0 clamp(16px, 3vw, 20px) 0",fontSize:"clamp(18px, 3vw, 22px)",fontWeight:400,fontFamily:"Work Sans, sans-serif",color:"var(--bw-text)"},children:"Recent Rides"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Q.map(t=>{var r,i;return e.jsxs("div",{style:{border:"1px solid var(--bw-border)",borderRadius:"8px",padding:"clamp(12px, 2vw, 16px)",backgroundColor:"var(--bw-bg)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px",flexWrap:"wrap",gap:"8px"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"clamp(14px, 2.5vw, 16px)",fontWeight:600,color:"var(--bw-text)",marginBottom:"4px"},children:["Booking #",t.id]}),e.jsx("div",{style:{fontSize:"clamp(10px, 1.5vw, 11px)",color:"#9ca3af",fontWeight:300},children:K(t.pickup_time)})]}),e.jsx("div",{style:{padding:"4px 12px",borderRadius:"12px",backgroundColor:((r=t.booking_status)==null?void 0:r.toLowerCase())==="pending"?"#fed7aa":X(t.booking_status)+"20",color:((i=t.booking_status)==null?void 0:i.toLowerCase())==="pending"?"#c2410c":X(t.booking_status),fontSize:"clamp(11px, 1.8vw, 12px)",fontWeight:500},children:t.booking_status})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",opacity:.8},children:[e.jsx(G,{size:14,style:{flexShrink:0,opacity:.7}}),e.jsxs("span",{children:[t.pickup_location," → ",t.dropoff_location||"N/A"]})]})]},t.id)})})]}),ee.length>0&&e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 20px)"},children:[e.jsx("h2",{style:{margin:"0 0 clamp(16px, 3vw, 20px) 0",fontSize:"clamp(18px, 3vw, 22px)",fontWeight:400,fontFamily:"Work Sans, sans-serif",color:"var(--bw-text)"},children:"Upcoming Rides"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:ee.map(t=>{var r,i;return e.jsxs("div",{style:{border:"1px solid var(--bw-border)",borderRadius:"8px",padding:"clamp(12px, 2vw, 16px)",backgroundColor:"var(--bw-bg)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px",flexWrap:"wrap",gap:"8px"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"clamp(14px, 2.5vw, 16px)",fontWeight:600,color:"var(--bw-text)",marginBottom:"4px"},children:["Booking #",t.id]}),e.jsx("div",{style:{fontSize:"clamp(10px, 1.5vw, 11px)",color:"#9ca3af",fontWeight:300},children:K(t.pickup_time)})]}),e.jsx("div",{style:{padding:"4px 12px",borderRadius:"12px",backgroundColor:((r=t.booking_status)==null?void 0:r.toLowerCase())==="pending"?"#fed7aa":X(t.booking_status)+"20",color:((i=t.booking_status)==null?void 0:i.toLowerCase())==="pending"?"#c2410c":X(t.booking_status),fontSize:"clamp(11px, 1.8vw, 12px)",fontWeight:500},children:t.booking_status})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",opacity:.8},children:[e.jsx(G,{size:14,style:{flexShrink:0,opacity:.7}}),e.jsxs("span",{children:[t.pickup_location," → ",t.dropoff_location||"N/A"]})]})]},t.id)})})]}),Q.length===0&&ee.length===0&&!d&&e.jsx("div",{style:{textAlign:"center",padding:"clamp(40px, 8vw, 60px)",color:"var(--bw-text)",opacity:.6,fontSize:"clamp(14px, 2.5vw, 16px)"},children:"No bookings yet. Book your first ride!"})]})}),u==="book-ride"&&e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 20px)",position:"relative",overflow:"visible"},children:[e.jsx("h2",{style:{margin:"0 0 clamp(16px, 3vw, 20px) 0",fontSize:"clamp(18px, 3vw, 22px)",fontWeight:400,fontFamily:"Work Sans, sans-serif",color:"var(--bw-text)"},children:"Book a Ride"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(12px, 2.5vw, 16px)",position:"relative",overflow:"visible"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(clamp(150px, 25vw, 200px), 1fr))",gap:"clamp(12px, 2.5vw, 16px)"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"clamp(13px, 2vw, 14px)",fontWeight:500,color:"var(--bw-text)"},children:"Service Type"}),e.jsxs("select",{className:"bw-input",value:o.service_type,onChange:t=>c({...o,service_type:t.target.value,airport_service:"",hours:0}),style:{width:"100%",padding:"clamp(10px, 2vw, 12px)",borderRadius:"8px",border:"1px solid var(--bw-border)",backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)"},children:[e.jsx("option",{value:"dropoff",children:"Dropoff"}),e.jsx("option",{value:"airport",children:"Airport"}),e.jsx("option",{value:"hourly",children:"Hourly"})]})]}),o.service_type==="airport"&&e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"clamp(13px, 2vw, 14px)",fontWeight:500,color:"var(--bw-text)"},children:"Airport Service *"}),e.jsxs("select",{className:"bw-input",value:o.airport_service,onChange:t=>c({...o,airport_service:t.target.value}),style:{width:"100%",padding:"clamp(10px, 2vw, 12px)",borderRadius:"8px",border:"1px solid var(--bw-border)",backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)"},children:[e.jsx("option",{value:"",children:"Select airport service"}),e.jsx("option",{value:"to_airport",children:"To Airport"}),e.jsx("option",{value:"from_airport",children:"From Airport"})]})]})]}),e.jsxs("div",{style:{position:"relative",zIndex:1},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"clamp(13px, 2vw, 14px)",fontWeight:500,color:"var(--bw-text)"},children:"Vehicle *"}),e.jsxs("select",{className:"bw-input vehicle-select",value:o.vehicle_id||"",onChange:t=>c({...o,vehicle_id:parseInt(t.target.value)||0}),required:!0,style:{width:"100%",padding:"clamp(10px, 2vw, 12px)",borderRadius:"8px",border:"1px solid var(--bw-border)",backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)",position:"relative",zIndex:10,WebkitAppearance:"menulist",appearance:"menulist",cursor:"pointer",minHeight:"44px"},children:[e.jsx("option",{value:"",children:"Select a vehicle"}),x.map(t=>{var r;return e.jsxs("option",{value:t.id,children:[t.make," ",t.model," ",t.year?`(${t.year})`:""," - ",((r=t.vehicle_category)==null?void 0:r.vehicle_category)||"N/A"]},t.id)})]})]}),e.jsx("div",{children:e.jsx(Ye,{value:o.country,onChange:t=>c({...o,country:t}),placeholder:"Enter country",label:"Country",required:!0,disabled:h||F})}),!(o.service_type==="airport"&&o.airport_service==="from_airport")&&e.jsx("div",{children:e.jsx(re,{value:o.pickup_location,onChange:t=>c({...o,pickup_location:t}),onLocationSelect:(t,r)=>{c({...o,pickup_location:t,pickup_coordinates:r||null})},placeholder:"Enter pickup address",label:"Pickup Location *",isAirportOnly:!1,disabled:h||F,country:o.country})}),o.service_type==="airport"&&o.airport_service&&e.jsx("div",{children:e.jsx(re,{value:o.airport_location,onChange:t=>c({...o,airport_location:t}),onLocationSelect:(t,r)=>{c({...o,airport_location:t,airport_coordinates:r||null})},placeholder:"Enter airport location",label:"Airport Location *",isAirportOnly:!0,disabled:h||F,country:o.country})}),!(o.service_type==="airport"&&o.airport_service==="to_airport")&&e.jsx("div",{children:e.jsx(re,{value:o.dropoff_location,onChange:t=>c({...o,dropoff_location:t}),onLocationSelect:(t,r)=>{c({...o,dropoff_location:t,dropoff_coordinates:r||null})},placeholder:"Enter dropoff address",label:o.service_type==="hourly"?"Dropoff Location (Optional)":"Dropoff Location *",isAirportOnly:!1,disabled:h||F,country:o.country})}),o.service_type==="hourly"&&e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"clamp(13px, 2vw, 14px)",fontWeight:500,color:"var(--bw-text)"},children:"Hours *"}),e.jsx("input",{className:"bw-input",type:"number",min:"1",placeholder:"Enter number of hours",value:o.hours||"",onChange:t=>c({...o,hours:parseInt(t.target.value)||0}),style:{width:"100%",padding:"clamp(10px, 2vw, 12px)",borderRadius:"8px",border:"1px solid var(--bw-border)",backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)"}})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",fontSize:"clamp(13px, 2vw, 14px)",fontWeight:500,color:"var(--bw-text)"},children:[e.jsx(Le,{size:16}),"Pickup Time *"]}),e.jsx("input",{className:"bw-input datetime-input",type:"datetime-local",value:o.pickup_time_local,onChange:t=>c({...o,pickup_time_local:t.target.value}),onClick:t=>{const r=t.currentTarget;if(r.focus(),"showPicker"in r&&typeof r.showPicker=="function")try{r.showPicker()}catch{r.focus()}},style:{width:"100%",padding:"clamp(10px, 2vw, 12px)",borderRadius:"8px",border:"1px solid var(--bw-border)",backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)",minHeight:"44px",WebkitAppearance:"none",appearance:"none",cursor:"pointer"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"clamp(13px, 2vw, 14px)",fontWeight:500,color:"var(--bw-text)"},children:"Notes (Optional)"}),e.jsx("textarea",{className:"bw-input",placeholder:"Any special instructions...",value:o.notes,onChange:t=>c({...o,notes:t.target.value}),rows:3,style:{width:"100%",padding:"clamp(10px, 2vw, 12px)",borderRadius:"8px",border:"1px solid var(--bw-border)",backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)",resize:"vertical"}})]}),e.jsx("button",{className:"bw-btn",onClick:be,disabled:h,style:{width:"100%",padding:"clamp(12px, 2.5vw, 14px) clamp(20px, 4vw, 24px)",borderRadius:7,backgroundColor:"var(--bw-fg)",color:"var(--bw-bg)",border:"none",cursor:h?"not-allowed":"pointer",fontFamily:"Work Sans, sans-serif",fontWeight:600,fontSize:"clamp(14px, 2.5vw, 16px)",opacity:h?.6:1},children:h?"Booking...":"Book Ride"})]})]}),u==="all-bookings"&&e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 20px)"},children:[e.jsx("div",{style:{display:"flex",flexDirection:R?"column":"row",justifyContent:"space-between",alignItems:R?"flex-start":"center",marginBottom:"clamp(16px, 3vw, 20px)",gap:"clamp(12px, 2vw, 16px)"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(8px, 1.5vw, 12px)",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",flexWrap:"wrap"},children:[e.jsx("label",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontWeight:300,opacity:.8},children:"Filter by:"}),e.jsxs("select",{value:U,onChange:t=>{const r=t.target.value;we(r)},disabled:d,style:{padding:"clamp(8px, 1.5vw, 10px) clamp(12px, 2vw, 16px)",border:"1px solid var(--bw-border)",borderRadius:"6px",backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:"Work Sans, sans-serif",fontWeight:300,cursor:d?"not-allowed":"pointer",opacity:d?.6:1,minWidth:"clamp(180px, 25vw, 220px)"},children:[e.jsx("option",{value:"",style:{color:"var(--bw-text)",opacity:.6,fontWeight:300},children:"Select Filter"}),e.jsxs("optgroup",{label:"Status",style:{color:"var(--bw-text)",fontWeight:400,fontStyle:"normal"},children:[e.jsx("option",{value:"status:",style:{color:"var(--bw-text)",opacity:.6,fontWeight:300},children:"All Statuses"}),e.jsx("option",{value:"status:pending",style:{color:"var(--bw-text)",fontWeight:300},children:"Pending"}),e.jsx("option",{value:"status:confirmed",style:{color:"var(--bw-text)",fontWeight:300},children:"Confirmed"}),e.jsx("option",{value:"status:completed",style:{color:"var(--bw-text)",fontWeight:300},children:"Completed"}),e.jsx("option",{value:"status:cancelled",style:{color:"var(--bw-text)",fontWeight:300},children:"Cancelled"})]}),e.jsxs("optgroup",{label:"Service Type",style:{color:"var(--bw-text)",fontWeight:400,fontStyle:"normal"},children:[e.jsx("option",{value:"service_type:",style:{color:"var(--bw-text)",opacity:.6,fontWeight:300},children:"All Service Types"}),e.jsx("option",{value:"service_type:airport",style:{color:"var(--bw-text)",fontWeight:300},children:"Airport"}),e.jsx("option",{value:"service_type:dropoff",style:{color:"var(--bw-text)",fontWeight:300},children:"Dropoff"}),e.jsx("option",{value:"service_type:hourly",style:{color:"var(--bw-text)",fontWeight:300},children:"Hourly"})]})]})]}),(a||g)&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(6px, 1.5vw, 8px)",flexWrap:"wrap"},children:[a&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"clamp(4px, 1vw, 6px) clamp(8px, 1.5vw, 12px)",backgroundColor:"var(--bw-bg)",border:"1px solid var(--bw-border)",borderRadius:"6px",fontSize:"clamp(12px, 1.8vw, 13px)",fontFamily:"Work Sans, sans-serif",fontWeight:300,color:"var(--bw-text)"},children:[e.jsxs("span",{children:["Status: ",a.charAt(0).toUpperCase()+a.slice(1)]}),e.jsx("button",{onClick:()=>ne("status"),style:{background:"none",border:"none",color:"var(--bw-text)",cursor:"pointer",padding:"0",display:"flex",alignItems:"center",opacity:.7},onMouseEnter:t=>t.currentTarget.style.opacity="1",onMouseLeave:t=>t.currentTarget.style.opacity="0.7",children:e.jsx(oe,{size:14})})]}),g&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"clamp(4px, 1vw, 6px) clamp(8px, 1.5vw, 12px)",backgroundColor:"var(--bw-bg)",border:"1px solid var(--bw-border)",borderRadius:"6px",fontSize:"clamp(12px, 1.8vw, 13px)",fontFamily:"Work Sans, sans-serif",fontWeight:300,color:"var(--bw-text)"},children:[e.jsxs("span",{children:["Service: ",g==="dropoff"?"Dropoff":g.charAt(0).toUpperCase()+g.slice(1)]}),e.jsx("button",{onClick:()=>ne("service_type"),style:{background:"none",border:"none",color:"var(--bw-text)",cursor:"pointer",padding:"0",display:"flex",alignItems:"center",opacity:.7},onMouseEnter:t=>t.currentTarget.style.opacity="1",onMouseLeave:t=>t.currentTarget.style.opacity="0.7",children:e.jsx(oe,{size:14})})]})]})]})}),d&&l.length===0?e.jsx("div",{style:{textAlign:"center",padding:"clamp(40px, 8vw, 60px)",color:"var(--bw-text)",opacity:.6,fontSize:"clamp(14px, 2.5vw, 16px)"},children:"Loading bookings..."}):l.length===0?e.jsx("div",{style:{textAlign:"center",padding:"clamp(40px, 8vw, 60px)",color:"var(--bw-text)",opacity:.6,fontSize:"clamp(14px, 2.5vw, 16px)"},children:"No bookings yet. Book your first ride!"}):e.jsxs(e.Fragment,{children:[d&&l.length>0&&e.jsx("div",{style:{textAlign:"center",padding:"clamp(20px, 4vw, 30px)",color:"var(--bw-text)",opacity:.6,fontSize:"clamp(14px, 2.5vw, 16px)",marginBottom:"clamp(12px, 2.5vw, 16px)"},children:"Loading..."}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(12px, 2.5vw, 16px)"},children:l.map(t=>e.jsxs("div",{style:{border:"1px solid var(--bw-border)",borderRadius:"8px",padding:"clamp(12px, 2.5vw, 16px)",backgroundColor:"var(--bw-bg)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px",flexWrap:"wrap",gap:"8px"},children:[e.jsx("div",{children:e.jsxs("div",{style:{fontSize:"clamp(16px, 3vw, 18px)",fontWeight:600,color:"var(--bw-text)",marginBottom:"4px"},children:["Booking #",t.id]})}),t.booking_status&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"8px",backgroundColor:Z(t.booking_status)+"20",border:`1px solid ${Z(t.booking_status)}`,fontSize:"clamp(11px, 1.8vw, 12px)",fontFamily:"Work Sans, sans-serif",fontWeight:500,color:Z(t.booking_status)},children:[he(t.booking_status),e.jsx("span",{style:{textTransform:"capitalize"},children:t.booking_status})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(10px, 2vw, 12px)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsx(G,{size:16,style:{marginTop:"2px",color:"var(--bw-text)",opacity:.7}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Pickup"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:t.pickup_location}),e.jsx("div",{style:{fontSize:"clamp(10px, 1.5vw, 11px)",color:"#9ca3af",fontWeight:300,marginTop:"4px"},children:K(t.pickup_time)})]})]}),t.dropoff_location&&e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsx(G,{size:16,style:{marginTop:"2px",color:"var(--bw-text)",opacity:.7}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Dropoff"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:t.dropoff_location}),t.dropoff_time&&e.jsx("div",{style:{fontSize:"clamp(10px, 1.5vw, 11px)",color:"#9ca3af",fontWeight:300,marginTop:"4px"},children:K(t.dropoff_time)})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(clamp(120px, 20vw, 150px), 1fr))",gap:"clamp(10px, 2vw, 12px)",marginTop:"8px",paddingTop:"12px",borderTop:"1px solid var(--bw-border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Service"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif",textTransform:"capitalize"},children:t.service_type})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Payment"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif",textTransform:"capitalize"},children:t.payment_method})]}),t.estimated_price>0&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Price"}),e.jsxs("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:["$",t.estimated_price.toFixed(2)]})]}),t.vehicle&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Vehicle"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:t.vehicle})]}),t.driver_name&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Driver"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:t.driver_name})]})]}),t.notes&&e.jsxs("div",{style:{marginTop:"8px",padding:"clamp(10px, 2vw, 12px)",backgroundColor:"var(--bw-bg)",borderRadius:"6px",fontSize:"clamp(12px, 2vw, 14px)",color:"var(--bw-text)",opacity:.8},children:[e.jsx("strong",{children:"Notes:"})," ",t.notes]})]})]},t.id))}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"clamp(8px, 2vw, 12px)",marginTop:"clamp(16px, 3vw, 24px)"},children:[!k&&l.length>0&&e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",opacity:.7,fontFamily:"Work Sans, sans-serif",textAlign:"center"},children:"That's all your bookings so far"}),e.jsx("button",{onClick:ye,disabled:d||!k,style:{padding:"clamp(12px, 2.5vw, 16px) clamp(24px, 4vw, 32px)",backgroundColor:"var(--bw-fg)",color:"var(--bw-bg)",border:"none",borderRadius:"8px",cursor:d||!k?"not-allowed":"pointer",fontSize:"clamp(14px, 2.5vw, 16px)",fontFamily:"Work Sans, sans-serif",fontWeight:600,opacity:d||!k?.4:1,filter:k?"none":"blur(0.5px)",transition:"opacity 0.2s ease, filter 0.2s ease"},onMouseEnter:t=>{!d&&k&&(t.currentTarget.style.opacity="0.9")},onMouseLeave:t=>{!d&&k&&(t.currentTarget.style.opacity="1")},children:d?"Loading...":"Show More"})]})]})]}),u==="vehicles"&&e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 20px)"},children:[e.jsx("h2",{style:{margin:"0 0 clamp(16px, 3vw, 20px) 0",fontSize:"clamp(18px, 3vw, 22px)",fontWeight:400,fontFamily:"Work Sans, sans-serif",color:"var(--bw-text)"},children:"Vehicles"}),F&&x.length===0?e.jsx("div",{style:{textAlign:"center",padding:"clamp(40px, 8vw, 60px)",color:"var(--bw-text)",opacity:.6,fontSize:"clamp(14px, 2.5vw, 16px)"},children:"Loading vehicles..."}):x.length===0?e.jsx("div",{style:{textAlign:"center",padding:"clamp(40px, 8vw, 60px)",color:"var(--bw-text)",opacity:.6,fontSize:"clamp(14px, 2.5vw, 16px)"},children:"No vehicles available."}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(clamp(250px, 35vw, 300px), 1fr))",gap:"clamp(12px, 2.5vw, 16px)"},children:x.map(t=>{var r;return e.jsxs("div",{style:{border:"1px solid var(--bw-border)",borderRadius:"8px",padding:"clamp(12px, 2.5vw, 16px)",backgroundColor:"var(--bw-bg)"},children:[t.vehicle_images&&Object.keys(t.vehicle_images).length>0&&e.jsx("div",{style:{marginBottom:"clamp(12px, 2vw, 16px)",overflowX:"auto",overflowY:"hidden",scrollBehavior:"smooth",scrollbarWidth:"thin",scrollbarColor:"var(--bw-border) var(--bw-bg)",WebkitOverflowScrolling:"touch"},children:e.jsx("div",{style:{display:"flex",gap:"clamp(8px, 1.5vw, 12px)",paddingBottom:"4px"},children:Object.entries(t.vehicle_images).map(([i,z])=>e.jsx("img",{src:z,alt:`${t.make} ${t.model} - ${i.replace("_"," ")}`,style:{minWidth:"clamp(120px, 25vw, 180px)",width:"clamp(120px, 25vw, 180px)",height:"clamp(90px, 20vw, 135px)",objectFit:"cover",borderRadius:"6px",border:"1px solid var(--bw-border)",flexShrink:0},onError:C=>{C.currentTarget.style.display="none"}},i))})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[e.jsx(Re,{size:24,style:{color:"var(--bw-text)",opacity:.7}}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontSize:"clamp(16px, 3vw, 18px)",fontWeight:600,color:"var(--bw-text)",marginBottom:"4px"},children:[t.make," ",t.model]}),t.year&&e.jsx("div",{style:{fontSize:"clamp(12px, 2vw, 13px)",color:"var(--bw-text)",opacity:.7},children:t.year})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",paddingTop:"12px",borderTop:"1px solid var(--bw-border)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"clamp(12px, 2vw, 13px)"},children:[e.jsx("span",{style:{color:"var(--bw-text)",opacity:.7},children:"Category:"}),e.jsx("span",{style:{color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:((r=t.vehicle_category)==null?void 0:r.vehicle_category)||"N/A"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"clamp(12px, 2vw, 13px)"},children:[e.jsx("span",{style:{color:"var(--bw-text)",opacity:.7},children:"Seating:"}),e.jsx("span",{style:{color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:t.seating_capacity||"N/A"})]}),t.license_plate&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"clamp(12px, 2vw, 13px)"},children:[e.jsx("span",{style:{color:"var(--bw-text)",opacity:.7},children:"License:"}),e.jsx("span",{style:{color:"var(--bw-text)",fontWeight:500},children:t.license_plate})]}),t.color&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"clamp(12px, 2vw, 13px)"},children:[e.jsx("span",{style:{color:"var(--bw-text)",opacity:.7},children:"Color:"}),e.jsx("span",{style:{color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:t.color})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"clamp(12px, 2vw, 13px)"},children:[e.jsx("span",{style:{color:"var(--bw-text)",opacity:.7},children:"Status:"}),e.jsx("span",{style:{color:t.status==="active"?"#10b981":"#6b7280",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:t.status||"N/A"})]})]})]},t.id)})})]})]}),e.jsx("style",{children:`
        /* Stats Grid: 2x2 on mobile, 3 columns on desktop */
        @media (max-width: 768px) {
          .rider-stats-grid {
            grid-template-columns: repeat(2, 1fr) !important;
          }
          
          .datetime-inputs-container {
            grid-template-columns: 1fr !important;
          }
        }
        
        @media (min-width: 769px) {
          .rider-stats-grid {
            grid-template-columns: repeat(3, 1fr) !important;
          }
        }
        
        /* Ensure datetime-local inputs work properly on all devices */
        input[type="datetime-local"] {
          position: relative;
          z-index: 1;
        }
        
        /* Mobile-specific datetime input styling */
        @media (max-width: 768px) {
          input[type="datetime-local"] {
            font-size: 16px !important; /* Prevents zoom on iOS */
            padding: 12px !important;
            min-height: 44px !important; /* Touch-friendly size */
          }
          
          /* Ensure calendar picker is accessible */
          input[type="datetime-local"]::-webkit-calendar-picker-indicator {
            padding: 4px;
            cursor: pointer;
            opacity: 0.8;
          }
          
          input[type="datetime-local"]::-webkit-calendar-picker-indicator:hover {
            opacity: 1;
          }
        }
        
        /* Ensure calendar picker displays properly */
        input[type="datetime-local"]::-webkit-calendar-picker-indicator {
          cursor: pointer;
          opacity: 0.7;
          padding: 4px;
        }
        
        input[type="datetime-local"]::-webkit-calendar-picker-indicator:hover {
          opacity: 1;
        }
        
        /* iOS-specific select dropdown fixes */
        select.vehicle-select {
          position: relative !important;
          z-index: 10 !important;
          -webkit-appearance: menulist !important;
          appearance: menulist !important;
        }
        
        /* Ensure select dropdown works on iOS */
        @media (max-width: 768px) {
          select.vehicle-select {
            font-size: 16px !important; /* Prevents zoom on iOS */
            min-height: 44px !important; /* Touch-friendly size */
            padding: 12px 40px 12px 12px !important; /* Extra padding for dropdown arrow */
            -webkit-appearance: menulist !important;
            appearance: menulist !important;
            background-image: none !important;
            position: relative !important;
            z-index: 10 !important;
          }
          
          /* Ensure parent containers don't clip the dropdown */
          select.vehicle-select:focus {
            z-index: 1000 !important;
            position: relative !important;
          }
        }
        
        /* Fix for iOS Safari select dropdown visibility */
        @supports (-webkit-touch-callout: none) {
          select.vehicle-select {
            -webkit-appearance: menulist !important;
            appearance: menulist !important;
            position: relative !important;
            z-index: 10 !important;
          }
          
          select.vehicle-select:active,
          select.vehicle-select:focus {
            z-index: 1000 !important;
            position: relative !important;
          }
          
          /* Ensure parent containers don't create stacking contexts that clip dropdowns */
          .rider-main-content {
            overflow: visible !important;
          }
          
          /* Allow select dropdown to escape container bounds on iOS */
          select.vehicle-select {
            transform: translateZ(0);
            -webkit-transform: translateZ(0);
          }
        }
        
        /* Additional iOS fix: ensure select is clickable and dropdown appears */
        @media (max-width: 768px) {
          select.vehicle-select {
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
          }
          
          /* Prevent parent from clipping dropdown */
          .rider-main-content > div {
            overflow: visible !important;
          }
        }
      `})]})}export{pt as default};
