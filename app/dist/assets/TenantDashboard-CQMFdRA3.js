import{j as e,S as gi,h as bi,r as l,i as hi,T as wi,X as Ba,C as Da,k as ba,U as ha,l as ui,m as yi,o as wa,p as me,d as ee,q as ji,t as ys,u as js,n as Ss,v as ua,w as ya,x as Si,y as ja,z as Sa,B as ki,D as Ci,F as ka,G as Ca,H as Us,b as Rs,J as Wa,K as Wi,N as Na,O as Le,P as Ni,Q as zi,s as za}from"./react-vendor-JE9gdlBQ.js";import{a as _i,u as Ee,r as Fi,b as Ii,d as Ti,e as Bi,g as Di,f as Ri,h as _a,i as Ai,j as Mi,k as As,m as Li,o as Ei,n as Hi,p as $i,q as Fa,s as Vi}from"./index-DaAC2zqA.js";import{g as Pi,a as Ui,u as Oi,c as Yi,b as qi,s as Qi,d as Ki,e as Gi}from"./vehicles-CkZMpXtf.js";import{j as Xi}from"./utils-2shQNo7D.js";import{b as Ra,a as Ji}from"./router-DL0rZlEF.js";import{v as Zi,g as er}from"./vehicleData-BAhqvYk7.js";import"./vendor-C1Py2TwH.js";function sr(){const{theme:_,setTheme:j,isDark:m}=_i(),R=()=>{j(m?"light":"dark")};return e.jsx("button",{onClick:R,style:{background:"transparent",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--bw-text)",transition:"opacity 0.2s ease"},onMouseEnter:p=>{p.currentTarget.style.opacity="0.7"},onMouseLeave:p=>{p.currentTarget.style.opacity="1"},"aria-label":m?"Switch to light mode":"Switch to dark mode",title:m?"Switch to light mode":"Switch to dark mode",children:m?e.jsx(gi,{className:"w-5 h-5",style:{width:"20px",height:"20px"}}):e.jsx(bi,{className:"w-5 h-5",style:{width:"20px",height:"20px"}})})}function tr({vehicleId:_,isOpen:j,onClose:m,onVehicleUpdated:R,onDelete:p}){var Ve;const[g,F]=l.useState(null),[Q,y]=l.useState(!0),[N,S]=l.useState(!1),[H,I]=l.useState(null),[u,b]=l.useState(!1),[A,re]=l.useState(new Map),[O,$]=l.useState(!1),ks=l.useRef(new Map),[V,Cs]=l.useState(0),L=l.useRef(null),[t,Ws]=l.useState(window.innerWidth<=844);l.useEffect(()=>{const v=()=>{Ws(window.innerWidth<=844)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),l.useEffect(()=>{j&&_&&(He(),Cs(0),re(new Map))},[j,_]);const He=async()=>{try{y(!0),I(null);const v=await Pi(_).catch(()=>({success:!1,data:null}));v.success&&v.data?F(v.data):I("Failed to load vehicle data. Please try again.")}catch(v){console.error("Failed to load vehicle:",v),I("Failed to load vehicle data. Please try again.")}finally{y(!1)}};l.useEffect(()=>{j&&(async()=>{var C;try{const k=await Ui();k.success&&((C=k.data)!=null&&C.allowed_image_types)&&Ns(k.data.allowed_image_types)}catch(k){console.error("Failed to load image types:",k)}})()},[j]);const[E,Ns]=l.useState([]),Ls=v=>v.type.startsWith("image/"),le=v=>v.split("_").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" "),zs=v=>C=>{var z;const k=(z=C.target.files)==null?void 0:z[0];if(k){if(!Ls(k)){I("Please select a valid image file");return}if(k.size>5*1024*1024){I("Image file size must be less than 5MB");return}I(null);const D=new FileReader;D.onload=ne=>{var Pe;const M=(Pe=ne.target)==null?void 0:Pe.result;re(B=>{const ve=new Map(B);return ve.set(v,{file:k,preview:M,type:v}),ve})},D.readAsDataURL(k)}},T=v=>{const C=ks.current.get(v);C&&C.click()},$e=async()=>{var v,C;if(A.size===0||!g){I("Please select at least one image to upload");return}$(!0),I(null);try{const k=[],z=[];A.forEach((ne,M)=>{k.push(ne.file),z.push(M)});const D=await Oi(_,k,z);if(D.success)b(!0),re(new Map),await He(),setTimeout(()=>{b(!1)},3e3);else throw new Error(D.message||"Failed to upload images")}catch(k){console.error("Failed to upload image:",k),I(((C=(v=k.response)==null?void 0:v.data)==null?void 0:C.detail)||k.message||"Failed to upload image. Please try again.")}finally{$(!1)}},Ne=()=>{Q||N||O||m()};return j?e.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:t?"clamp(12px, 2vw, 16px)":"20px"},children:e.jsxs("div",{className:"bw-card",style:{maxWidth:t?"100%":"900px",width:"100%",maxHeight:t?"95vh":"90vh",overflow:"auto",position:"relative",borderRadius:"clamp(8px, 1.5vw, 12px)"},children:[e.jsxs("div",{className:"bw-card-header",style:{display:"flex",flexDirection:t?"column":"row",alignItems:t?"flex-start":"center",justifyContent:"space-between",borderBottom:"1px solid var(--bw-border)",padding:t?"clamp(16px, 3vw, 24px)":"16px 24px",gap:t?"clamp(12px, 2vw, 16px)":"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(12px, 2vw, 16px)",flex:1,width:"100%"},children:[e.jsx("div",{style:{width:t?"clamp(36px, 5vw, 40px)":40,height:t?"clamp(36px, 5vw, 40px)":40,border:"1px solid var(--bw-border-strong)",display:"grid",placeItems:"center",borderRadius:2,flexShrink:0},children:e.jsx(hi,{size:20,style:{width:t?"clamp(18px, 2.5vw, 20px)":20,height:t?"clamp(18px, 2.5vw, 20px)":20,fontWeight:300}})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("h3",{style:{margin:0,fontSize:t?"clamp(24px, 4vw, 32px)":"40px",fontFamily:"DM Sans, sans-serif",fontWeight:200,lineHeight:1.2},children:"Edit Vehicle"}),e.jsx("p",{className:"small-muted",style:{margin:"clamp(4px, 1vw, 8px) 0 0 0",fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(14px, 2vw, 16px)":"16px",fontWeight:300},children:"Update vehicle information and image"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",width:t?"100%":"auto"},children:[p&&g&&e.jsxs("button",{type:"button",onClick:()=>{p(g.id),Ne()},disabled:N||O,style:{display:"flex",alignItems:"center",gap:"clamp(6px, 1.5vw, 8px)",padding:t?"clamp(10px, 2vw, 12px) clamp(14px, 3vw, 16px)":"8px 16px",fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"14px",backgroundColor:"var(--bw-bg-secondary)",color:"#dc2626",border:"1px solid #dc2626",borderRadius:"clamp(4px, 1vw, 6px)",cursor:N||O?"not-allowed":"pointer",opacity:N||O?.5:1,transition:"opacity 0.2s",flex:t?1:"none"},children:[e.jsx(wi,{size:18,style:{width:t?"clamp(16px, 2.5vw, 18px)":18,height:t?"clamp(16px, 2.5vw, 18px)":18,fontWeight:300}}),e.jsx("span",{children:"Delete"})]}),e.jsx("button",{onClick:Ne,className:"bw-btn-icon",disabled:Q||N||O,style:{border:"none",background:"transparent",width:t?"clamp(36px, 5vw, 40px)":"auto",height:t?"clamp(36px, 5vw, 40px)":"auto",minWidth:t?"clamp(36px, 5vw, 40px)":"auto"},children:e.jsx(Ba,{size:20,style:{width:t?"clamp(18px, 2.5vw, 20px)":20,height:t?"clamp(18px, 2.5vw, 20px)":20,fontWeight:300}})})]})]}),Q?e.jsxs("div",{style:{textAlign:"center",padding:t?"clamp(32px, 5vw, 48px) clamp(16px, 3vw, 24px)":"48px 24px"},children:[e.jsx("div",{className:"bw-loading-spinner",style:{width:t?"clamp(24px, 4vw, 32px)":"32px",height:t?"clamp(24px, 4vw, 32px)":"32px",margin:"0 auto clamp(12px, 2vw, 16px)"}}),e.jsx("p",{style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(14px, 2vw, 16px)":"16px"},children:"Loading vehicle data..."})]}):H?e.jsxs("div",{style:{padding:t?"clamp(20px, 3vw, 24px)":"24px",textAlign:"center",color:"#dc2626",fontFamily:"Work Sans, sans-serif"},children:[e.jsx(Da,{size:48,style:{width:t?"clamp(32px, 5vw, 48px)":48,height:t?"clamp(32px, 5vw, 48px)":48,marginBottom:"clamp(12px, 2vw, 16px)",fontWeight:300}}),e.jsx("p",{style:{fontSize:t?"clamp(14px, 2vw, 16px)":"16px"},children:H}),e.jsx("button",{className:"bw-btn-outline",onClick:He,style:{marginTop:"clamp(12px, 2vw, 16px)",fontFamily:"Work Sans, sans-serif",padding:t?"clamp(10px, 2vw, 12px) clamp(16px, 3vw, 20px)":"8px 16px",fontSize:t?"clamp(14px, 2vw, 16px)":"14px"},children:"Try Again"})]}):g?e.jsxs("div",{style:{padding:t?"clamp(16px, 3vw, 24px)":"24px"},children:[u&&e.jsxs("div",{style:{marginBottom:t?"clamp(16px, 3vw, 24px)":24,padding:"clamp(10px, 2vw, 12px)",backgroundColor:"#dcfce7",border:"1px solid #bbf7d0",borderRadius:"clamp(4px, 1vw, 6px)",color:"#166534",fontSize:t?"clamp(12px, 1.5vw, 14px)":"14px",display:"flex",alignItems:"center",gap:"clamp(6px, 1.5vw, 8px)",fontFamily:"Work Sans, sans-serif"},children:[e.jsx(ba,{size:16,style:{width:t?"clamp(14px, 2vw, 16px)":16,height:t?"clamp(14px, 2vw, 16px)":16,fontWeight:300}}),"Image updated successfully!"]}),e.jsxs("div",{style:{marginBottom:t?"clamp(24px, 4vw, 32px)":32},children:[e.jsx("h4",{style:{margin:"0 0 clamp(12px, 2vw, 16px) 0",fontSize:t?"clamp(16px, 2.5vw, 20px)":"16px",fontFamily:"Work Sans, sans-serif",fontWeight:300},children:"Vehicle Images"}),E.length===0?e.jsx("div",{style:{textAlign:"center",padding:t?"clamp(20px, 3vw, 24px)":"24px",color:"#6b7280",fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(14px, 2vw, 16px)":"16px"},children:"Loading image types..."}):e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{ref:L,style:{display:"flex",gap:t?"clamp(8px, 1.5vw, 12px)":"6px",overflowX:"auto",overflowY:"hidden",scrollBehavior:"smooth",padding:t?"clamp(8px, 1.5vw, 12px) 0":"8px 0",scrollbarWidth:"thin",scrollbarColor:"var(--bw-border) var(--bw-bg)"},onScroll:v=>{const k=v.currentTarget.scrollLeft,z=t?Math.min(Math.max(150,window.innerWidth*.25),225)+12:231,D=Math.round(k/z);Cs(D)},children:E.map(v=>{var ne;const C=A.get(v),k=(ne=g.vehicle_images)==null?void 0:ne[v],z=!!(C||k),D=t?"clamp(150px, 25vw, 225px)":"225px";return e.jsxs("div",{style:{minWidth:D,width:D,height:D,position:"relative",flexShrink:0,border:"2px solid var(--bw-border)",borderRadius:t?"clamp(6px, 1.5vw, 8px)":"8px",overflow:"hidden",backgroundColor:"var(--bw-bg-secondary)",cursor:"pointer",transition:"border-color 0.2s"},onMouseEnter:M=>{M.currentTarget.style.borderColor="var(--bw-accent)"},onMouseLeave:M=>{M.currentTarget.style.borderColor="var(--bw-border)"},onClick:()=>T(v),children:[z?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:(C==null?void 0:C.preview)||k,alt:le(v),style:{width:"100%",height:"100%",objectFit:"cover"},onError:M=>{M.currentTarget.style.display="none"}}),C&&e.jsx("div",{style:{position:"absolute",top:t?"clamp(4px, 1vw, 6px)":"4px",right:t?"clamp(4px, 1vw, 6px)":"4px",background:"var(--bw-success, #1E7F4A)",borderRadius:"50%",width:t?"clamp(18px, 3vw, 20px)":"20px",height:t?"clamp(18px, 3vw, 20px)":"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ba,{size:12,style:{width:t?"clamp(10px, 2vw, 12px)":12,height:t?"clamp(10px, 2vw, 12px)":12,color:"white"}})})]}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:t?"clamp(6px, 1.5vw, 8px)":"8px",padding:t?"clamp(10px, 2vw, 12px)":"12px",textAlign:"center"},children:[e.jsx(ha,{size:24,style:{width:t?"clamp(20px, 3vw, 24px)":24,height:t?"clamp(20px, 3vw, 24px)":24,color:"var(--bw-muted)",fontWeight:300}}),e.jsx("span",{style:{fontSize:t?"clamp(10px, 1.5vw, 11px)":"11px",color:"var(--bw-muted)",lineHeight:"1.2",fontFamily:"Work Sans, sans-serif"},children:le(v)})]}),e.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.7), transparent)",padding:t?"clamp(6px, 1.5vw, 8px)":"8px",color:"white",fontSize:t?"clamp(9px, 1.3vw, 10px)":"10px",fontWeight:300,textAlign:"center",fontFamily:"Work Sans, sans-serif"},children:le(v)}),e.jsx("input",{ref:M=>{M&&ks.current.set(v,M)},type:"file",accept:"image/*",onChange:zs(v),style:{display:"none"}})]},v)})}),E.length>(t?2:4)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{if(L.current){const v=t?Math.min(Math.max(150,window.innerWidth*.25),225)+12:231,C=Math.max(0,L.current.scrollLeft-v*(t?2:3));L.current.scrollLeft=C}},disabled:V===0,style:{position:"absolute",left:t?"clamp(-12px, -2vw, -8px)":"-20px",top:"50%",transform:"translateY(-50%)",background:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"50%",width:t?"clamp(32px, 5vw, 36px)":"36px",height:t?"clamp(32px, 5vw, 36px)":"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:V===0?"not-allowed":"pointer",zIndex:10,color:"var(--bw-text)",opacity:V===0?.5:1},children:e.jsx(ui,{size:20,style:{width:t?"clamp(16px, 2.5vw, 20px)":20,height:t?"clamp(16px, 2.5vw, 20px)":20,fontWeight:300}})}),e.jsx("button",{onClick:()=>{if(L.current){const v=t?Math.min(Math.max(150,window.innerWidth*.25),225)+12:231,C=L.current.scrollWidth-L.current.clientWidth,k=Math.min(C,L.current.scrollLeft+v*(t?2:3));L.current.scrollLeft=k}},disabled:V>=E.length-(t?2:4),style:{position:"absolute",right:t?"clamp(-12px, -2vw, -8px)":"-20px",top:"50%",transform:"translateY(-50%)",background:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"50%",width:t?"clamp(32px, 5vw, 36px)":"36px",height:t?"clamp(32px, 5vw, 36px)":"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:V>=E.length-(t?2:4)?"not-allowed":"pointer",zIndex:10,color:"var(--bw-text)",opacity:V>=E.length-(t?2:4)?.5:1},children:e.jsx(yi,{size:20,style:{width:t?"clamp(16px, 2.5vw, 20px)":20,height:t?"clamp(16px, 2.5vw, 20px)":20,fontWeight:300}})})]})]}),A.size>0&&e.jsxs("div",{style:{display:"flex",flexDirection:t?"column":"row",gap:t?"clamp(12px, 2vw, 16px)":"16px",justifyContent:"center",marginTop:"clamp(12px, 2vw, 16px)",width:"100%"},children:[e.jsx("button",{type:"button",className:"bw-btn-outline",onClick:()=>re(new Map),disabled:O,style:{fontFamily:"Work Sans, sans-serif",padding:t?"clamp(12px, 2.5vw, 14px) clamp(20px, 4vw, 24px)":"8px 16px",fontSize:t?"clamp(14px, 2vw, 16px)":"14px",width:t?"100%":"auto"},children:"Clear All"}),e.jsx("button",{type:"button",className:"bw-btn bw-btn-action",onClick:$e,disabled:O,style:{fontFamily:"Work Sans, sans-serif",padding:t?"clamp(12px, 2.5vw, 14px) clamp(20px, 4vw, 24px)":"8px 16px",fontSize:t?"clamp(14px, 2vw, 16px)":"14px",width:t?"100%":"auto",display:"flex",alignItems:"center",justifyContent:"center",gap:"clamp(6px, 1.5vw, 8px)"},children:O?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bw-loading-spinner",style:{width:t?"clamp(14px, 2vw, 16px)":"16px",height:t?"clamp(14px, 2vw, 16px)":"16px"}}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ha,{className:"w-4 h-4",style:{width:t?"clamp(16px, 2.5vw, 18px)":18,height:t?"clamp(16px, 2.5vw, 18px)":18,fontWeight:300}}),"Upload ",A.size," Image",A.size!==1?"s":""]})})]})]}),e.jsxs("div",{style:{borderTop:"1px solid var(--bw-border)",paddingTop:t?"clamp(16px, 3vw, 24px)":"24px",marginTop:t?"clamp(16px, 3vw, 24px)":"24px"},children:[e.jsx("h4",{style:{margin:"0 0 clamp(12px, 2vw, 16px) 0",fontSize:t?"clamp(16px, 2.5vw, 20px)":"16px",fontFamily:"Work Sans, sans-serif",fontWeight:300},children:"Vehicle Information"}),e.jsxs("div",{className:"bw-info-grid",style:{display:"grid",gap:t?"clamp(12px, 2vw, 16px)":"16px",gridTemplateColumns:t?"1fr":"1fr 1fr"},children:[e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"Make:"}),e.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px"},children:g.make})]}),e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"Model:"}),e.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px"},children:g.model})]}),e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"Year:"}),e.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px"},children:g.year||"Not specified"})]}),e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"Color:"}),e.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px"},children:g.color||"Not specified"})]}),e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"License Plate:"}),e.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px"},children:g.license_plate||"Not specified"})]}),e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"Status:"}),e.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px"},children:g.status||"Unknown"})]}),e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"Category:"}),e.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px"},children:((Ve=g.vehicle_category)==null?void 0:Ve.vehicle_category)||"Not set"})]}),e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:g.driver?"1px solid var(--bw-border)":"none"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"Seating Capacity:"}),e.jsxs("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px"},children:[g.seating_capacity||"Not set"," seats"]})]})]})]}),g.driver&&e.jsxs("div",{style:{borderTop:"1px solid var(--bw-border)",paddingTop:t?"clamp(16px, 3vw, 24px)":"24px",marginTop:t?"clamp(16px, 3vw, 24px)":"24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",marginBottom:t?"clamp(12px, 2vw, 16px)":"16px"},children:[e.jsx(wa,{size:20,style:{width:t?"clamp(18px, 2.5vw, 20px)":20,height:t?"clamp(18px, 2.5vw, 20px)":20,color:"var(--bw-text)",opacity:.7}}),e.jsx("h4",{style:{margin:0,fontSize:t?"clamp(16px, 2.5vw, 20px)":"16px",fontFamily:"Work Sans, sans-serif",fontWeight:300},children:"Assigned Driver"})]}),e.jsxs("div",{className:"bw-info-grid",style:{display:"grid",gap:t?"clamp(12px, 2vw, 16px)":"16px",gridTemplateColumns:t?"1fr":"1fr 1fr"},children:[e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"Driver Name:"}),e.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px"},children:g.driver.full_name})]}),e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"Driver Type:"}),e.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px",textTransform:"capitalize"},children:g.driver.driver_type==="in_house"?"In-House":"Outsourced"})]}),e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"Status:"}),e.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px",color:g.driver.is_active?"#10b981":"#6b7280",textTransform:"capitalize"},children:g.driver.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"Registration:"}),e.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px",textTransform:"capitalize"},children:g.driver.is_registered==="registered"?"Registered":"Pending"})]}),e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"Completed Rides:"}),e.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px"},children:g.driver.completed_rides||0})]}),g.driver.status&&e.jsxs("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"none"},children:[e.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(12px, 1.5vw, 14px)":"13px"},children:"Driver Status:"}),e.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:t?"clamp(14px, 2vw, 16px)":"14px",textTransform:"capitalize"},children:g.driver.status})]}),!g.driver.status&&e.jsx("div",{className:"bw-info-item",style:{padding:t?"clamp(10px, 2vw, 12px) 0":"12px 0",borderBottom:"none"}})]})]}),!g.driver&&e.jsxs("div",{style:{borderTop:"1px solid var(--bw-border)",paddingTop:t?"clamp(16px, 3vw, 24px)":"24px",marginTop:t?"clamp(16px, 3vw, 24px)":"24px",textAlign:"center",color:"var(--bw-muted)",fontFamily:"Work Sans, sans-serif",fontSize:t?"clamp(14px, 2vw, 16px)":"16px"},children:[e.jsx(wa,{size:24,style:{width:t?"clamp(20px, 3vw, 24px)":24,height:t?"clamp(20px, 3vw, 24px)":24,marginBottom:"clamp(8px, 1.5vw, 12px)",opacity:.5,margin:"0 auto clamp(8px, 1.5vw, 12px)"}}),e.jsx("p",{style:{margin:0},children:"No driver assigned to this vehicle"})]}),e.jsx("div",{style:{display:"flex",gap:t?"clamp(12px, 2vw, 16px)":"16px",justifyContent:"flex-end",borderTop:"1px solid var(--bw-border)",paddingTop:t?"clamp(16px, 3vw, 24px)":"24px",marginTop:t?"clamp(16px, 3vw, 24px)":"24px"},children:e.jsx("button",{type:"button",className:"bw-btn-outline",onClick:Ne,disabled:N||O,style:{fontFamily:"Work Sans, sans-serif",padding:t?"clamp(12px, 2.5vw, 14px) clamp(20px, 4vw, 24px)":"8px 16px",fontSize:t?"clamp(14px, 2vw, 16px)":"14px",width:t?"100%":"auto"},children:"Close"})})]}):null]})}):null}function ar(){const{accessToken:_,role:j,setAccessToken:m,logout:R}=Ee(),p=Ra(),[g,F]=l.useState(!1),[Q,y]=l.useState(null),[N,S]=l.useState(!1);l.useEffect(()=>{if(!_||j!=="tenant"){F(!1);return}const u=()=>{try{const A=Xi(_);if(!A.exp){F(!1);return}const re=Date.now()/1e3,$=A.exp-re;$<=0?(S(!0),F(!0),y(0)):$<=300?(S(!1),F(!0),y(Math.floor($))):(F(!1),S(!1))}catch(A){console.error("Error checking token expiration:",A),F(!1)}};u();const b=setInterval(u,3e4);return()=>{clearInterval(b)}},[_,j]),l.useEffect(()=>{if(!g||N||Q===null)return;const u=setInterval(()=>{y(b=>b===null||b<=0?(S(!0),0):b-1)},1e3);return()=>{clearInterval(u)}},[g,N,Q]);const H=async()=>{try{const u=await Fi();u.access_token&&(m(u.access_token),F(!1),S(!1),y(null))}catch(u){console.error("Failed to refresh token:",u),R(),p("/login")}},I=u=>{if(u<=0)return"0 seconds";const b=Math.floor(u/60),A=u%60;return b>0?`${b} minute${b!==1?"s":""} ${A} second${A!==1?"s":""}`:`${A} second${A!==1?"s":""}`};return g?e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,zIndex:1e4,backgroundColor:N?"var(--bw-error, #C5483D)":"var(--bw-warning, #B8871B)",color:"#ffffff",padding:"16px 24px",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",fontFamily:'"Work Sans", sans-serif'},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[e.jsx(Da,{className:"w-5 h-5",style:{flexShrink:0}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:"4px",fontSize:"15px"},children:N?"Your session has expired":"Your session is about to expire"}),e.jsx("div",{style:{fontSize:"13px",opacity:.95},children:N?"Please refresh your session to continue using the dashboard.":`Your access token will expire in ${I(Q||0)}. Please refresh your session.`})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("button",{onClick:H,style:{backgroundColor:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"#ffffff",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontWeight:500,fontSize:"14px",transition:"all 0.2s ease"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.3)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)"},children:N?"Refresh Session":"Refresh Now"}),e.jsx("button",{onClick:()=>F(!1),style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",transition:"background 0.2s ease"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="transparent"},children:e.jsx(Ba,{className:"w-5 h-5"})})]})]}):null}const ir=[/<script/i,/javascript:/i,/on\w+\s*=/i,/eval\(/i,/expression\(/i,/vbscript:/i,/data:text\/html/i,/&#x/i,/%[0-9a-f]{2}/i,/union\s+select/i,/drop\s+table/i,/delete\s+from/i,/insert\s+into/i,/update\s+set/i,/exec\(/i,/system\(/i,/\.\.\//,/\.\.\\/,/\${.*}/,/\{\{.*\}\}/],Ms=200,Ia=1;function Ta(_){const j=[];let m=_,R=!1;if(_==null)return{isValid:!1,sanitized:"",isSuspicious:!1,warnings:["Query is null or undefined"]};if(m=String(_),m.length>Ms&&(j.push(`Query exceeds maximum length of ${Ms} characters`),m=m.slice(0,Ms)),m.trim().length<Ia)return{isValid:!1,sanitized:m.trim(),isSuspicious:!1,warnings:["Query is too short"]};m=m.trim();for(const p of ir)p.test(m)&&(R=!0,j.push(`Suspicious pattern detected: ${p.toString()}`),m=m.replace(p,""));return m=m.replace(/<[^>]*>/g,""),m=m.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g,""),m=m.replace(/\s+/g," "),m=m.trim(),{isValid:m.length>=Ia&&m.length<=Ms,sanitized:m,isSuspicious:R,warnings:j}}function rr(_,j,m){const R={timestamp:new Date().toISOString(),type:"search_query",query:j.sanitized,originalLength:_.length,sanitizedLength:j.sanitized.length,isSuspicious:j.isSuspicious,warnings:j.warnings,context:m};j.isSuspicious?console.warn("[SEARCH_SECURITY] Suspicious query detected:",R):console.log("[SEARCH_SECURITY] Search query:",R);try{const p=JSON.parse(localStorage.getItem("maison_search_security_logs")||"[]");p.push(R),p.length>50&&p.shift(),localStorage.setItem("maison_search_security_logs",JSON.stringify(p))}catch(p){console.error("[SEARCH_SECURITY] Failed to save security log:",p)}}function lr(_){const[j,m]=l.useState(""),[R,p]=l.useState(null),g=l.useRef(null),F=l.useMemo(()=>{if(!j.trim())return _;const N=Ta(j);if(!N.isValid)return p(null),_;rr(j,N,{component:"BookingSearch"}),N.isSuspicious?(p("Suspicious characters detected and removed from search"),console.warn("[BookingSearch] Suspicious query detected:",N.warnings)):p(null);const S=N.sanitized.toLowerCase().trim().split(/\s+/).filter(H=>H.length>0);return _.filter(H=>{const I=(H.customer_name||"").toLowerCase(),u=(H.driver_name||"").toLowerCase();return S.every(b=>I.includes(b)||u.includes(b))})},[_,j]),Q=l.useCallback(N=>{g.current&&clearTimeout(g.current),m(N),p(null),g.current=setTimeout(()=>{Ta(N).isSuspicious&&N.trim().length>0&&p("Suspicious characters detected and removed")},100)},[]),y=l.useCallback(()=>{m(""),p(null),g.current&&clearTimeout(g.current)},[]);return{searchQuery:j,setSearchQuery:m,handleSearchChange:Q,filteredBookings:F,searchError:R,clearSearch:y,hasActiveSearch:j.trim().length>0}}function Cr(){var Pt,Ut,Ot,Yt,qt,Qt,Kt,Gt,Xt,Jt,Zt,ea,sa,ta,aa,ia,ra,la,na,oa,da,pa,ca,xa;const{accessToken:_,role:j}=Ee(),m=Ra(),R=Ji(),[p,g]=l.useState(null),[F,Q]=l.useState([]),[y,N]=l.useState([]),[S,H]=l.useState([]),[I,u]=l.useState([]),[b,A]=l.useState(null),[re,O]=l.useState(!0),[$,ks]=l.useState(""),[V,Cs]=l.useState(""),[L,t]=l.useState(null),{searchQuery:Ws,handleSearchChange:He,filteredBookings:E,searchError:Ns,clearSearch:Ls,hasActiveSearch:le}=lr(S),[zs,T]=l.useState(null),[$e,Ne]=l.useState(!1),[Ve,v]=l.useState({}),[C,k]=l.useState({}),[z,D]=l.useState({first_name:"",last_name:"",email:"",driver_type:"outsourced"}),[ne,M]=l.useState(!1),[Pe,B]=l.useState(null),[ve,Os]=l.useState(!1),[ze,Aa]=l.useState(null),[nr,or]=l.useState(!1),[dr,pr]=l.useState(!1),[cr,Ma]=l.useState(null),[xr,La]=l.useState(null),[mr,Ea]=l.useState(null),[vr,fr]=l.useState(null),[gr,br]=l.useState(null),[Ys,qs]=l.useState(null),[Qs,Ks]=l.useState(!1),[Ha,Gs]=l.useState(null),[_e,fe]=l.useState(!1),[a,$a]=l.useState(window.innerWidth<=844),[w,_s]=l.useState(null),[Va,Ue]=l.useState(!1),[Pa,Xs]=l.useState(!1),[f,Es]=l.useState(null),[Ua,Oe]=l.useState(!1),[Oa,Js]=l.useState(!1),[Ya,Ye]=l.useState(!1),[ge,qe]=l.useState(""),[P,Zs]=l.useState(!1),[Qe,Fe]=l.useState(!1),[be,Ke]=l.useState(null),[qa,Ge]=l.useState(!1),[se,et]=l.useState(!1),[te,Xe]=l.useState(null),[Qa,Je]=l.useState(!1),[ae,st]=l.useState(!1),[tt,oe]=l.useState(null),[he,Ze]=l.useState(null),[Ka,es]=l.useState(!1),[Ie,Te]=l.useState(""),[q,at]=l.useState(!1),[it,de]=l.useState(null),[Fs,Ga]=l.useState(!1),[ss,Hs]=l.useState(!1),[we,$s]=l.useState(0),[Be,Xa]=l.useState(!1),[rt,ts]=l.useState(!1),[Ja,De]=l.useState(!1),[ue,lt]=l.useState(!1),[nt,Vs]=l.useState(null),[ye,ot]=l.useState(!1),[as,dt]=l.useState(!1),[is,pt]=l.useState(!1),[rs,ct]=l.useState(!1),[je,xt]=l.useState(!1),[ls,mt]=l.useState(!1),[ns,vt]=l.useState(!1),[pe,ft]=l.useState(!1),[Se,gt]=l.useState(!1),[os,bt]=l.useState(!1),[ds,ht]=l.useState(!1),[ps,wt]=l.useState(!1),[Is,ut]=l.useState(!1),[cs,yt]=l.useState(!1),[xs,jt]=l.useState(!1),[ms,St]=l.useState(!1),[vs,kt]=l.useState(!1),[fs,Ct]=l.useState(!1),[gs,Wt]=l.useState(!1),[Nt,zt]=l.useState(null),[ke,_t]=l.useState(!1),[bs,Ft]=l.useState(!1),[Ts,It]=l.useState(null),[Za,Tt]=l.useState(null),[Re,Bt]=l.useState(!1),[hs,Dt]=l.useState(!1),ei=()=>{var n;if(typeof window>"u")return!1;const s=((n=ze==null?void 0:ze.branding)==null?void 0:n.theme)||document.documentElement.getAttribute("data-theme")||document.body.getAttribute("data-theme");return s==="auto"?!window.matchMedia("(prefers-color-scheme: dark)").matches:s==="light"},[W,Bs]=l.useState({make:"",model:"",year:"",license_plate:"",color:"",status:"available",vehicle_category:"",vehicle_flat_rate:"",seating_capacity:4}),[Ae,Rt]=l.useState(!1),[At,ws]=l.useState(null),[Mt,Ds]=l.useState(!1);Ii((Pt=ze==null?void 0:ze.branding)==null?void 0:Pt.theme);const K=async()=>{var s;O(!0),T(null);try{const n=Ri(),r=_a(),d=Ai(),c=Mi(),h={};$&&(h.booking_status=$),V&&(h.service_type=V),L&&(h.vehicle_id=L);const Y=As(Object.keys(h).length>0?h:void 0),us=Li("all"),[X,U,J,We,Z,Me]=await Promise.all([n,r,d,Y,us,c]);if(X.data){g(X.data);try{const i=X.data.id;if(i){const x=await qi(i);x.data!==void 0?u(x.data||[]):u([])}else u([])}catch(i){console.error("Failed to load vehicle categories:",i),u([])}}else console.error("No tenant data in response:",X),T("Failed to load tenant information - no data in response"),u([]);U.data!==void 0?Q(U.data||[]):(console.error("No drivers data in response:",U),T("Failed to load drivers information - no data in response")),J.data!==void 0?N(J.data||[]):(console.error("No vehicles data in response:",J),T("Failed to load vehicles information - no data in response")),We.data!==void 0?H(We.data||[]):(console.error("No bookings data in response:",We),T("Failed to load bookings information - no data in response")),Z?(Aa(Z),Z.settings&&Ma(Z.settings),Z.pricing&&La(Z.pricing),Z.branding&&Ea(Z.branding)):(console.error("No tenant config data in response:",Z),T("Failed to load tenant config - no data in response")),Me.success&&Me.data?A(Me.data):console.error("No analysis data in response:",Me)}catch(n){if(console.error("Failed to load dashboard data:",n),n.response){const r=n.response.status;T(r===401?"Authentication failed. Please log in again.":r===403?"Access denied. You do not have permission to view this data.":r===500?"Server error. Please try again later.":`Failed to load data: ${r} - ${((s=n.response.data)==null?void 0:s.detail)||"Unknown error"}`)}else n.request?T("No response from server. Please check your connection and try again."):T("Failed to load dashboard data. Please check your connection and try again.")}finally{O(!1)}};l.useEffect(()=>{K()},[]),l.useEffect(()=>{const s=()=>{$a(window.innerWidth<=768),window.innerWidth>768&&fe(!1)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const si=async()=>{if(!z.email||!z.first_name||!z.last_name){B("Please fill in all required fields");return}B(null),Os(!0);try{await Ei({...z,driver_type:z.driver_type}),D({first_name:"",last_name:"",email:"",driver_type:"outsourced"}),B(null),M(!1),await K()}catch(s){if(console.error("Failed to create driver:",s),s.response){const n=s.response.status,r=s.response.data;switch(n){case 409:B("This email is already registered. Please use a different email address.");break;case 400:B((r==null?void 0:r.detail)||(r==null?void 0:r.message)||"Invalid input. Please check your information and try again.");break;case 401:B("Authentication failed. Please log in again.");break;case 403:B("You do not have permission to add drivers.");break;case 422:B((r==null?void 0:r.detail)||(r==null?void 0:r.message)||"Validation error. Please check all fields are correct.");break;case 500:B("Server error. Please try again later.");break;default:B((r==null?void 0:r.detail)||(r==null?void 0:r.message)||`Failed to add driver. Error code: ${n}`)}}else s.request?B("No response from server. Please check your connection and try again."):B(s.message||"Failed to add driver. Please try again.")}finally{Os(!1)}},ti=async s=>{var n;if(te){st(!0),oe(null);try{await Hi(te,s),Je(!1),Xe(null),await K()}catch(r){if(console.error("Failed to unassign driver:",r),r!=null&&r.response){const d=r.response.status,c=r.response.data,h=(c==null?void 0:c.message)||(c==null?void 0:c.detail)||((n=c==null?void 0:c.error)==null?void 0:n.message)||(c==null?void 0:c.error)||`HTTP Error ${d}: ${r.response.statusText||"Unknown error"}`;oe(h)}else r!=null&&r.request?oe("No response from server. Please check your connection and try again."):oe((r==null?void 0:r.message)||"Failed to unassign driver. Please try again.")}finally{st(!1)}}},ai=async()=>{var s;if(!(!he||!Ie)){at(!0),de(null);try{await $i(he,Number(Ie)),es(!1),Ze(null),Te(""),await K()}catch(n){if(console.error("Failed to assign driver:",n),n!=null&&n.response){const r=n.response.status,d=n.response.data,c=(d==null?void 0:d.message)||(d==null?void 0:d.detail)||((s=d==null?void 0:d.error)==null?void 0:s.message)||(d==null?void 0:d.error)||`HTTP Error ${r}: ${n.response.statusText||"Unknown error"}`;de(c)}else n!=null&&n.request?de("No response from server. Please check your connection and try again."):de((n==null?void 0:n.message)||"Failed to assign driver. Please try again.")}finally{at(!1)}}},ii=async(s,n)=>{try{k(c=>{try{return{...c,[s]:!0}}catch(h){return console.error("Error updating saving state:",h),c}});const d=await Qi({vehicle_category:s,vehicle_flat_rate:n});if(!d.success)throw new Error(d.message||"Failed to update vehicle rate");u(c=>{try{return c.map(h=>h.vehicle_category===s?{...h,vehicle_flat_rate:n}:h)}catch(h){return console.error("Error updating vehicle categories state:",h),c}}),v(c=>{try{const h={...c};return delete h[s],h}catch(h){return console.error("Error clearing editing state:",h),c}}),alert(`Successfully updated ${s} rate to $${n}`)}catch(r){console.error(`Failed to update ${s} rate:`,r),alert(`Failed to update ${s} rate. Please try again.`)}finally{k(r=>{try{return{...r,[s]:!1}}catch(d){return console.error("Error resetting saving state:",d),r}})}},G=s=>{switch(s==null?void 0:s.toLowerCase()){case"completed":case"active":return"#10b981";case"pending":return"#f59e0b";case"cancelled":return"#ef4444";default:return"#6b7280"}},ri=s=>{const n=G(s);switch(s==null?void 0:s.toLowerCase()){case"completed":return e.jsx(za,{size:16,style:{color:n}});case"active":return e.jsx(za,{size:16,style:{color:n}});case"pending":return e.jsx(me,{size:16,style:{color:n}});case"cancelled":return e.jsx(ee,{size:16,style:{color:n}});default:return e.jsx(me,{size:16,style:{color:n}})}},Lt=s=>{if(!s||s==="None"||s==="Anonymous Customer")return"?";const n=s.trim().split(" ");return n.length>=2?(n[0][0]+n[n.length-1][0]).toUpperCase():s[0].toUpperCase()},li=s=>{if(!s||typeof s!="string")return 0;if(!Array.isArray(I)||I.length===0)return{sedan:25,suv:35,luxury:50,van:40,truck:45,motorcycle:20}[s.toLowerCase()]||0;const n=I.find(d=>d.vehicle_category.toLowerCase()===s.toLowerCase());return n&&n.vehicle_flat_rate>0?n.vehicle_flat_rate:{sedan:25,suv:35,luxury:50,van:40,truck:45,motorcycle:20}[s.toLowerCase()]||0},Ps=async s=>{Xs(!0),Ue(!0);try{const n=await Fa(s);n.data&&n.data.length>0?_s(n.data[0]):(T("Booking not found"),Ue(!1))}catch(n){console.error("Failed to load booking details:",n),T("Failed to load booking details"),Ue(!1)}finally{Xs(!1)}},Et=async s=>{Js(!0),Oe(!0);try{const n=await _a(s);n.data&&Array.isArray(n.data)&&n.data.length>0?Es(n.data[0]):(T("Driver not found"),Oe(!1))}catch(n){console.error("Failed to load driver details:",n),T("Failed to load driver details"),Oe(!1)}finally{Js(!1)}},Ht=async()=>{if(!w||!ge)return;const s=Number(ge);if(!s)return;const n=!!(w.driver_name&&w.driver_name!=="None");if(n&&!Qe){Fe(!0);return}if(w.id){Zs(!0);try{await Vi(w.id,{driver_id:s,override:n});const r=await Fa(w.id);r.data&&r.data.length>0&&_s(r.data[0]),await K(),Ye(!1),qe(""),Fe(!1)}catch(r){console.error("Failed to assign driver to booking:",r),T("Failed to assign driver. Please try again.")}finally{Zs(!1)}}},ni=s=>{Ke(s),Ge(!0)},oi=async s=>{var n,r;if(s.preventDefault(),!W.make||!W.model){ws("Make and Model are required fields");return}Rt(!0),ws(null);try{const d={make:W.make,model:W.model,year:W.year?parseInt(W.year):void 0,license_plate:W.license_plate||void 0,color:W.color||void 0,status:W.status,vehicle_category:W.vehicle_category,vehicle_flat_rate:parseFloat(W.vehicle_flat_rate)||0,seating_capacity:parseInt(W.seating_capacity.toString())||4},c=await Ki(d);if(c.success&&c.data)Ds(!0),Bs({make:"",model:"",year:"",license_plate:"",color:"",status:"available",vehicle_category:"",vehicle_flat_rate:"",seating_capacity:4}),await K(),setTimeout(()=>{ts(!1),Ds(!1)},2e3);else throw new Error(c.message||"Failed to create vehicle")}catch(d){console.error("Failed to create vehicle:",d),ws(((r=(n=d.response)==null?void 0:n.data)==null?void 0:r.detail)||"Failed to create vehicle. Please try again.")}finally{Rt(!1)}},ie=(s,n)=>{Bs(r=>{const d={...r,[s]:n};if(s==="vehicle_category"&&n){const c=I.find(h=>h.vehicle_category===n);c&&c.vehicle_flat_rate&&(d.vehicle_flat_rate=c.vehicle_flat_rate.toString())}return d})},di=async()=>{if(be){et(!0);try{await Gi(be),await K(),Ge(!1),Ke(null)}catch(s){console.error("Failed to delete vehicle:",s),T("Failed to delete vehicle. Please try again.")}finally{et(!1)}}},$t=[{id:"overview",label:"Overview",icon:ji},{id:"drivers",label:"Drivers",icon:ys},{id:"bookings",label:"Bookings",icon:js},{id:"vehicles",label:"Vehicles",icon:Ss},{id:"settings",label:"Settings",icon:ua}],pi=()=>{const s=R.pathname;return s==="/tenant/drivers"?"drivers":s==="/tenant/bookings"?"bookings":s==="/tenant/vehicles"?"vehicles":s==="/tenant/overview"||s==="/tenant"?"overview":s.startsWith("/tenant/settings")?"settings":"overview"};l.useEffect(()=>{R.pathname.startsWith("/tenant/settings")&&!ss&&Hs(!0)},[R.pathname,ss]);const Ce=pi(),ci=()=>{const s=$t.find(n=>n.id===Ce);return(s==null?void 0:s.label)||"Overview"},Vt=s=>{s==="settings"?Hs(!ss):(m(`/tenant/${s}`),a&&fe(!1))},xi=s=>{m(s),Hs(!1),a&&fe(!1)};if(re)return e.jsx("div",{className:"bw bw-container",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:e.jsx("div",{className:"bw-loading",children:"Loading dashboard..."})});if(!p)return e.jsxs("div",{className:"bw bw-container",style:{padding:"24px 0"},children:[e.jsx("div",{className:"bw-header",style:{marginBottom:32},children:e.jsxs("div",{className:"bw-header-content",children:[e.jsx("h1",{style:{fontSize:32,margin:0},children:"Dashboard"}),e.jsx("div",{className:"bw-header-actions",children:e.jsx("button",{className:"bw-btn-outline",onClick:()=>Ee.getState().logout(),style:{marginLeft:16},children:"Logout"})})]})}),e.jsxs("div",{className:"bw-card",style:{textAlign:"center",padding:"48px 24px"},children:[e.jsx("div",{style:{color:"#6b7280",marginBottom:"16px"},children:e.jsx(me,{size:48,className:"mx-auto"})}),e.jsx("h3",{style:{margin:"0 0 16px 0",color:"#6b7280"},children:"No Tenant Information"}),e.jsx("p",{style:{margin:"0 0 24px 0",color:"#6b7280"},children:"Unable to load tenant information. Please try again."}),e.jsx("button",{className:`bw-btn bw-btn-action ${as?"custom-hover-border":""}`,onClick:K,onMouseEnter:()=>dt(!0),onMouseLeave:()=>dt(!1),style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:as?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:as?"rgba(155, 97, 209, 0.81)":void 0,color:as?"rgba(155, 97, 209, 0.81)":"#000",transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:as?"rgba(155, 97, 209, 0.81)":"inherit"},children:"Retry"})})]})]});if(zs)return e.jsxs("div",{className:"bw bw-container",style:{padding:"24px 0"},children:[e.jsx("div",{className:"bw-header",style:{marginBottom:32},children:e.jsxs("div",{className:"bw-header-content",children:[e.jsx("h1",{style:{fontSize:32,margin:0},children:"Dashboard"}),e.jsx("div",{className:"bw-header-actions",children:e.jsx("button",{className:"bw-btn-outline",onClick:()=>Ee.getState().logout(),style:{marginLeft:16},children:"Logout"})})]})}),e.jsxs("div",{className:"bw-card",style:{textAlign:"center",padding:"48px 24px"},children:[e.jsx("div",{style:{color:"var(--bw-error, #C5483D)",marginBottom:"16px"},children:e.jsx(me,{size:48,className:"mx-auto"})}),e.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--bw-error, #C5483D)"},children:"Error Loading Dashboard"}),e.jsx("p",{style:{margin:"0 0 24px 0",color:"#6b7280"},children:zs}),e.jsx("button",{className:`bw-btn bw-btn-action ${is?"custom-hover-border":""}`,onClick:()=>{T(null),K()},onMouseEnter:()=>pt(!0),onMouseLeave:()=>pt(!1),style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:is?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:is?"rgba(155, 97, 209, 0.81)":void 0,color:is?"rgba(155, 97, 209, 0.81)":"#000",transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:is?"rgba(155, 97, 209, 0.81)":"inherit"},children:"Try Again"})})]})]});const o=ei();return e.jsxs("div",{className:"bw",style:{position:"relative",minHeight:"100vh",display:"flex",backgroundColor:o?"#f8fafc":"var(--bw-bg)"},children:[e.jsx(ar,{}),_e&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:998,transition:"opacity 0.3s ease"},onClick:()=>fe(!1)}),e.jsxs("div",{style:{position:"fixed",top:0,left:a?_e?"0":"-100%":_e?"0":"-20%",width:a?"100%":"20%",height:"100vh",backgroundColor:o?"#ffffff":"var(--bw-bg)",borderRight:`1px solid ${o?"#e2e8f0":"var(--bw-border)"}`,zIndex:999,transition:"left 0.3s ease",overflowY:"auto",display:"flex",flexDirection:"column",boxShadow:_e?o?"0 1px 3px 0 rgba(0, 0, 0, 0.1)":"var(--bw-shadow)":"none"},children:[e.jsxs("div",{style:{padding:"clamp(16px, 2vw, 24px)",borderBottom:"1px solid var(--bw-border)",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(12px, 2vw, 16px)",flex:1,minWidth:0},children:[((Ut=p==null?void 0:p.profile)==null?void 0:Ut.logo_url)&&e.jsx("img",{src:p.profile.logo_url,alt:((Ot=p==null?void 0:p.profile)==null?void 0:Ot.company_name)||"Company logo",style:{width:"clamp(40px, 5vw, 50px)",height:"clamp(40px, 5vw, 50px)",objectFit:"contain",flexShrink:0},onError:s=>{s.currentTarget.style.display="none"}}),e.jsx("h1",{style:{fontFamily:'"DM Sans", sans-serif',fontSize:"clamp(20px, 3vw, 32px)",fontWeight:600,margin:0,color:o?"#0f172a":"#ffffff",letterSpacing:"0.5px",lineHeight:"1.2",flex:1,minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((Yt=p==null?void 0:p.profile)==null?void 0:Yt.company_name)||"Dashboard"})]}),e.jsx("button",{className:"bw-menu",onClick:()=>fe(!1),"aria-label":"Close menu",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",minWidth:"40px",minHeight:"40px",flexShrink:0},children:e.jsx(ee,{size:20})})]}),e.jsx("nav",{style:{flex:1,padding:"clamp(12px, 1.5vw, 20px) 0",display:"flex",flexDirection:"column",gap:"4px"},children:$t.map(s=>{const n=s.icon,r=s.id==="settings",d=Ce===s.id||r&&R.pathname.startsWith("/tenant/settings");return e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("button",{onClick:()=>Vt(s.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"clamp(12px, 1.5vw, 16px) clamp(16px, 2vw, 24px)",backgroundColor:d?o&&s.id==="overview"?"rgba(155, 97, 209, 0.81)":o?"rgba(155, 97, 209, 0.1)":"var(--bw-bg-hover)":"transparent",border:"none",borderLeft:d?o&&s.id==="overview"?"3px solid rgba(155, 97, 209, 0.81)":"2px solid var(--bw-accent)":"2px solid transparent",color:d&&o&&s.id==="overview"?"#ffffff":"var(--bw-text)",cursor:"pointer",fontSize:"clamp(13px, 1.5vw, 15px)",fontFamily:'"Work Sans", sans-serif',fontWeight:300,textAlign:"left",transition:"all 0.2s ease",justifyContent:"space-between",boxShadow:d&&s.id==="overview"&&!o?"0 0 12px rgba(155, 97, 209, 0.3)":"none",position:"relative"},onMouseEnter:c=>{d||(c.currentTarget.style.backgroundColor=o?"rgba(0, 0, 0, 0.02)":"var(--bw-bg-hover)")},onMouseLeave:c=>{d||(c.currentTarget.style.backgroundColor="transparent")},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[e.jsx(n,{size:18,style:{flexShrink:0}}),e.jsx("span",{children:s.label})]}),r&&e.jsx(ya,{size:16,style:{flexShrink:0,transform:ss?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]}),r&&ss&&e.jsx("div",{style:{display:"flex",flexDirection:"column",paddingLeft:"clamp(20px, 2.5vw, 32px)",backgroundColor:"var(--bw-bg-secondary)",borderLeft:"2px solid var(--bw-border)",marginLeft:"clamp(16px, 2vw, 24px)"},children:[{path:"/tenant/settings/general",label:"General View"},{path:"/tenant/settings/account",label:"Account Information"},{path:"/tenant/settings/company",label:"Company Information"},{path:"/tenant/settings/tenant-settings",label:"Tenant Settings"},{path:"/tenant/settings/vehicle-config",label:"Vehicle Configuration"},{path:"/tenant/settings/plans",label:"Plans"},{path:"/tenant/settings/help",label:"Help"}].map(c=>{const h=R.pathname===c.path;return e.jsx("button",{onClick:()=>xi(c.path),style:{width:"100%",display:"flex",alignItems:"center",padding:"clamp(10px, 1.2vw, 12px) clamp(12px, 1.5vw, 16px)",backgroundColor:h?"var(--bw-bg-hover)":"transparent",border:"none",color:"var(--bw-text)",cursor:"pointer",fontSize:"clamp(12px, 1.3vw, 14px)",fontFamily:'"Work Sans", sans-serif',fontWeight:300,textAlign:"left",transition:"all 0.2s ease"},onMouseEnter:Y=>{h||(Y.currentTarget.style.backgroundColor="var(--bw-bg-hover)")},onMouseLeave:Y=>{h||(Y.currentTarget.style.backgroundColor="transparent")},children:e.jsx("span",{children:c.label})},c.path)})})]},s.id)})}),e.jsxs("div",{style:{padding:"clamp(12px, 1.5vw, 20px)",borderTop:"1px solid var(--bw-border)",display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"12px"},children:[e.jsxs("div",{style:{fontSize:"clamp(11px, 1.2vw, 13px)",color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif',fontWeight:300},children:["Welcome back, ",p==null?void 0:p.first_name]}),e.jsx(sr,{})]}),e.jsx("button",{type:"button",onClick:s=>{s.preventDefault(),s.stopPropagation(),De(!0)},style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"clamp(10px, 1.2vw, 12px) clamp(16px, 2vw, 24px)",backgroundColor:"rgba(155, 97, 209, 0.81)",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"clamp(13px, 1.5vw, 15px)",fontFamily:'"Work Sans", sans-serif',fontWeight:400,borderRadius:7,transition:"all 0.2s ease"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="rgba(155, 97, 209, 0.81)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="rgba(155, 97, 209, 0.81)"},children:"Switch to Driver Mode"}),e.jsx("button",{onClick:()=>{Ee.getState().logout(),fe(!1)},style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"clamp(10px, 1.2vw, 12px) clamp(16px, 2vw, 24px)",backgroundColor:"transparent",border:"1px solid var(--bw-border)",color:"var(--bw-text)",cursor:"pointer",fontSize:"clamp(13px, 1.5vw, 15px)",fontFamily:'"Work Sans", sans-serif',fontWeight:300,borderRadius:7,transition:"all 0.2s ease"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="var(--bw-bg-hover)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="transparent"},children:"Logout"})]})]}),e.jsxs("div",{style:{flex:1,width:"100%",minHeight:"100vh"},children:[e.jsxs("div",{className:"bw-container",style:{padding:"clamp(12px, 2vw, 24px) clamp(16px, 3vw, 32px)",maxWidth:"100%"},children:[e.jsxs("div",{style:{marginBottom:"clamp(16px, 3vw, 32px)",paddingBottom:"clamp(12px, 2vw, 16px)",borderBottom:"1px solid var(--bw-border)",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px"},children:[e.jsx("button",{className:"bw-menu",onClick:()=>fe(!_e),"aria-label":"Toggle menu","aria-expanded":_e,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",minWidth:"40px",minHeight:"40px"},children:e.jsx(Si,{size:20})}),e.jsx("h3",{style:{margin:0,fontSize:"clamp(20px, 3vw, 28px)",fontWeight:400,fontFamily:'"Work Sans", sans-serif',color:"var(--bw-text)",flex:1,display:"flex",alignItems:"center",lineHeight:1},children:ci()}),e.jsxs("div",{style:{display:a?"none":"flex",gap:"8px",alignItems:"center"},className:"desktop-actions",children:[e.jsx("button",{type:"button",onClick:s=>{s.preventDefault(),s.stopPropagation(),De(!0)},style:{fontFamily:'"Work Sans", sans-serif',fontSize:"clamp(12px, 1.5vw, 14px)",padding:"clamp(6px, 1vw, 8px) clamp(12px, 2vw, 16px)",fontWeight:400,backgroundColor:"rgba(155, 97, 209, 0.81)",color:"#ffffff",border:"none",borderRadius:7,cursor:"pointer",transition:"all 0.2s ease",height:"fit-content",lineHeight:1},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="rgba(155, 97, 209, 0.81)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="rgba(155, 97, 209, 0.81)"},children:"Switch to Driver Mode"}),e.jsx("button",{className:"bw-btn-outline",onClick:()=>Ee.getState().logout(),style:{fontFamily:'"Work Sans", sans-serif',fontSize:"clamp(12px, 1.5vw, 14px)",padding:"clamp(6px, 1vw, 8px) clamp(12px, 2vw, 16px)",fontWeight:300},children:"Logout"})]})]}),e.jsxs("div",{className:"bw-tab-content",style:{fontFamily:'"Work Sans", sans-serif',fontWeight:300},children:[Ce==="overview"&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(16px, 3vw, 24px)"},children:[(()=>{const s=(b==null?void 0:b.pending_rides)??S.filter(i=>{var x;return((x=i.booking_status)==null?void 0:x.toLowerCase())==="pending"}).length,n=(b==null?void 0:b.available_drivers)??F.filter(i=>i.is_active).length,r=(b==null?void 0:b.todays_revenue)??0,d=new Date;d.setHours(0,0,0,0);const c=new Date(d);c.setHours(23,59,59,999);const Y=S.filter(i=>{const x=new Date(i.pickup_time);return x>=d&&x<=c}).filter(i=>{var x;return((x=i.booking_status)==null?void 0:x.toLowerCase())==="active"}).length;y.filter(i=>i.status==="active").length;const X=((b==null?void 0:b.total_drivers)??F.length)-n,U=i=>{const ce={"Active Rides":12,Pending:-5,"Available Drivers":null,"Offline Drivers":3,"Today's Revenue":8}[i];return ce!=null?ce>0?`+${ce}%`:`${ce}%`:"--"},J=[{value:Y,label:"Active Rides",isCurrency:!1,icon:Ss,trend:U("Active Rides")},{value:s,label:"Pending",isCurrency:!1,icon:ja,trend:U("Pending")},{value:n,label:"Available Drivers",isCurrency:!1,icon:ys,trend:U("Available Drivers")},{value:X,label:"Offline Drivers",isCurrency:!1,icon:ys,trend:U("Offline Drivers")},{value:r.toFixed(0),label:"Today's Revenue",isCurrency:!0,icon:Sa,trend:U("Today's Revenue")}],We=J.length,Z=()=>{$s(i=>(i+1)%We)},Me=()=>{$s(i=>(i-1+We)%We)};return e.jsxs("div",{style:{marginBottom:"clamp(16px, 3vw, 24px)"},children:[a?e.jsxs("div",{style:{position:"relative"},children:[e.jsxs("div",{className:"bw-card",style:{padding:"clamp(20px, 3vw, 32px)",textAlign:"center",border:o?"1px solid #e5e7eb":"1px solid #333",background:o?"#ffffff !important":"linear-gradient(135deg, rgba(30, 30, 30, 0.8) 0%, rgba(20, 20, 20, 0.9) 100%) !important",boxShadow:o?"0 1px 2px 0 rgba(0, 0, 0, 0.05)":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",minHeight:"clamp(120px, 20vw, 160px)",display:"flex",flexDirection:"column",justifyContent:"center",position:"relative",overflow:"hidden",borderRadius:"12px"},children:[(()=>{const i=J[we].icon;return i?e.jsx("div",{style:{position:"absolute",top:"clamp(12px, 2vw, 16px)",right:"clamp(12px, 2vw, 16px)",opacity:o?.2:.3},children:e.jsx(i,{size:"clamp(24px, 3vw, 32px)",style:{color:o?"#64748b":"#f3f4f6"}})}):null})(),(()=>{const i=J[we].trend,x=i==null?void 0:i.startsWith("+");return e.jsx("div",{style:{position:"absolute",bottom:"clamp(12px, 2vw, 16px)",right:"clamp(12px, 2vw, 16px)",fontSize:"clamp(10px, 1.2vw, 12px)",fontWeight:500,color:x?"#059669":i!=null&&i.startsWith("-")?"#dc2626":o?"#64748b":"#9ca3af",backgroundColor:o&&x?"#ecfdf5":o&&(i!=null&&i.startsWith("-"))?"#fef2f2":x?"rgba(5, 150, 105, 0.2)":i!=null&&i.startsWith("-")?"rgba(220, 38, 38, 0.2)":"transparent",padding:"2px 8px",borderRadius:"12px",fontFamily:'"Work Sans", sans-serif'},children:i})})(),e.jsxs("div",{style:{fontSize:"clamp(32px, 6vw, 56px)",fontWeight:700,color:o?"#1a1a1a":"#ffffff",lineHeight:1.1,marginBottom:"clamp(4px, 1vw, 8px)",fontFamily:'"Work Sans", sans-serif'},children:[J[we].isCurrency?"$":"",J[we].value]}),e.jsx("div",{style:{fontSize:"clamp(11px, 1.5vw, 14px)",color:o?"#1a1a1a":"#ffffff",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:J[we].label})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"clamp(12px, 2vw, 16px)",gap:"12px"},children:[e.jsx("button",{onClick:Me,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"clamp(8px, 1.5vw, 12px)",backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:7,color:"var(--bw-text)",cursor:"pointer",transition:"all 0.2s ease",minWidth:"44px",minHeight:"44px"},onMouseEnter:i=>{i.currentTarget.style.backgroundColor="var(--bw-bg-hover)",i.currentTarget.style.borderColor="var(--bw-border-strong)"},onMouseLeave:i=>{i.currentTarget.style.backgroundColor="var(--bw-bg-secondary)",i.currentTarget.style.borderColor="var(--bw-border)"},children:e.jsx(ki,{size:20})}),e.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center",flex:1,justifyContent:"center"},children:J.map((i,x)=>e.jsx("button",{onClick:()=>$s(x),style:{width:x===we?"clamp(24px, 3vw, 32px)":"clamp(8px, 1.2vw, 10px)",height:"clamp(8px, 1.2vw, 10px)",borderRadius:"50%",border:"none",backgroundColor:x===we?"var(--bw-text)":"var(--bw-muted)",cursor:"pointer",transition:"all 0.3s ease",padding:0}},x))}),e.jsx("button",{onClick:Z,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"clamp(8px, 1.5vw, 12px)",backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:7,color:"var(--bw-text)",cursor:"pointer",transition:"all 0.2s ease",minWidth:"44px",minHeight:"44px"},onMouseEnter:i=>{i.currentTarget.style.backgroundColor="var(--bw-bg-hover)",i.currentTarget.style.borderColor="var(--bw-border-strong)"},onMouseLeave:i=>{i.currentTarget.style.backgroundColor="var(--bw-bg-secondary)",i.currentTarget.style.borderColor="var(--bw-border)"},children:e.jsx(Ci,{size:20})})]})]}):e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(clamp(140px, 18vw, 200px), 1fr))",gap:"clamp(12px, 2vw, 20px)"},children:[e.jsxs("div",{className:"bw-card",style:{padding:"clamp(20px, 3vw, 32px)",textAlign:"center",border:o?"1px solid #e5e7eb":"1px solid #333",background:o?"#ffffff":"linear-gradient(135deg, rgba(30, 30, 30, 0.8) 0%, rgba(20, 20, 20, 0.9) 100%)",boxShadow:o?"0 1px 2px 0 rgba(0, 0, 0, 0.05)":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",position:"relative",overflow:"hidden",borderRadius:"12px"},children:[e.jsx("div",{style:{position:"absolute",top:"clamp(12px, 2vw, 16px)",right:"clamp(12px, 2vw, 16px)",opacity:o?.2:.3},children:e.jsx(Ss,{size:"clamp(24px, 3vw, 32px)",style:{color:o?"#64748b":"#f3f4f6"}})}),(()=>{const i=U("Active Rides"),x=i==null?void 0:i.startsWith("+");return e.jsx("div",{style:{position:"absolute",bottom:"clamp(12px, 2vw, 16px)",right:"clamp(12px, 2vw, 16px)",fontSize:"clamp(10px, 1.2vw, 12px)",fontWeight:500,color:x?"#059669":i!=null&&i.startsWith("-")?"#dc2626":o?"#64748b":"#9ca3af",backgroundColor:o&&x?"#ecfdf5":o&&(i!=null&&i.startsWith("-"))?"#fef2f2":x?"rgba(5, 150, 105, 0.2)":i!=null&&i.startsWith("-")?"rgba(220, 38, 38, 0.2)":"transparent",padding:"2px 8px",borderRadius:"12px",fontFamily:'"Work Sans", sans-serif'},children:i})})(),e.jsx("div",{style:{fontSize:"clamp(32px, 6vw, 56px)",fontWeight:700,color:o?"#1a1a1a":"#ffffff",lineHeight:1.1,marginBottom:"clamp(4px, 1vw, 8px)",fontFamily:'"Work Sans", sans-serif'},children:Y}),e.jsx("div",{style:{fontSize:"clamp(11px, 1.5vw, 14px)",color:o?"#1a1a1a":"#ffffff",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:"Active Rides"})]}),e.jsxs("div",{className:"bw-card",style:{padding:"clamp(20px, 3vw, 32px)",textAlign:"center",border:o?"1px solid #e5e7eb":"1px solid #333",background:o?"#ffffff":"linear-gradient(135deg, rgba(30, 30, 30, 0.8) 0%, rgba(20, 20, 20, 0.9) 100%)",boxShadow:o?"0 1px 2px 0 rgba(0, 0, 0, 0.05)":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",position:"relative",overflow:"hidden",borderRadius:"12px"},children:[e.jsx("div",{style:{position:"absolute",top:"clamp(12px, 2vw, 16px)",right:"clamp(12px, 2vw, 16px)",opacity:o?.2:.3},children:e.jsx(ja,{size:"clamp(24px, 3vw, 32px)",style:{color:o?"#64748b":"#f3f4f6"}})}),(()=>{const i=U("Pending"),x=i==null?void 0:i.startsWith("+");return e.jsx("div",{style:{position:"absolute",bottom:"clamp(12px, 2vw, 16px)",right:"clamp(12px, 2vw, 16px)",fontSize:"clamp(10px, 1.2vw, 12px)",fontWeight:500,color:x?"#059669":i!=null&&i.startsWith("-")?"#dc2626":o?"#64748b":"#9ca3af",backgroundColor:o&&x?"#ecfdf5":o&&(i!=null&&i.startsWith("-"))?"#fef2f2":x?"rgba(5, 150, 105, 0.2)":i!=null&&i.startsWith("-")?"rgba(220, 38, 38, 0.2)":"transparent",padding:"2px 8px",borderRadius:"12px",fontFamily:'"Work Sans", sans-serif'},children:i})})(),e.jsx("div",{style:{fontSize:"clamp(32px, 6vw, 56px)",fontWeight:700,color:o?"#1a1a1a":"#ffffff",lineHeight:1.1,marginBottom:"clamp(4px, 1vw, 8px)",fontFamily:'"Work Sans", sans-serif'},children:s}),e.jsx("div",{style:{fontSize:"clamp(11px, 1.5vw, 14px)",color:o?"#1a1a1a":"#ffffff",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:"Pending"})]}),e.jsxs("div",{className:"bw-card",style:{padding:"clamp(20px, 3vw, 32px)",textAlign:"center",border:o?"1px solid #e5e7eb":"1px solid #333",background:o?"#ffffff":"linear-gradient(135deg, rgba(30, 30, 30, 0.8) 0%, rgba(20, 20, 20, 0.9) 100%)",boxShadow:o?"0 1px 2px 0 rgba(0, 0, 0, 0.05)":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",position:"relative",overflow:"hidden",borderRadius:"12px"},children:[e.jsx("div",{style:{position:"absolute",top:"clamp(12px, 2vw, 16px)",right:"clamp(12px, 2vw, 16px)",opacity:o?.2:.3},children:e.jsx(ys,{size:"clamp(24px, 3vw, 32px)",style:{color:o?"#64748b":"#f3f4f6"}})}),(()=>{const i=U("Available Drivers"),x=i==null?void 0:i.startsWith("+");return e.jsx("div",{style:{position:"absolute",bottom:"clamp(12px, 2vw, 16px)",right:"clamp(12px, 2vw, 16px)",fontSize:"clamp(10px, 1.2vw, 12px)",fontWeight:500,color:x?"#059669":i!=null&&i.startsWith("-")?"#dc2626":o?"#64748b":"#9ca3af",backgroundColor:o&&x?"#ecfdf5":o&&(i!=null&&i.startsWith("-"))?"#fef2f2":x?"rgba(5, 150, 105, 0.2)":i!=null&&i.startsWith("-")?"rgba(220, 38, 38, 0.2)":"transparent",padding:"2px 8px",borderRadius:"12px",fontFamily:'"Work Sans", sans-serif'},children:i})})(),e.jsx("div",{style:{fontSize:"clamp(32px, 6vw, 56px)",fontWeight:700,color:o?"#1a1a1a":"#ffffff",lineHeight:1.1,marginBottom:"clamp(4px, 1vw, 8px)",fontFamily:'"Work Sans", sans-serif'},children:n}),e.jsx("div",{style:{fontSize:"clamp(11px, 1.5vw, 14px)",color:o?"#1a1a1a":"#ffffff",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:"Available"})]}),e.jsxs("div",{className:"bw-card",style:{padding:"clamp(20px, 3vw, 32px)",textAlign:"center",border:o?"1px solid #e5e7eb":"1px solid #333",background:o?"#ffffff":"linear-gradient(135deg, rgba(30, 30, 30, 0.8) 0%, rgba(20, 20, 20, 0.9) 100%)",boxShadow:o?"0 1px 2px 0 rgba(0, 0, 0, 0.05)":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",position:"relative",overflow:"hidden",borderRadius:"12px"},children:[e.jsx("div",{style:{position:"absolute",top:"clamp(12px, 2vw, 16px)",right:"clamp(12px, 2vw, 16px)",opacity:o?.2:.3},children:e.jsx(ys,{size:"clamp(24px, 3vw, 32px)",style:{color:o?"#64748b":"#f3f4f6"}})}),(()=>{const i=U("Offline Drivers"),x=i==null?void 0:i.startsWith("+");return e.jsx("div",{style:{position:"absolute",bottom:"clamp(12px, 2vw, 16px)",right:"clamp(12px, 2vw, 16px)",fontSize:"clamp(10px, 1.2vw, 12px)",fontWeight:500,color:x?"#059669":i!=null&&i.startsWith("-")?"#dc2626":o?"#64748b":"#9ca3af",backgroundColor:o&&x?"#ecfdf5":o&&(i!=null&&i.startsWith("-"))?"#fef2f2":x?"rgba(5, 150, 105, 0.2)":i!=null&&i.startsWith("-")?"rgba(220, 38, 38, 0.2)":"transparent",padding:"2px 8px",borderRadius:"12px",fontFamily:'"Work Sans", sans-serif'},children:i})})(),e.jsx("div",{style:{fontSize:"clamp(32px, 6vw, 56px)",fontWeight:700,color:o?"#1a1a1a":"#ffffff",lineHeight:1.1,marginBottom:"clamp(4px, 1vw, 8px)",fontFamily:'"Work Sans", sans-serif'},children:X}),e.jsx("div",{style:{fontSize:"clamp(11px, 1.5vw, 14px)",color:o?"#1a1a1a":"#ffffff",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:"Offline Drivers"})]}),e.jsxs("div",{className:"bw-card",style:{padding:"clamp(20px, 3vw, 32px)",textAlign:"center",border:o?"1px solid #e5e7eb":"1px solid #333",background:o?"#ffffff":"linear-gradient(135deg, rgba(30, 30, 30, 0.8) 0%, rgba(20, 20, 20, 0.9) 100%)",boxShadow:o?"0 1px 2px 0 rgba(0, 0, 0, 0.05)":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",position:"relative",overflow:"hidden",borderRadius:"12px"},children:[e.jsx("div",{style:{position:"absolute",top:"clamp(12px, 2vw, 16px)",right:"clamp(12px, 2vw, 16px)",opacity:o?.2:.3},children:e.jsx(Sa,{size:"clamp(24px, 3vw, 32px)",style:{color:o?"#64748b":"#f3f4f6"}})}),(()=>{const i=U("Today's Revenue"),x=i==null?void 0:i.startsWith("+");return e.jsx("div",{style:{position:"absolute",bottom:"clamp(12px, 2vw, 16px)",right:"clamp(12px, 2vw, 16px)",fontSize:"clamp(10px, 1.2vw, 12px)",fontWeight:500,color:x?"#059669":i!=null&&i.startsWith("-")?"#dc2626":o?"#64748b":"#9ca3af",backgroundColor:o&&x?"#ecfdf5":o&&(i!=null&&i.startsWith("-"))?"#fef2f2":x?"rgba(5, 150, 105, 0.2)":i!=null&&i.startsWith("-")?"rgba(220, 38, 38, 0.2)":"transparent",padding:"2px 8px",borderRadius:"12px",fontFamily:'"Work Sans", sans-serif'},children:i})})(),e.jsxs("div",{style:{fontSize:"clamp(28px, 5vw, 48px)",fontWeight:700,color:o?"#1a1a1a":"#ffffff",lineHeight:1.1,marginBottom:"clamp(4px, 1vw, 8px)",fontFamily:'"Work Sans", sans-serif'},children:["$",r.toFixed(0)]}),e.jsx("div",{style:{fontSize:"clamp(11px, 1.5vw, 14px)",color:o?"#1a1a1a":"#ffffff",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:"Today's Revenue"})]})]}),Ja&&e.jsx("div",{className:"bw-modal-overlay",onClick:()=>De(!1),children:e.jsxs("div",{className:"bw-modal",onClick:i=>i.stopPropagation(),style:{maxWidth:"500px",width:"90vw"},children:[e.jsxs("div",{className:"bw-modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"clamp(16px, 2.5vw, 24px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("h3",{style:{margin:0,fontSize:"clamp(18px, 2.5vw, 24px)",fontWeight:400,fontFamily:'"Work Sans", sans-serif'},children:"Switch to Driver Mode"}),e.jsx("button",{type:"button",className:"bw-btn-icon",onClick:i=>{i.preventDefault(),i.stopPropagation(),De(!1)},style:{padding:"8px",minWidth:"32px",minHeight:"32px"},children:e.jsx(ee,{size:20})})]}),e.jsx("div",{className:"bw-modal-body",style:{padding:"clamp(16px, 2.5vw, 24px)",fontFamily:'"Work Sans", sans-serif',fontWeight:300},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsx("p",{style:{margin:0,fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-text)",lineHeight:1.6},children:"You are about to switch to Driver Mode. This will change your view to the driver interface where you can manage your driver profile, view assigned bookings, and access driver-specific features."}),e.jsx("p",{style:{margin:0,fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-text)",lineHeight:1.6},children:"Do you want to continue?"}),nt&&e.jsx("div",{style:{padding:"12px",backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"7px",color:"var(--bw-error, #ff4444)",fontSize:"clamp(13px, 1.8vw, 15px)"},children:nt})]})}),e.jsxs("div",{className:"bw-modal-footer",style:{display:"flex",justifyContent:"flex-end",gap:"12px",padding:"clamp(16px, 2.5vw, 24px)",borderTop:"1px solid var(--bw-border)"},children:[e.jsx("button",{type:"button",className:"bw-btn-outline",onClick:i=>{i.preventDefault(),i.stopPropagation(),De(!1)},style:{padding:"clamp(10px, 1.5vw, 14px) clamp(16px, 3vw, 24px)",fontSize:"clamp(14px, 2vw, 16px)",fontFamily:'"Work Sans", sans-serif',fontWeight:600,borderRadius:7},children:"Cancel"}),e.jsx("button",{type:"button",onClick:async i=>{var x,ce,ma,va,fa;i.preventDefault(),i.stopPropagation();try{lt(!0),Vs(null);const xe=await Ti(),ga=((x=xe.data)==null?void 0:x.access_token)||xe.access_token;if(ga){const mi=window.location.hostname,vi=Bi(mi)||"ridez",fi=Di(vi,`/driver/login?token=${encodeURIComponent(ga)}`);window.open(fi,"_blank","noopener,noreferrer"),De(!1)}else Vs(xe.error||"Failed to get driver access token")}catch(xe){console.error("Failed to switch to driver mode:",xe),Vs(((ma=(ce=xe.response)==null?void 0:ce.data)==null?void 0:ma.detail)||((fa=(va=xe.response)==null?void 0:va.data)==null?void 0:fa.message)||xe.message||"Failed to switch to driver mode. Please try again.")}finally{lt(!1)}},disabled:ue,style:{padding:"clamp(10px, 1.5vw, 14px) clamp(16px, 3vw, 24px)",fontSize:"clamp(14px, 2vw, 16px)",fontFamily:'"Work Sans", sans-serif',fontWeight:400,borderRadius:7,backgroundColor:ue?"rgba(155, 97, 209, 0.5)":"rgba(155, 97, 209, 0.81)",color:"#ffffff",border:"none",cursor:ue?"not-allowed":"pointer",transition:"all 0.2s ease",opacity:ue?.6:1},onMouseEnter:i=>{ue||(i.currentTarget.style.backgroundColor="rgba(155, 97, 209, 0.81)")},onMouseLeave:i=>{ue||(i.currentTarget.style.backgroundColor="rgba(155, 97, 209, 0.81)")},children:ue?"Switching...":"Continue"})]})]})})]})})(),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(clamp(120px, 15vw, 180px), 1fr))",gap:"clamp(12px, 2vw, 20px)",marginBottom:"clamp(16px, 3vw, 24px)"},children:[e.jsxs("div",{className:"bw-card",style:{padding:"clamp(16px, 2.5vw, 24px)",textAlign:"center",border:o?"1px solid #e5e7eb":"1px solid #333",background:o?"#ffffff !important":"linear-gradient(135deg, rgba(30, 30, 30, 0.8) 0%, rgba(20, 20, 20, 0.9) 100%) !important",boxShadow:o?"0 1px 2px 0 rgba(0, 0, 0, 0.05)":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"clamp(24px, 4vw, 36px)",fontWeight:600,color:o?"#1a1a1a":"#ffffff",marginBottom:"clamp(4px, 1vw, 6px)",fontFamily:'"Work Sans", sans-serif'},children:(b==null?void 0:b.total_drivers)??F.length}),e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:o?"#1a1a1a":"#ffffff",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:"Total Drivers"})]}),e.jsxs("div",{className:"bw-card",style:{padding:"clamp(16px, 2.5vw, 24px)",textAlign:"center",border:o?"1px solid #e5e7eb":"1px solid #333",background:o?"#ffffff !important":"linear-gradient(135deg, rgba(30, 30, 30, 0.8) 0%, rgba(20, 20, 20, 0.9) 100%) !important",boxShadow:o?"0 1px 2px 0 rgba(0, 0, 0, 0.05)":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"clamp(24px, 4vw, 36px)",fontWeight:600,color:o?"#1a1a1a":"#ffffff",marginBottom:"clamp(4px, 1vw, 6px)",fontFamily:'"Work Sans", sans-serif'},children:(b==null?void 0:b.total_vehicles)??y.length}),e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:o?"#1a1a1a":"#ffffff",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:"Total Vehicles"})]}),e.jsxs("div",{className:"bw-card",style:{padding:"clamp(16px, 2.5vw, 24px)",textAlign:"center",border:o?"1px solid #e5e7eb":"1px solid #333",background:o?"#ffffff !important":"linear-gradient(135deg, rgba(30, 30, 30, 0.8) 0%, rgba(20, 20, 20, 0.9) 100%) !important",boxShadow:o?"0 1px 2px 0 rgba(0, 0, 0, 0.05)":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"clamp(24px, 4vw, 36px)",fontWeight:600,color:o?"#1a1a1a":"#ffffff",marginBottom:"clamp(4px, 1vw, 6px)",fontFamily:'"Work Sans", sans-serif'},children:(b==null?void 0:b.total_bookings)??S.length}),e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:o?"#1a1a1a":"#ffffff",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:"Total Bookings"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(clamp(280px, 40vw, 500px), 1fr))",gap:"clamp(16px, 3vw, 24px)"},children:[e.jsxs("div",{className:"bw-card",style:{padding:"clamp(16px, 2.5vw, 24px)",border:o?"1px solid #e2e8f0":"1px solid var(--bw-border)",backgroundColor:o?"#ffffff":"var(--bw-bg-secondary)",boxShadow:o?"0 1px 2px 0 rgba(0, 0, 0, 0.05)":"0 4px 12px rgba(0, 0, 0, 0.15)",borderRadius:o?"12px":void 0},children:[e.jsx("h3",{style:{margin:"0 0 clamp(12px, 2vw, 16px) 0",fontSize:"clamp(16px, 2.5vw, 20px)",fontWeight:400,fontFamily:'"Work Sans", sans-serif'},children:"Company Information"}),e.jsxs("div",{className:"bw-info-grid",style:{display:"flex",flexDirection:"column",gap:"clamp(8px, 1.5vw, 12px)"},children:[e.jsxs("div",{className:"bw-info-item",style:{display:"flex",justifyContent:"space-between",paddingBottom:"clamp(6px, 1vw, 8px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:"Company Name:"}),e.jsx("span",{className:"bw-info-value",style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:(qt=p==null?void 0:p.profile)==null?void 0:qt.company_name})]}),e.jsxs("div",{className:"bw-info-item",style:{display:"flex",justifyContent:"space-between",paddingBottom:"clamp(6px, 1vw, 8px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:"City:"}),e.jsx("span",{className:"bw-info-value",style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:(Qt=p==null?void 0:p.profile)==null?void 0:Qt.city})]}),e.jsxs("div",{className:"bw-info-item",style:{display:"flex",justifyContent:"space-between",paddingBottom:"clamp(6px, 1vw, 8px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("span",{className:"bw-info-label",style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:"Status:"}),e.jsx("span",{className:`bw-info-value ${((Kt=p==null?void 0:p.profile)==null?void 0:Kt.subscription_status)==="active"?"text-green-500":"text-yellow-500"}`,style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:((Gt=p==null?void 0:p.profile)==null?void 0:Gt.subscription_status)==="active"?"Active":((Xt=p==null?void 0:p.profile)==null?void 0:Xt.subscription_status)||"Free"})]}),e.jsxs("div",{className:"bw-info-item",style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{className:"bw-info-label",style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:"Member Since:"}),e.jsx("span",{className:"bw-info-value",style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:new Date(p==null?void 0:p.created_on).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"bw-card",style:{padding:"clamp(16px, 2.5vw, 24px)",border:o?"1px solid #e2e8f0":"1px solid var(--bw-border)",backgroundColor:o?"#ffffff":"var(--bw-bg-secondary)",boxShadow:o?"0 1px 2px 0 rgba(0, 0, 0, 0.05)":"0 4px 12px rgba(0, 0, 0, 0.15)",borderRadius:o?"12px":void 0},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"clamp(12px, 2vw, 16px)"},children:[e.jsx("h3",{style:{margin:0,fontSize:"clamp(16px, 2.5vw, 20px)",fontWeight:400,fontFamily:'"Work Sans", sans-serif'},children:"Recent Bookings"}),e.jsx("button",{className:`bw-btn-outline ${rs?"custom-hover-border":""}`,onClick:()=>Vt("bookings"),onMouseEnter:()=>ct(!0),onMouseLeave:()=>ct(!1),style:{fontSize:a?"clamp(14px, 2vw, 16px)":"clamp(10px, 1.2vw, 12px)",padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"clamp(4px, 0.8vw, 6px) clamp(8px, 1.5vw, 12px)",fontWeight:600,fontFamily:'"Work Sans", sans-serif',display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:rs?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:rs?"rgba(155, 97, 209, 0.81)":void 0,color:rs?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:rs?"rgba(155, 97, 209, 0.81)":"inherit"},children:"View All"})})]}),e.jsx("div",{className:"bw-recent-list",style:{maxHeight:"clamp(360px, 45vh, 450px)",overflowY:Be?"auto":"hidden",overflowX:"hidden",paddingRight:Be?"8px":"0"},children:S.length===0?e.jsxs("div",{className:"bw-empty-state",style:{padding:"24px",textAlign:"center"},children:[e.jsx(js,{size:32,style:{color:"#9ca3af",marginBottom:"8px"}}),e.jsx("div",{style:{color:"#6b7280",fontSize:"14px"},children:"No bookings yet"}),e.jsx("div",{style:{color:"#9ca3af",fontSize:"12px"},children:"Bookings will appear here"})]}):e.jsxs(e.Fragment,{children:[(Be?S:S.slice(0,3)).map((s,n)=>e.jsxs("div",{className:"bw-recent-item",onClick:()=>s.id&&Ps(s.id),style:{border:"1px solid var(--bw-border)",borderRadius:"8px",padding:"12px",marginBottom:"8px",backgroundColor:"var(--bw-bg-secondary)",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:r=>{r.currentTarget.style.backgroundColor="var(--bw-bg-hover-strong)",r.currentTarget.style.borderColor="var(--bw-border-strong)"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="var(--bw-bg-secondary)",r.currentTarget.style.borderColor="var(--bw-border)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",flex:1},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",paddingTop:"2px"},children:[e.jsx(ka,{size:8,weight:"fill",style:{color:"#10b981",flexShrink:0}}),e.jsx("div",{style:{width:"2px",height:"24px",borderLeft:`2px dotted ${o?"#cbd5e1":"var(--bw-border)"}`,margin:"2px 0"}}),e.jsx(ka,{size:8,weight:"fill",style:{color:"#ef4444",flexShrink:0}})]}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{className:"bw-recent-title",style:{fontWeight:"600",fontSize:"14px",color:"var(--bw-text)",marginBottom:"4px",lineHeight:1.4},children:[e.jsx("div",{style:{marginBottom:"2px"},children:s.pickup_location}),e.jsx("div",{style:{color:"var(--bw-muted)",fontSize:"12px",fontWeight:400},children:""}),e.jsx("div",{children:s.dropoff_location})]}),e.jsxs("div",{className:"bw-recent-meta",style:{fontSize:"12px",color:"var(--bw-muted)",display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"},children:[e.jsx("span",{children:new Date(s.pickup_time).toLocaleDateString()}),e.jsx("span",{children:""}),e.jsx("span",{children:s.service_type||"Standard"})]})]})]}),e.jsx("div",{className:"bw-recent-status",children:e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 10px",borderRadius:"12px",fontSize:"12px",fontWeight:500,color:(()=>{var d;const r=(d=s.booking_status)==null?void 0:d.toLowerCase();return o?r==="completed"||r==="active"?"#047857":r==="pending"?"#d97706":r==="cancelled"?"#dc2626":"#64748b":G(s.booking_status)})(),backgroundColor:(()=>{var d;const r=(d=s.booking_status)==null?void 0:d.toLowerCase();return o?r==="completed"||r==="active"?"#d1fae5":r==="pending"?"#fef3c7":r==="cancelled"?"#fee2e2":"#f1f5f9":r==="completed"||r==="active"?"rgba(16, 185, 129, 0.1)":r==="pending"?"rgba(245, 158, 11, 0.1)":r==="cancelled"?"rgba(239, 68, 68, 0.1)":"rgba(107, 114, 128, 0.1)"})(),backdropFilter:o?"none":"blur(4px)",WebkitBackdropFilter:o?"none":"blur(4px)",border:o?"none":`1px solid ${(()=>{var d;const r=(d=s.booking_status)==null?void 0:d.toLowerCase();return r==="completed"||r==="active"?"rgba(16, 185, 129, 0.2)":r==="pending"?"rgba(245, 158, 11, 0.2)":r==="cancelled"?"rgba(239, 68, 68, 0.2)":"rgba(107, 114, 128, 0.2)"})()}`,fontFamily:'"Work Sans", sans-serif'},children:[ri(s.booking_status),e.jsx("span",{style:{textTransform:"capitalize"},children:s.booking_status||"Unknown"})]})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:a?"1fr":"1fr 1fr",gap:"8px",fontSize:"12px",color:"var(--bw-muted)",borderTop:"1px solid var(--bw-border)",paddingTop:"8px"},children:[!a&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontWeight:"500",color:"var(--bw-text)"},children:"Customer:"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:o?"rgba(155, 97, 209, 0.1)":"rgba(155, 97, 209, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:600,color:o?"#7c3aed":"rgba(155, 97, 209, 0.9)",flexShrink:0},children:Lt(s.customer_name)}),e.jsx("span",{children:s.customer_name||"Anonymous Customer"})]})]}),!a&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontWeight:"500",color:"var(--bw-text)"},children:"Driver:"}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:s.driver_name&&s.driver_name!=="None"?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:o?"#e2e8f0":"rgba(59, 130, 246, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:600,color:o?"#475569":"rgba(59, 130, 246, 0.9)",flexShrink:0},children:Lt(s.driver_name)}),e.jsx("span",{children:s.driver_name})]}):e.jsx("span",{style:{color:"var(--bw-muted)"},children:"No assigned driver"})})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontWeight:"500",color:"var(--bw-text)"},children:"Vehicle:"})," ",s.vehicle||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontWeight:"500",color:"var(--bw-text)"},children:"Fare:"})," $",s.estimated_price||"0.00"]})]})]},s.id||`booking-${n}`)),S.length>3&&e.jsx("div",{style:{border:"1px dashed #d1d5db",borderRadius:"8px",padding:"12px",textAlign:"center",backgroundColor:"#f9fafb",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>Xa(!Be),onMouseEnter:s=>{s.currentTarget.style.backgroundColor="#f3f4f6",s.currentTarget.style.borderColor="#9ca3af"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="#f9fafb",s.currentTarget.style.borderColor="#d1d5db"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",color:"#6b7280",fontSize:"14px"},children:[e.jsx(js,{size:16}),e.jsx("span",{children:Be?"Show Less":`View ${S.length-3} more bookings`}),Be?e.jsx(Ca,{size:16}):e.jsx("span",{style:{fontSize:"12px"},children:""})]})})]})}),S.length>0&&e.jsx("div",{style:{marginTop:"clamp(12px, 2vw, 16px)",padding:"clamp(10px, 1.5vw, 12px)",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"6px",border:"1px solid var(--bw-border)"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"clamp(8px, 1.5vw, 12px)",fontSize:"clamp(11px, 1.3vw, 12px)"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontWeight:400,color:"var(--bw-text)",fontFamily:'"Work Sans", sans-serif',marginBottom:"4px"},children:S.filter(s=>s.booking_status==="completed").length}),e.jsx("div",{style:{color:"var(--bw-muted)",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:"Completed"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontWeight:400,color:"var(--bw-text)",fontFamily:'"Work Sans", sans-serif',marginBottom:"4px"},children:S.filter(s=>s.booking_status==="active").length}),e.jsx("div",{style:{color:"var(--bw-muted)",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:"Active"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontWeight:400,color:"var(--bw-text)",fontFamily:'"Work Sans", sans-serif',marginBottom:"4px"},children:S.filter(s=>s.booking_status==="pending").length}),e.jsx("div",{style:{color:"var(--bw-muted)",fontWeight:300,fontFamily:'"Work Sans", sans-serif'},children:"Pending"})]})]})})]})]})]}),Ce==="drivers"&&e.jsxs("div",{className:"bw-content",children:[e.jsx("div",{className:"bw-content-header",style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:"clamp(16px, 3vw, 24px)",gap:"clamp(12px, 2vw, 16px)"},children:e.jsxs("button",{className:`bw-btn bw-btn-action ${je?"custom-hover-border":""}`,onClick:()=>M(!0),onMouseEnter:()=>xt(!0),onMouseLeave:()=>xt(!1),style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:je?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:je?"rgba(155, 97, 209, 0.81)":void 0,color:je?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:[e.jsx(Us,{className:"w-4 h-4",style:{width:a?"clamp(18px, 2.5vw, 20px)":"18px",height:a?"clamp(18px, 2.5vw, 20px)":"18px",color:je?"rgba(155, 97, 209, 0.81)":"inherit",fill:je?"rgba(155, 97, 209, 0.81)":"currentColor"}}),e.jsx("span",{style:{color:je?"rgba(155, 97, 209, 0.81)":"inherit"},children:"Add Driver"})]})}),e.jsx("div",{className:"bw-card",style:{padding:"clamp(16px, 3vw, 24px)",border:"1px solid var(--bw-border)",borderRadius:"12px"},children:a?e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)"},children:F.length===0?e.jsxs("div",{className:"bw-empty-state",style:{padding:"clamp(24px, 4vw, 48px)",textAlign:"center"},children:[e.jsx("div",{className:"bw-empty-icon",style:{marginBottom:"clamp(12px, 2vw, 16px)",display:"flex",justifyContent:"center"},children:e.jsx(Rs,{size:32,style:{width:"clamp(32px, 5vw, 48px)",height:"clamp(32px, 5vw, 48px)",color:"var(--bw-muted)"}})}),e.jsx("div",{className:"bw-empty-text",style:{fontSize:"clamp(16px, 2.5vw, 20px)",color:"var(--bw-text)",marginBottom:"clamp(8px, 1.5vw, 12px)",fontFamily:'"Work Sans", sans-serif',fontWeight:500},children:"No drivers yet"}),e.jsx("div",{className:"bw-empty-subtext",style:{fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:"Add your first driver to get started"})]}):F.map(s=>e.jsxs("div",{onClick:()=>Et(s.id),style:{cursor:"pointer",border:"1px solid var(--bw-border)",borderRadius:"clamp(8px, 1.5vw, 12px)",padding:"clamp(16px, 3vw, 24px)",backgroundColor:"var(--bw-bg-secondary)",transition:"all 0.2s ease"},onMouseEnter:n=>{n.currentTarget.style.backgroundColor="var(--bw-bg-hover-strong)",n.currentTarget.style.borderColor="var(--bw-border-strong)"},onMouseLeave:n=>{n.currentTarget.style.backgroundColor="var(--bw-bg-secondary)",n.currentTarget.style.borderColor="var(--bw-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(12px, 2vw, 16px)",marginBottom:"clamp(12px, 2vw, 16px)"},children:[e.jsx("div",{style:{width:"clamp(40px, 5vw, 50px)",height:"clamp(40px, 5vw, 50px)",borderRadius:"50%",backgroundColor:"var(--bw-bg)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid var(--bw-border)",flexShrink:0},children:e.jsx(Rs,{className:"w-5 h-5",style:{width:"clamp(18px, 2.5vw, 20px)",height:"clamp(18px, 2.5vw, 20px)",color:"var(--bw-text)"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontSize:"clamp(18px, 3vw, 22px)",fontWeight:600,color:"var(--bw-text)",marginBottom:"clamp(4px, 1vw, 8px)",fontFamily:'"Work Sans", sans-serif',lineHeight:1.2},children:[s.first_name," ",s.last_name]}),e.jsx("div",{style:{fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:s.email})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"clamp(12px, 2vw, 16px)",marginBottom:"clamp(12px, 2vw, 16px)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",color:"var(--bw-muted)",marginBottom:"clamp(6px, 1vw, 8px)",fontFamily:'"Work Sans", sans-serif',fontWeight:500},children:"Contact"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(6px, 1.5vw, 8px)",fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-text)",fontFamily:'"Work Sans", sans-serif'},children:[e.jsx(Wa,{size:12,style:{width:"clamp(14px, 2vw, 16px)",height:"clamp(14px, 2vw, 16px)",color:"var(--bw-muted)"}}),s.phone_no]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",color:"var(--bw-muted)",marginBottom:"clamp(6px, 1vw, 8px)",fontFamily:'"Work Sans", sans-serif',fontWeight:500},children:"Completed Rides"}),e.jsx("div",{style:{fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-text)",fontFamily:'"Work Sans", sans-serif',fontWeight:600},children:s.completed_rides})]})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"clamp(8px, 1.5vw, 10px)",alignItems:"center"},children:[e.jsx("span",{className:`bw-badge ${s.driver_type==="in_house"?"bw-badge-primary":"bw-badge-secondary"}`,style:{fontSize:"clamp(12px, 1.5vw, 14px)",padding:"clamp(6px, 1vw, 8px) clamp(12px, 2vw, 16px)",fontFamily:'"Work Sans", sans-serif'},children:s.driver_type==="in_house"?"In-House":"Outsourced"}),e.jsx("span",{className:`bw-badge ${s.is_active?"bw-badge-success":"bw-badge-warning"}`,style:{fontSize:"clamp(12px, 1.5vw, 14px)",padding:"clamp(6px, 1vw, 8px) clamp(12px, 2vw, 16px)",fontFamily:'"Work Sans", sans-serif'},children:s.is_active?"Active":"Inactive"}),e.jsx("span",{className:`bw-badge ${s.is_registered==="registered"?"bw-badge-success":"bw-badge-warning"}`,style:{fontSize:"clamp(12px, 1.5vw, 14px)",padding:"clamp(6px, 1vw, 8px) clamp(12px, 2vw, 16px)",fontFamily:'"Work Sans", sans-serif'},children:s.is_registered==="registered"?"Registered":"Pending"})]})]},s.id))}):e.jsxs("div",{className:"bw-table",children:[e.jsxs("div",{className:"bw-table-header",children:[e.jsx("div",{className:"bw-table-cell",children:"Driver"}),e.jsx("div",{className:"bw-table-cell",children:"Contact"}),e.jsx("div",{className:"bw-table-cell",children:"Type"}),e.jsx("div",{className:"bw-table-cell",children:"Status"}),e.jsx("div",{className:"bw-table-cell",children:"Registration"}),e.jsx("div",{className:"bw-table-cell",children:"Rides"})]}),F.length===0?e.jsxs("div",{className:"bw-empty-state",children:[e.jsx("div",{className:"bw-empty-icon",children:e.jsx(Rs,{size:32})}),e.jsx("div",{className:"bw-empty-text",children:"No drivers yet"}),e.jsx("div",{className:"bw-empty-subtext",children:"Add your first driver to get started"})]}):F.map(s=>e.jsxs("div",{className:"bw-table-row",onClick:()=>Et(s.id),style:{cursor:"pointer"},children:[e.jsx("div",{className:"bw-table-cell",children:e.jsxs("div",{className:"bw-user-info",children:[e.jsx("div",{className:"bw-user-avatar",children:e.jsx(Rs,{size:16})}),e.jsxs("div",{children:[e.jsxs("div",{className:"bw-user-name",children:[s.first_name," ",s.last_name]}),e.jsx("div",{className:"bw-user-email",children:s.email})]})]})}),e.jsx("div",{className:"bw-table-cell",children:e.jsx("div",{className:"bw-contact-info",children:e.jsxs("div",{className:"bw-contact-item",children:[e.jsx(Wa,{size:12}),s.phone_no]})})}),e.jsx("div",{className:"bw-table-cell",children:e.jsx("span",{className:`bw-badge ${s.driver_type==="in_house"?"bw-badge-primary":"bw-badge-secondary"}`,children:s.driver_type==="in_house"?"In-House":"Outsourced"})}),e.jsx("div",{className:"bw-table-cell",children:e.jsx("span",{className:`bw-badge ${s.is_active?"bw-badge-success":"bw-badge-warning"}`,children:s.is_active?"Active":"Inactive"})}),e.jsx("div",{className:"bw-table-cell",children:e.jsx("span",{className:`bw-badge ${s.is_registered==="registered"?"bw-badge-success":"bw-badge-warning"}`,children:s.is_registered==="registered"?"Registered":"Pending"})}),e.jsx("div",{className:"bw-table-cell",children:s.completed_rides})]},s.id))]})})]}),Ce==="bookings"&&e.jsxs("div",{className:"bw-content",children:[e.jsx("div",{className:"bw-content-header",style:{display:"flex",flexDirection:a?"column":"row",justifyContent:"flex-end",alignItems:a?"flex-start":"center",marginBottom:"clamp(16px, 3vw, 24px)",gap:"clamp(12px, 2vw, 16px)"},children:e.jsx("div",{style:{display:"flex",gap:"clamp(8px, 1.5vw, 12px)",alignItems:"center",flexWrap:"wrap"},children:e.jsx("span",{className:"bw-text-muted",style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontFamily:'"Work Sans", sans-serif'},children:le?e.jsxs(e.Fragment,{children:["Showing: ",E.length," of ",S.length,"  Completed: ",E.filter(s=>s.booking_status==="completed").length,"  Active: ",E.filter(s=>s.booking_status==="active").length,"  Pending: ",E.filter(s=>s.booking_status==="pending").length]}):e.jsxs(e.Fragment,{children:["Total: ",S.length,"  Completed: ",S.filter(s=>s.booking_status==="completed").length,"  Active: ",S.filter(s=>s.booking_status==="active").length,"  Pending: ",S.filter(s=>s.booking_status==="pending").length]})})})}),e.jsxs("div",{className:"booking-search-filters-wrapper",style:{marginBottom:"clamp(16px, 3vw, 24px)",display:"flex",gap:"clamp(12px, 2vw, 16px)",alignItems:"center",flexWrap:a?"wrap":"nowrap",justifyContent:"space-between"},children:[e.jsx("div",{className:"booking-search-container",style:{flex:1,minWidth:a?"100%":"200px",maxWidth:"50%"},children:e.jsx("div",{style:{position:"relative",display:"flex",alignItems:"center",gap:"8px",width:"100%"},children:e.jsxs("div",{style:{position:"relative",flex:1,display:"flex",alignItems:"center",width:"100%"},children:[e.jsx(Wi,{size:"clamp(16px, 2.5vw, 20px)",style:{position:"absolute",left:"clamp(12px, 2vw, 16px)",color:"var(--bw-muted)",pointerEvents:"none",zIndex:1}}),e.jsx("input",{type:"text",placeholder:"Search by customer name or driver name...",value:Ws,onChange:s=>He(s.target.value),className:"bw-input",style:{width:"100%",paddingLeft:"clamp(40px, 6vw, 48px)",paddingRight:le?"clamp(40px, 6vw, 48px)":"clamp(12px, 2vw, 16px)",fontSize:"clamp(14px, 2vw, 16px)",fontFamily:'"Work Sans", sans-serif',border:"1px solid var(--bw-border)",borderRadius:"8px",backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",minHeight:"clamp(40px, 5vw, 48px)",boxSizing:"border-box"}}),le&&e.jsx("button",{onClick:Ls,style:{position:"absolute",right:"clamp(12px, 2vw, 16px)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--bw-muted)",transition:"color 0.2s ease"},onMouseEnter:s=>{s.currentTarget.style.color="var(--bw-text)"},onMouseLeave:s=>{s.currentTarget.style.color="var(--bw-muted)"},"aria-label":"Clear search",children:e.jsx(Na,{style:{width:"clamp(16px, 2.5vw, 20px)",height:"clamp(16px, 2.5vw, 20px)"}})})]})})}),e.jsxs("div",{className:"booking-filters-container",style:{marginLeft:"auto",minWidth:0},children:[e.jsxs("select",{value:$,onChange:s=>{ks(s.target.value),setTimeout(()=>{(async()=>{try{const r={};s.target.value&&(r.booking_status=s.target.value),V&&(r.service_type=V),L&&(r.vehicle_id=L);const d=await As(Object.keys(r).length>0?r:void 0);d.data!==void 0&&H(d.data||[])}catch(r){console.error("Failed to reload bookings:",r)}})()},0)},className:"bw-input booking-filter-select",style:{padding:"clamp(8px, 1.5vw, 12px)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:'"Work Sans", sans-serif',border:"1px solid var(--bw-border)",borderRadius:"8px",backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",minHeight:"clamp(40px, 5vw, 48px)",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",minWidth:0},children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsxs("select",{value:V,onChange:s=>{Cs(s.target.value),setTimeout(()=>{(async()=>{try{const r={};$&&(r.booking_status=$),s.target.value&&(r.service_type=s.target.value),L&&(r.vehicle_id=L);const d=await As(Object.keys(r).length>0?r:void 0);d.data!==void 0&&H(d.data||[])}catch(r){console.error("Failed to reload bookings:",r)}})()},0)},className:"bw-input booking-filter-select",style:{padding:"clamp(8px, 1.5vw, 12px)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:'"Work Sans", sans-serif',border:"1px solid var(--bw-border)",borderRadius:"8px",backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",minHeight:"clamp(40px, 5vw, 48px)",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",minWidth:0},children:[e.jsx("option",{value:"",children:"All Services"}),e.jsx("option",{value:"dropoff",children:"Dropoff"}),e.jsx("option",{value:"hourly",children:"Hourly"}),e.jsx("option",{value:"airport",children:"Airport"})]}),e.jsxs("select",{value:L||"",onChange:s=>{const n=s.target.value?parseInt(s.target.value):null;t(n),setTimeout(()=>{(async()=>{try{const d={};$&&(d.booking_status=$),V&&(d.service_type=V),n&&(d.vehicle_id=n);const c=await As(Object.keys(d).length>0?d:void 0);c.data!==void 0&&H(c.data||[])}catch(d){console.error("Failed to reload bookings:",d)}})()},0)},className:"bw-input booking-filter-select booking-filter-vehicle",style:{padding:"clamp(8px, 1.5vw, 12px)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:'"Work Sans", sans-serif',border:"1px solid var(--bw-border)",borderRadius:"8px",backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",minHeight:"clamp(40px, 5vw, 48px)",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",minWidth:0},children:[e.jsx("option",{value:"",children:"All Vehicles"}),y.map(s=>e.jsxs("option",{value:s.id,title:`${s.make} ${s.model} ${s.year?`(${s.year})`:""} ${s.license_plate?`- ${s.license_plate}`:""}`,children:[s.make," ",s.model," ",s.year?`(${s.year})`:""," ",s.license_plate?`- ${s.license_plate}`:""]},s.id))]})]})]}),e.jsxs("div",{style:{marginTop:"-clamp(16px, 3vw, 24px)",marginBottom:"clamp(16px, 3vw, 24px)"},children:[Ns&&e.jsxs("div",{style:{marginTop:"8px",padding:"8px 12px",backgroundColor:"var(--bw-warning-bg, #fef3c7)",border:"1px solid var(--bw-warning-border, #f59e0b)",borderRadius:"6px",color:"var(--bw-warning-text, #92400e)",fontSize:"clamp(12px, 1.5vw, 14px)",fontFamily:'"Work Sans", sans-serif',display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(me,{size:16,style:{flexShrink:0}}),e.jsx("span",{children:Ns})]}),le&&E.length===0&&e.jsxs("div",{style:{marginTop:"8px",padding:"12px",textAlign:"center",color:"var(--bw-muted)",fontSize:"clamp(14px, 2vw, 16px)",fontFamily:'"Work Sans", sans-serif'},children:['No bookings found matching "',Ws,'"']})]}),e.jsx("div",{className:"bw-card",style:{padding:"clamp(16px, 3vw, 24px)",border:"1px solid var(--bw-border)",borderRadius:"12px"},children:a?e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)"},children:E.length===0?e.jsxs("div",{className:"bw-empty-state",style:{padding:"clamp(24px, 4vw, 48px)",textAlign:"center"},children:[e.jsx("div",{className:"bw-empty-icon",style:{marginBottom:"clamp(12px, 2vw, 16px)",display:"flex",justifyContent:"center"},children:e.jsx(js,{size:32,style:{width:"clamp(32px, 5vw, 48px)",height:"clamp(32px, 5vw, 48px)",color:"var(--bw-muted)"}})}),e.jsx("div",{className:"bw-empty-text",style:{fontSize:"clamp(16px, 2.5vw, 20px)",color:"var(--bw-text)",marginBottom:"clamp(8px, 1.5vw, 12px)",fontFamily:'"Work Sans", sans-serif',fontWeight:500},children:"No bookings yet"}),e.jsx("div",{className:"bw-empty-subtext",style:{fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:"Bookings will appear here once riders start using your service"})]}):E.map((s,n)=>{var r,d;return e.jsxs("div",{onClick:()=>s.id&&Ps(s.id),style:{cursor:"pointer",border:"1px solid var(--bw-border)",borderRadius:"clamp(8px, 1.5vw, 12px)",padding:"clamp(16px, 3vw, 24px)",backgroundColor:"var(--bw-bg-secondary)",transition:"all 0.2s ease"},onMouseEnter:c=>{c.currentTarget.style.backgroundColor="var(--bw-bg-hover-strong)",c.currentTarget.style.borderColor="var(--bw-border-strong)"},onMouseLeave:c=>{c.currentTarget.style.backgroundColor="var(--bw-bg-secondary)",c.currentTarget.style.borderColor="var(--bw-border)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"clamp(12px, 2vw, 16px)",paddingBottom:"clamp(12px, 2vw, 16px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsxs("div",{style:{fontSize:"clamp(18px, 3vw, 22px)",fontWeight:600,color:"var(--bw-text)",fontFamily:'"Work Sans", sans-serif'},children:["#",s.id]}),e.jsx("div",{style:{padding:"4px 12px",borderRadius:"8px",backgroundColor:G(s.booking_status)+"20",border:`1px solid ${G(s.booking_status)}`,color:G(s.booking_status),fontSize:"clamp(11px, 1.8vw, 12px)",fontFamily:'"Work Sans", sans-serif',fontWeight:500,display:"inline-block"},children:((r=s.booking_status)==null?void 0:r.charAt(0).toUpperCase())+((d=s.booking_status)==null?void 0:d.slice(1))})]}),e.jsxs("div",{style:{marginBottom:"clamp(12px, 2vw, 16px)"},children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",color:"var(--bw-muted)",marginBottom:"clamp(4px, 1vw, 6px)",fontFamily:'"Work Sans", sans-serif',fontWeight:500},children:"Customer"}),e.jsx("div",{style:{fontSize:"clamp(16px, 2.5vw, 18px)",fontWeight:600,color:"var(--bw-text)",fontFamily:'"Work Sans", sans-serif'},children:s.customer_name||"Anonymous Customer"})]}),e.jsxs("div",{style:{marginBottom:"clamp(12px, 2vw, 16px)"},children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",color:"var(--bw-muted)",marginBottom:"clamp(8px, 1.5vw, 12px)",fontFamily:'"Work Sans", sans-serif',fontWeight:500},children:"Route"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(8px, 1.5vw, 10px)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"clamp(8px, 1.5vw, 10px)",fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-text)",fontFamily:'"Work Sans", sans-serif'},children:[e.jsx(Le,{size:16,style:{width:"clamp(16px, 2.5vw, 18px)",height:"clamp(16px, 2.5vw, 18px)",color:"var(--bw-muted)",marginTop:"2px",flexShrink:0}}),e.jsxs("span",{children:[e.jsx("strong",{children:"From:"})," ",s.pickup_location]})]}),s.dropoff_location&&e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"clamp(8px, 1.5vw, 10px)",fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-text)",fontFamily:'"Work Sans", sans-serif'},children:[e.jsx(Le,{size:16,style:{width:"clamp(16px, 2.5vw, 18px)",height:"clamp(16px, 2.5vw, 18px)",color:"var(--bw-muted)",marginTop:"2px",flexShrink:0}}),e.jsxs("span",{children:[e.jsx("strong",{children:"To:"})," ",s.dropoff_location]})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"clamp(12px, 2vw, 16px)",marginBottom:"clamp(12px, 2vw, 16px)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",color:"var(--bw-muted)",marginBottom:"clamp(6px, 1vw, 8px)",fontFamily:'"Work Sans", sans-serif',fontWeight:500},children:"Service"}),e.jsx("span",{className:"bw-badge bw-badge-secondary",style:{fontSize:"clamp(12px, 1.5vw, 14px)",padding:"clamp(6px, 1vw, 8px) clamp(12px, 2vw, 16px)",fontFamily:'"Work Sans", sans-serif'},children:s.service_type||"Standard"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",color:"var(--bw-muted)",marginBottom:"clamp(6px, 1vw, 8px)",fontFamily:'"Work Sans", sans-serif',fontWeight:500},children:"Date & Time"}),e.jsx("div",{style:{fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-text)",fontFamily:'"Work Sans", sans-serif'},children:new Date(s.pickup_time).toLocaleDateString()}),e.jsx("div",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif',marginTop:"clamp(2px, 0.5vw, 4px)"},children:new Date(s.pickup_time).toLocaleTimeString()})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(8px, 1.5vw, 10px)",paddingTop:"clamp(12px, 2vw, 16px)",borderTop:"1px solid var(--bw-border)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:[e.jsx("strong",{children:"Vehicle:"})," ",s.vehicle||"N/A"]}),e.jsxs("div",{style:{fontSize:"clamp(18px, 3vw, 22px)",fontWeight:700,color:"#059669",fontFamily:'"Work Sans", sans-serif'},children:["$",s.estimated_price||"0.00"]})]}),s.driver_name&&s.driver_name!=="None"&&e.jsxs("div",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:[e.jsx("strong",{children:"Driver:"})," ",s.driver_name]})]})]},s.id||`booking-${n}`)})}):e.jsxs("div",{className:"bw-table",children:[e.jsxs("div",{className:"bw-table-header",children:[e.jsx("div",{className:"bw-table-cell",children:"Booking ID"}),e.jsx("div",{className:"bw-table-cell",children:"Customer & Route"}),e.jsx("div",{className:"bw-table-cell",children:"Service Details"}),e.jsx("div",{className:"bw-table-cell",children:"Date & Time"}),e.jsx("div",{className:"bw-table-cell",children:"Driver & Vehicle"}),e.jsx("div",{className:"bw-table-cell",children:"Status"}),e.jsx("div",{className:"bw-table-cell",children:"Fare"})]}),E.length===0?e.jsxs("div",{className:"bw-empty-state",children:[e.jsx("div",{className:"bw-empty-icon",children:e.jsx(js,{size:32})}),e.jsx("div",{className:"bw-empty-text",children:"No bookings yet"}),e.jsx("div",{className:"bw-empty-subtext",children:"Bookings will appear here once riders start using your service"})]}):E.map((s,n)=>{var r,d;return e.jsxs("div",{className:"bw-table-row",onClick:()=>s.id&&Ps(s.id),style:{cursor:"pointer"},onMouseEnter:c=>{c.currentTarget.style.backgroundColor="var(--bw-bg-hover)"},onMouseLeave:c=>{c.currentTarget.style.backgroundColor="transparent"},children:[e.jsx("div",{className:"bw-table-cell",children:e.jsxs("div",{style:{fontWeight:"600",color:"#374151"},children:["#",s.id]})}),e.jsx("div",{className:"bw-table-cell",children:e.jsxs("div",{className:"bw-route-info",children:[e.jsx("div",{style:{marginBottom:"4px"},children:e.jsx("span",{style:{fontWeight:"500",color:"#111827"},children:s.customer_name||"Anonymous Customer"})}),e.jsxs("div",{className:"bw-route-item",style:{fontSize:"12px",color:"#6b7280"},children:[e.jsx(Le,{size:12}),e.jsxs("span",{style:{marginLeft:"4px"},children:["From: ",s.pickup_location]})]}),s.dropoff_location&&e.jsxs("div",{className:"bw-route-item",style:{fontSize:"12px",color:"#6b7280"},children:[e.jsx(Le,{size:12}),e.jsxs("span",{style:{marginLeft:"4px"},children:["To: ",s.dropoff_location]})]})]})}),e.jsx("div",{className:"bw-table-cell",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[e.jsx("span",{className:"bw-badge bw-badge-secondary",style:{fontSize:"11px"},children:s.service_type||"Standard"}),s.estimated_duration&&e.jsxs("span",{style:{fontSize:"11px",color:"#6b7280"},children:["Est: ",s.estimated_duration," min"]})]})}),e.jsx("div",{className:"bw-table-cell",children:e.jsxs("div",{className:"bw-datetime-info",children:[e.jsx("div",{style:{fontWeight:"500",color:"#111827"},children:new Date(s.pickup_time).toLocaleDateString()}),e.jsx("div",{className:"bw-text-muted",style:{fontSize:"12px"},children:new Date(s.pickup_time).toLocaleTimeString()}),s.dropoff_time&&e.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"2px"},children:["Drop: ",new Date(s.dropoff_time).toLocaleTimeString()]})]})}),e.jsx("div",{className:"bw-table-cell",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[e.jsxs("div",{style:{fontSize:"12px"},children:[e.jsx("span",{style:{fontWeight:"500"},children:"Driver:"})," ",s.driver_name&&s.driver_name!=="None"?s.driver_name:"No assigned driver"]}),e.jsxs("div",{style:{fontSize:"12px"},children:[e.jsx("span",{style:{fontWeight:"500"},children:"Vehicle:"})," ",s.vehicle||"N/A"]})]})}),e.jsx("div",{className:"bw-table-cell",children:e.jsx("div",{style:{padding:"4px 12px",borderRadius:"8px",backgroundColor:G(s.booking_status)+"20",border:`1px solid ${G(s.booking_status)}`,color:G(s.booking_status),fontSize:"12px",fontFamily:'"Work Sans", sans-serif',fontWeight:500,display:"inline-block"},children:((r=s.booking_status)==null?void 0:r.charAt(0).toUpperCase())+((d=s.booking_status)==null?void 0:d.slice(1))})}),e.jsx("div",{className:"bw-table-cell",children:e.jsxs("div",{style:{fontWeight:"600",color:"#059669"},children:["$",s.estimated_price||"0.00"]})})]},s.id||`booking-${n}`)})]})})]}),Ce==="vehicles"&&e.jsxs("div",{className:"bw-content",children:[e.jsx("div",{className:"bw-content-header",style:{display:"flex",flexDirection:a?"column":"row",justifyContent:"flex-end",alignItems:a?"flex-start":"center",marginBottom:"clamp(16px, 3vw, 24px)",gap:"clamp(12px, 2vw, 16px)"},children:e.jsx("div",{style:{display:"flex",flexDirection:a?"column":"row",gap:"clamp(8px, 1.5vw, 12px)",width:a?"100%":"auto"},children:e.jsxs("div",{style:{position:"relative",marginLeft:a?0:16,width:a?"100%":"auto"},children:[e.jsxs("button",{className:`bw-btn bw-btn-action ${ye?"custom-hover-border":""}`,onClick:()=>ts(!rt),onMouseEnter:()=>ot(!0),onMouseLeave:()=>ot(!1),style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:ye?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:ye?"rgba(155, 97, 209, 0.81)":void 0,color:ye?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:[e.jsx(Us,{className:"w-4 h-4",style:{width:a?"clamp(18px, 2.5vw, 20px)":"18px",height:a?"clamp(18px, 2.5vw, 20px)":"18px",color:ye?"rgba(155, 97, 209, 0.81)":"inherit",fill:ye?"rgba(155, 97, 209, 0.81)":"currentColor"}}),e.jsx("span",{style:{color:ye?"rgba(155, 97, 209, 0.81)":"inherit"},children:"Add Vehicle"})]}),rt&&e.jsxs(e.Fragment,{children:[a&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999},onClick:()=>{!Ae&&!Mt&&ts(!1)}}),e.jsxs("div",{style:{position:a?"fixed":"absolute",top:a?"50%":"100%",left:a?"50%":"auto",right:a?"auto":0,transform:a?"translate(-50%, -50%)":"none",marginTop:a?0:"8px",width:a?"90vw":"500px",maxWidth:"90vw",backgroundColor:"var(--bw-bg)",border:"1px solid var(--bw-border)",borderRadius:"8px",padding:"24px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",zIndex:1e3,maxHeight:"80vh",overflowY:"auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsx("h4",{style:{margin:0,fontSize:"20px",fontWeight:600,fontFamily:'"Work Sans", sans-serif',color:"var(--bw-text)"},children:"Add New Vehicle"}),e.jsx("button",{onClick:()=>{ts(!1),ws(null),Ds(!1),Bs({make:"",model:"",year:"",license_plate:"",color:"",status:"available",vehicle_category:"",vehicle_flat_rate:"",seating_capacity:4})},style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--bw-text)"},children:e.jsx(Na,{size:20})})]}),Mt&&e.jsx("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:"#d1fae5",border:"1px solid #a7f3d0",borderRadius:"4px",color:"#065f46",fontSize:"14px",fontFamily:'"Work Sans", sans-serif'},children:"Vehicle added successfully!"}),At&&e.jsx("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:"#fee2e2",border:"1px solid #fecaca",borderRadius:"4px",color:"#dc2626",fontSize:"14px",fontFamily:'"Work Sans", sans-serif'},children:At}),e.jsx("form",{onSubmit:oi,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"small-muted",style:{display:"block",marginBottom:"8px",fontFamily:'"Work Sans", sans-serif',fontSize:"13px",color:"var(--bw-muted)"},children:"Make *"}),e.jsxs("select",{value:W.make,onChange:s=>ie("make",s.target.value),required:!0,style:{width:"100%",padding:"16px 18px 16px 18px",fontFamily:'"Work Sans", sans-serif',fontSize:"14px",border:"1px solid var(--bw-border)",borderRadius:0,backgroundColor:"var(--bw-bg)",color:"var(--bw-text)"},children:[e.jsx("option",{value:"",children:"Select Make"}),Zi.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"small-muted",style:{display:"block",marginBottom:"8px",fontFamily:'"Work Sans", sans-serif',fontSize:"13px",color:"var(--bw-muted)"},children:"Model *"}),e.jsxs("select",{value:W.model,onChange:s=>ie("model",s.target.value),required:!0,disabled:!W.make,style:{width:"100%",padding:"16px 18px 16px 18px",fontFamily:'"Work Sans", sans-serif',fontSize:"14px",border:"1px solid var(--bw-border)",borderRadius:0,backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",opacity:W.make?1:.5},children:[e.jsx("option",{value:"",children:W.make?"Select Model":"Select Make First"}),W.make&&er(W.make).map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"small-muted",style:{display:"block",marginBottom:"8px",fontFamily:'"Work Sans", sans-serif',fontSize:"13px",color:"var(--bw-muted)"},children:"Year"}),e.jsx("input",{type:"number",value:W.year,onChange:s=>ie("year",s.target.value),min:"1900",max:new Date().getFullYear()+1,maxLength:4,style:{width:"calc(10ch + 36px)",padding:"16px 18px 16px 18px",fontFamily:'"Work Sans", sans-serif',fontSize:"14px",border:"1px solid var(--bw-border)",borderRadius:0,backgroundColor:"var(--bw-bg)",color:"var(--bw-text)"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"small-muted",style:{display:"block",marginBottom:"8px",fontFamily:'"Work Sans", sans-serif',fontSize:"13px",color:"var(--bw-muted)"},children:"License Plate"}),e.jsx("input",{type:"text",value:W.license_plate,onChange:s=>ie("license_plate",s.target.value),maxLength:8,style:{width:"calc(10ch + 36px)",padding:"16px 18px 16px 18px",fontFamily:'"Work Sans", sans-serif',fontSize:"14px",border:"1px solid var(--bw-border)",borderRadius:0,backgroundColor:"var(--bw-bg)",color:"var(--bw-text)"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"small-muted",style:{display:"block",marginBottom:"8px",fontFamily:'"Work Sans", sans-serif',fontSize:"13px",color:"var(--bw-muted)"},children:"Color"}),e.jsx("input",{type:"text",value:W.color,onChange:s=>ie("color",s.target.value),style:{width:"calc(10ch + 36px)",padding:"16px 18px 16px 18px",fontFamily:'"Work Sans", sans-serif',fontSize:"14px",border:"1px solid var(--bw-border)",borderRadius:0,backgroundColor:"var(--bw-bg)",color:"var(--bw-text)"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"small-muted",style:{display:"block",marginBottom:"8px",fontFamily:'"Work Sans", sans-serif',fontSize:"13px",color:"var(--bw-muted)"},children:"Seating Capacity"}),e.jsx("input",{type:"number",value:W.seating_capacity,onChange:s=>ie("seating_capacity",parseInt(s.target.value)||4),min:"1",max:"50",style:{width:"calc(10ch + 36px)",padding:"16px 18px 16px 18px",fontFamily:'"Work Sans", sans-serif',fontSize:"14px",border:"1px solid var(--bw-border)",borderRadius:0,backgroundColor:"var(--bw-bg)",color:"var(--bw-text)"}})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"small-muted",style:{display:"block",marginBottom:"8px",fontFamily:'"Work Sans", sans-serif',fontSize:"13px",color:"var(--bw-muted)"},children:"Vehicle Category *"}),e.jsxs("select",{value:W.vehicle_category,onChange:s=>ie("vehicle_category",s.target.value),required:!0,style:{width:"100%",padding:"16px 18px 16px 18px",fontFamily:'"Work Sans", sans-serif',fontSize:"14px",border:"1px solid var(--bw-border)",borderRadius:0,backgroundColor:"var(--bw-bg)",color:"var(--bw-text)"},children:[e.jsx("option",{value:"",children:"Select Category"}),I.map(s=>e.jsx("option",{value:s.vehicle_category,children:s.vehicle_category},s.id))]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"small-muted",style:{display:"block",marginBottom:"8px",fontFamily:'"Work Sans", sans-serif',fontSize:"13px",color:"var(--bw-muted)"},children:"Flat Rate ($) *"}),e.jsx("input",{type:"number",step:"0.01",value:W.vehicle_flat_rate,onChange:s=>ie("vehicle_flat_rate",s.target.value),required:!0,min:"0",style:{width:"calc(10ch + 36px)",padding:"16px 18px 16px 18px",fontFamily:'"Work Sans", sans-serif',fontSize:"14px",border:"1px solid var(--bw-border)",borderRadius:0,backgroundColor:"var(--bw-bg)",color:"var(--bw-text)"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"small-muted",style:{display:"block",marginBottom:"8px",fontFamily:'"Work Sans", sans-serif',fontSize:"13px",color:"var(--bw-muted)"},children:"Status"}),e.jsxs("select",{value:W.status,onChange:s=>ie("status",s.target.value),style:{width:"calc(35ch + 36px)",padding:"16px 18px 16px 18px",fontFamily:'"Work Sans", sans-serif',fontSize:"14px",border:"1px solid var(--bw-border)",borderRadius:0,backgroundColor:"var(--bw-bg)",color:"var(--bw-text)"},children:[e.jsx("option",{value:"available",children:"Available"}),e.jsx("option",{value:"unavailable",children:"Unavailable"}),e.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[e.jsx("button",{type:"submit",disabled:Ae,className:`bw-btn bw-btn-action ${cs?"custom-hover-border":""}`,onMouseEnter:()=>!Ae&&yt(!0),onMouseLeave:()=>yt(!1),style:{flex:1,padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,fontSize:a?"clamp(14px, 2vw, 16px)":"14px",borderRadius:7,border:cs?"2px solid rgba(155, 97, 209, 0.81)":"none",borderColor:cs?"rgba(155, 97, 209, 0.81)":void 0,cursor:Ae?"not-allowed":"pointer",opacity:Ae?.6:1,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",justifyContent:"center",color:cs?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:cs?"rgba(155, 97, 209, 0.81)":"inherit"},children:Ae?"Adding...":"Add Vehicle"})}),e.jsx("button",{type:"button",onClick:()=>{ts(!1),ws(null),Ds(!1),Bs({make:"",model:"",year:"",license_plate:"",color:"",status:"available",vehicle_category:"",vehicle_flat_rate:"",seating_capacity:4})},className:`bw-btn-outline ${xs?"custom-hover-border":""}`,onMouseEnter:()=>jt(!0),onMouseLeave:()=>jt(!1),style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,fontSize:a?"clamp(14px, 2vw, 16px)":"14px",borderRadius:7,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",justifyContent:"center",border:xs?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:xs?"rgba(155, 97, 209, 0.81)":void 0,color:xs?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:xs?"rgba(155, 97, 209, 0.81)":"inherit"},children:"Cancel"})})]})]})})]})]})]})})}),y.length===0?e.jsx("div",{className:"bw-card",style:{padding:"clamp(16px, 3vw, 24px)",border:"1px solid var(--bw-border)",borderRadius:"12px"},children:e.jsxs("div",{className:"bw-empty-state",style:{padding:"clamp(24px, 4vw, 48px)",textAlign:"center"},children:[e.jsx("div",{className:"bw-empty-icon",style:{marginBottom:"clamp(12px, 2vw, 16px)",display:"flex",justifyContent:"center"},children:e.jsx(Ss,{size:32,style:{width:"clamp(32px, 5vw, 48px)",height:"clamp(32px, 5vw, 48px)",color:"var(--bw-muted)"}})}),e.jsx("div",{className:"bw-empty-text",style:{fontSize:"clamp(16px, 2.5vw, 20px)",color:"var(--bw-text)",marginBottom:"clamp(8px, 1.5vw, 12px)",fontFamily:'"Work Sans", sans-serif',fontWeight:500},children:"No vehicles yet"}),e.jsx("div",{className:"bw-empty-subtext",style:{fontSize:"clamp(14px, 2vw, 16px)",color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:"Add vehicles to your fleet to start accepting rides"})]})}):e.jsx("div",{className:"bw-vehicle-grid",style:{display:"grid",gap:"clamp(16px, 3vw, 24px)"},children:y.map(s=>{var c,h,Y,us;const n=s.vehicle_images?Object.values(s.vehicle_images)[0]:null,r=((c=s.vehicle_category)==null?void 0:c.vehicle_category)||"N/A",d=Za===s.id;return e.jsxs("div",{className:"bw-card",style:{borderRadius:"6px",overflow:"hidden",position:"relative",cursor:"pointer",padding:0,aspectRatio:"1",width:"100%",border:"1px solid var(--bw-border)",backgroundColor:"var(--bw-bg-secondary)",transition:"none"},onMouseEnter:()=>Tt(s.id),onMouseLeave:()=>Tt(null),onClick:()=>{qs(s.id),Ks(!0)},children:[e.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"var(--bw-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",position:"relative"},children:n?e.jsx("img",{src:n,alt:`${s.make} ${s.model}`,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx(Ss,{size:48,style:{width:"clamp(32px, 5vw, 48px)",height:"clamp(32px, 5vw, 48px)",color:"var(--bw-disabled)",opacity:.5}})}),e.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,top:d?0:void 0,height:d?"100%":"auto",backgroundColor:"var(--bw-bg-secondary)",borderTop:"1px solid var(--bw-border)",padding:d?"clamp(20px, 5vw, 40px) clamp(16px, 3vw, 24px) clamp(16px, 3vw, 24px) clamp(16px, 3vw, 24px)":"clamp(16px, 3vw, 24px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",justifyContent:"flex-start",alignItems:d?"center":"stretch",textAlign:d?"center":"left",zIndex:2},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(8px, 1.5vw, 12px)",width:"100%",opacity:d?0:1,transition:"opacity 0.2s ease",pointerEvents:d?"none":"auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",justifyContent:"space-between"},children:[e.jsxs("div",{style:{fontSize:a?"clamp(18px, 3vw, 22px)":"16px",fontWeight:600,color:"var(--bw-text)",lineHeight:1.3,fontFamily:'"Work Sans", sans-serif',flex:1},children:[s.year," ",s.make," ",s.model]}),e.jsx("div",{style:{width:a?"clamp(12px, 2vw, 14px)":"12px",height:a?"clamp(12px, 2vw, 14px)":"12px",borderRadius:"50%",backgroundColor:s.driver?"#ef4444":"#10b981",flexShrink:0,border:"2px solid var(--bw-bg)",boxShadow:"0 0 0 1px var(--bw-border)",cursor:"help",position:"relative"},onMouseEnter:()=>Gs(s.id),onMouseLeave:()=>Gs(null),children:Ha===s.id&&e.jsx("div",{style:{position:"absolute",bottom:"100%",right:0,marginBottom:"8px",padding:"clamp(6px, 1vw, 8px) clamp(10px, 1.5vw, 12px)",backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"clamp(4px, 1vw, 6px)",fontSize:a?"clamp(12px, 1.5vw, 13px)":"13px",fontFamily:'"Work Sans", sans-serif',color:"var(--bw-text)",whiteSpace:"nowrap",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",pointerEvents:"none"},children:s.driver?s.driver.full_name||"Has Driver Assigned":"Not Assigned"})})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",flexWrap:"wrap"},children:[e.jsx("span",{className:"bw-badge bw-badge-secondary",style:{fontSize:a?"clamp(12px, 1.5vw, 14px)":"13px",padding:a?"clamp(6px, 1vw, 8px) clamp(12px, 2vw, 16px)":"4px 8px",fontFamily:'"Work Sans", sans-serif'},children:r}),(((h=s.driver)==null?void 0:h.driver_type)||s.driver_type)&&e.jsx("span",{className:`bw-badge ${(((Y=s.driver)==null?void 0:Y.driver_type)||s.driver_type)==="in_house"?"bw-badge-primary":"bw-badge-secondary"}`,style:{fontSize:a?"clamp(12px, 1.5vw, 14px)":"13px",padding:a?"clamp(6px, 1vw, 8px) clamp(12px, 2vw, 16px)":"4px 8px",fontFamily:'"Work Sans", sans-serif'},children:(((us=s.driver)==null?void 0:us.driver_type)||s.driver_type)==="in_house"?"In-House":"Outsourced"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(16px, 2.5vw, 20px)",width:"100%",opacity:d?1:0,transition:"opacity 0.2s ease 0.1s",pointerEvents:d?"auto":"none",position:d?"relative":"absolute",top:d?"auto":0,left:d?"auto":0,right:d?"auto":0,alignItems:"center",textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:a?"clamp(20px, 3.5vw, 24px)":"20px",fontWeight:600,color:"var(--bw-text)",lineHeight:1.3,fontFamily:'"Work Sans", sans-serif',textAlign:"center"},children:[s.year," ",s.make," ",s.model]}),e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx("span",{className:"bw-badge bw-badge-secondary",style:{fontSize:a?"clamp(13px, 2vw, 15px)":"14px",padding:a?"clamp(8px, 1.5vw, 10px) clamp(14px, 2.5vw, 18px)":"6px 12px",fontFamily:'"Work Sans", sans-serif'},children:r})}),s.license_plate&&e.jsxs("div",{style:{fontSize:a?"clamp(14px, 2.5vw, 16px)":"15px",color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif',textAlign:"center"},children:[e.jsx("span",{style:{fontWeight:500},children:"License Plate:"})," ",s.license_plate]}),e.jsxs("div",{style:{fontSize:a?"clamp(14px, 2.5vw, 16px)":"15px",color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif',display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",justifyContent:"center",textAlign:"center"},children:[e.jsx("div",{style:{width:a?"clamp(12px, 2vw, 14px)":"12px",height:a?"clamp(12px, 2vw, 14px)":"12px",borderRadius:"50%",backgroundColor:s.driver?"#ef4444":"#10b981",flexShrink:0,border:"2px solid var(--bw-bg)",boxShadow:"0 0 0 1px var(--bw-border)"}}),e.jsx("span",{style:{fontWeight:500},children:"Driver:"})," ",s.driver?s.driver.full_name||"Assigned":"Not Assigned"]}),s.driver?e.jsx("div",{style:{width:"100%"},children:e.jsx("button",{className:`bw-btn-outline ${Nt===s.id?"custom-hover-border":""}`,onClick:X=>{X.stopPropagation(),Xe(s.id),Je(!0),oe(null)},onMouseEnter:()=>zt(s.id),onMouseLeave:()=>zt(null),style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:"100%",borderRadius:7,backgroundColor:"transparent",border:Nt===s.id?"2px solid #ef4444":"1px solid #ef4444",borderColor:"#ef4444",color:"#ef4444",transition:"all 0.2s ease",cursor:"pointer"},children:e.jsx("span",{style:{color:"#ef4444"},children:"Unassign"})})}):e.jsx("div",{style:{width:"100%"},children:e.jsx("button",{className:`bw-btn ${Ts===s.id?"custom-hover-border":""}`,onClick:X=>{X.stopPropagation(),Ze(s.id),es(!0),Te(""),de(null)},onMouseEnter:()=>It(s.id),onMouseLeave:()=>It(null),style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:"100%",borderRadius:7,backgroundColor:Ts===s.id?"transparent":"#10b981",border:"2px solid #10b981",borderColor:"#10b981",color:Ts===s.id?"#10b981":"#ffffff",transition:"all 0.2s ease",cursor:"pointer"},children:e.jsx("span",{style:{color:Ts===s.id?"#10b981":"#ffffff"},children:"Assign"})})})]})]})]},s.id)})}),e.jsxs("div",{style:{marginTop:"clamp(24px, 4vw, 32px)",padding:"clamp(12px, 2vw, 16px)",backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"clamp(8px, 1.5vw, 12px)",display:"flex",alignItems:"flex-start",gap:"clamp(12px, 2vw, 16px)"},children:[e.jsx(Ni,{size:a?20:18,style:{color:"var(--bw-muted)",flexShrink:0,marginTop:"2px"}}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"clamp(8px, 1.5vw, 12px)"},children:[e.jsx("div",{style:{fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontWeight:500,color:"var(--bw-text)",fontFamily:'"Work Sans", sans-serif'},children:"Driver Status Indicators"}),e.jsxs("div",{style:{fontSize:a?"clamp(12px, 1.8vw, 14px)":"13px",color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif',lineHeight:1.5,display:"flex",flexDirection:"column",gap:"clamp(6px, 1vw, 8px)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)"},children:[e.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#ef4444",flexShrink:0,border:"2px solid var(--bw-bg)",boxShadow:"0 0 0 1px var(--bw-border)"}}),e.jsx("span",{children:"Red indicator means the vehicle has a driver assigned"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)"},children:[e.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#10b981",flexShrink:0,border:"2px solid var(--bw-bg)",boxShadow:"0 0 0 1px var(--bw-border)"}}),e.jsx("span",{children:"Green indicator means the vehicle has no driver assigned"})]})]})]})]})]}),Ce==="settings"&&e.jsxs("div",{className:"bw-content",children:[e.jsx("div",{className:"bw-content-header",children:e.jsx("h3",{children:"Tenant Settings"})}),e.jsxs("div",{className:"bw-card",children:[e.jsx("h4",{style:{margin:"0 0 16px 0"},children:"Account Information"}),e.jsxs("div",{className:"bw-info-grid",children:[e.jsxs("div",{className:"bw-info-item",children:[e.jsx("span",{className:"bw-info-label",children:"Email:"}),e.jsx("span",{className:"bw-info-value",children:p==null?void 0:p.email})]}),e.jsxs("div",{className:"bw-info-item",children:[e.jsx("span",{className:"bw-info-label",children:"Phone:"}),e.jsx("span",{className:"bw-info-value",children:p==null?void 0:p.phone_no})]}),e.jsxs("div",{className:"bw-info-item",children:[e.jsx("span",{className:"bw-info-label",children:"Address:"}),e.jsx("span",{className:"bw-info-value",children:((Jt=p==null?void 0:p.profile)==null?void 0:Jt.address)||"Not provided"})]}),e.jsxs("div",{className:"bw-info-item",children:[e.jsx("span",{className:"bw-info-label",children:"Stripe Customer ID:"}),e.jsx("span",{className:"bw-info-value",children:((Zt=p==null?void 0:p.profile)==null?void 0:Zt.stripe_customer_id)||"Not connected"})]}),e.jsxs("div",{className:"bw-info-item",children:[e.jsx("span",{className:"bw-info-label",children:"Account Verified:"}),e.jsx("span",{className:"bw-info-value",children:p!=null&&p.is_verified?"Yes":"No"})]})]})]}),e.jsxs("div",{className:"bw-card",children:[e.jsx("h4",{style:{margin:"0 0 16px 0"},children:"System Tools"}),e.jsx("div",{className:"bw-info-grid",children:e.jsxs("div",{className:"bw-info-item",children:[e.jsx("span",{className:"bw-info-label",children:"Frontend Logs:"}),e.jsxs("div",{className:"bw-info-value",children:[e.jsx("button",{className:`bw-btn-outline ${ls?"custom-hover-border":""}`,onClick:()=>{window.maisonLogs?window.maisonLogs.downloadLogs():console.error("Logging system not available")},onMouseEnter:()=>mt(!0),onMouseLeave:()=>mt(!1),style:{fontSize:a?"clamp(14px, 2vw, 16px)":"14px",padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:ls?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:ls?"rgba(155, 97, 209, 0.81)":void 0,color:ls?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:ls?"rgba(155, 97, 209, 0.81)":"inherit"},children:"Download Logs"})}),e.jsx("span",{style:{marginLeft:"8px",fontSize:"12px",color:"#6b7280"},children:window.maisonLogs?`${window.maisonLogs.getLogCount()} entries`:"Not available"})]})]})})]}),e.jsxs("div",{className:"bw-card",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",userSelect:"none",marginBottom:Fs?16:0},onClick:()=>Ga(!Fs),children:[e.jsx("h4",{style:{margin:0},children:"Vehicle Settings"}),Fs?e.jsx(Ca,{size:20}):e.jsx(ya,{size:20})]}),Fs&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginBottom:16},children:e.jsx("p",{className:"small-muted",style:{margin:0},children:"Configure default rates and settings for different vehicle categories"})}),e.jsxs("div",{className:"bw-table",children:[e.jsxs("div",{className:"bw-table-header",children:[e.jsx("div",{className:"bw-table-cell",children:"Vehicle Category"}),e.jsx("div",{className:"bw-table-cell",children:"Base Rate ($)"}),e.jsx("div",{className:"bw-table-cell",children:"Actions"})]}),I.length>0?I.map(s=>{const n=li(s.vehicle_category),r=Ve[s.vehicle_category]!==void 0?Ve[s.vehicle_category]:s.vehicle_flat_rate>0?s.vehicle_flat_rate:n,d=C[s.vehicle_category]||!1;return e.jsxs("div",{className:"bw-table-row",children:[e.jsx("div",{className:"bw-table-cell",children:e.jsx("span",{className:"bw-badge bw-badge-secondary",style:{textTransform:"capitalize"},children:s.vehicle_category})}),e.jsx("div",{className:"bw-table-cell",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{children:"$"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:r,className:"bw-input",style:{width:"80px",padding:"4px 8px",fontSize:"14px"},"data-category":s.vehicle_category,onChange:c=>{const h=parseFloat(c.target.value)||0;v(Y=>({...Y,[s.vehicle_category]:h}))},disabled:d})]})}),e.jsx("div",{className:"bw-table-cell",children:e.jsx("div",{className:"bw-actions",children:e.jsx("button",{className:`bw-btn-outline ${ns?"custom-hover-border":""}`,style:{fontSize:a?"clamp(14px, 2vw, 16px)":"14px",padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:ns?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:ns?"rgba(155, 97, 209, 0.81)":void 0,color:ns?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},disabled:d,onMouseEnter:()=>!d&&vt(!0),onMouseLeave:()=>vt(!1),onClick:()=>{var h;const c=parseFloat(((h=document.querySelector(`input[data-category="${s.vehicle_category}"]`))==null?void 0:h.value)||"0")||0;c>0?ii(s.vehicle_category,c):alert("Please enter a valid rate greater than 0")},children:d?e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx("span",{style:{color:ns?"rgba(155, 97, 209, 0.81)":"inherit"},children:"Save"})})})})]},s.id)}):null,e.jsxs("div",{className:"bw-table-row",style:{backgroundColor:"var(--bw-bg-secondary)",border:"2px dashed var(--bw-border)",color:"var(--bw-text)"},children:[e.jsx("div",{className:"bw-table-cell",children:e.jsx("input",{type:"text",placeholder:"New category name",className:"bw-input",style:{width:"100%",padding:"4px 8px",fontSize:"14px",color:"var(--bw-text)",backgroundColor:"var(--bw-bg)",border:"1px solid var(--bw-border)",borderRadius:"4px"},id:"newCategoryName"})}),e.jsx("div",{className:"bw-table-cell",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{color:"var(--bw-text)"},children:"$"}),e.jsx("input",{type:"number",min:"0",step:"1.0",placeholder:"0.00",className:"bw-input",style:{width:"80px",padding:"4px 8px",fontSize:"14px",color:"var(--bw-text)",backgroundColor:"var(--bw-bg)",border:"1px solid var(--bw-border)",borderRadius:"4px"},id:"newCategoryRate"})]})}),e.jsx("div",{className:"bw-table-cell",children:e.jsx("div",{className:"bw-actions",children:e.jsxs("button",{className:`bw-btn-outline ${pe?"custom-hover-border":""}`,style:{fontSize:a?"clamp(14px, 2vw, 16px)":"14px",padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:pe?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:pe?"rgba(155, 97, 209, 0.81)":void 0,color:pe?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},disabled:$e,onMouseEnter:()=>!$e&&ft(!0),onMouseLeave:()=>ft(!1),onClick:async()=>{const s=document.getElementById("newCategoryName"),n=document.getElementById("newCategoryRate"),r=s.value.trim(),d=parseFloat(n.value)||0;if(r&&d>0){Ne(!0);try{const c=await Yi({vehicle_category:r,vehicle_flat_rate:d,seating_capacity:4});if(c.success)s.value="",n.value="",alert("New category added successfully!"),await K();else throw new Error(c.message||"Failed to create category")}catch(c){console.error("Failed to add new category:",c),alert("Failed to add new category. Please try again.")}finally{Ne(!1)}}else alert("Please fill both fields with valid values")},children:[$e?e.jsxs("svg",{className:"animate-spin h-4 w-4",style:{color:pe?"rgba(155, 97, 209, 0.81)":"var(--bw-text)"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx(Us,{className:"w-4 h-4",style:{color:pe?"rgba(155, 97, 209, 0.81)":"var(--bw-text)",width:a?"clamp(18px, 2.5vw, 20px)":"18px",height:a?"clamp(18px, 2.5vw, 20px)":"18px",fill:pe?"rgba(155, 97, 209, 0.81)":"currentColor"}}),e.jsx("span",{style:{color:pe?"rgba(155, 97, 209, 0.81)":"inherit"},children:"Add"})]})})})]})]}),e.jsxs("div",{style:{marginTop:16,padding:"16px",backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"4px"},children:[e.jsx("h5",{style:{margin:"0 0 8px 0",fontSize:"14px",color:"var(--bw-text)"},children:"How it works:"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"var(--bw-muted)"},children:[e.jsx("li",{children:"These are default rates for new vehicles of each category"}),e.jsx("li",{children:"Individual vehicles can override these defaults"}),e.jsx("li",{children:"Changes apply to new vehicles, not existing ones"}),e.jsx("li",{children:"Rates are in USD and apply per ride"}),e.jsx("li",{children:"Add custom categories specific to your business needs"})]})]})]})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"clamp(24px, 4vw, 32px)",paddingTop:"clamp(24px, 4vw, 32px)",borderTop:"1px solid var(--bw-border)"},children:e.jsxs("button",{className:`bw-btn-outline ${Se?"custom-hover-border":""}`,onClick:()=>m("/tenant_settings"),onMouseEnter:()=>gt(!0),onMouseLeave:()=>gt(!1),style:{fontFamily:'"Work Sans", sans-serif',fontWeight:600,padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",borderRadius:7,fontSize:a?"clamp(14px, 2vw, 16px)":"14px",display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",backgroundColor:"#ffffff",color:Se?"rgba(155, 97, 209, 0.81)":"#000000",border:Se?"2px solid rgba(155, 97, 209, 0.81)":"1px solid var(--bw-border)",borderColor:Se?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:[e.jsx(ua,{size:16,style:{color:Se?"rgba(155, 97, 209, 0.81)":"#000000",width:a?"clamp(18px, 2.5vw, 20px)":"18px",height:a?"clamp(18px, 2.5vw, 20px)":"18px",fill:Se?"rgba(155, 97, 209, 0.81)":"currentColor"}}),e.jsx("span",{style:{color:Se?"rgba(155, 97, 209, 0.81)":"inherit"},children:"More Settings"})]})})]})]})]}),ne&&e.jsx("div",{className:"bw-modal-overlay",onClick:()=>{M(!1),B(null),D({first_name:"",last_name:"",email:"",driver_type:"outsourced"})},children:e.jsxs("div",{className:"bw-modal",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"bw-modal-header",children:[e.jsx("h3",{style:{margin:0,fontFamily:"DM Sans, sans-serif",fontSize:"28px",fontWeight:200,color:"var(--bw-text)"},children:"Add New Driver"}),e.jsx("button",{className:"bw-btn-icon",onClick:()=>{M(!1),B(null),D({first_name:"",last_name:"",email:"",driver_type:"outsourced"})},children:e.jsx(ee,{size:20})})]}),e.jsxs("div",{className:"bw-modal-body",children:[e.jsx("p",{className:"small-muted",style:{margin:"0 0 24px 0",fontFamily:"Work Sans, sans-serif",fontSize:"16px",fontWeight:300,color:"var(--bw-muted)"},children:"Enter the driver's information to send them a registration invitation."}),Pe&&e.jsx("div",{style:{padding:"12px 16px",marginBottom:"24px",backgroundColor:"rgba(197, 72, 61, 0.1)",border:"1px solid var(--bw-error)",borderRadius:"8px",color:"var(--bw-error)",fontFamily:"Work Sans, sans-serif",fontSize:"14px",lineHeight:"1.5"},children:Pe}),e.jsxs("div",{className:"bw-form-grid",children:[e.jsxs("div",{className:"bw-form-group",children:[e.jsx("label",{className:"small-muted",style:{fontFamily:"Work Sans, sans-serif",fontSize:"13px",color:"var(--bw-muted)",display:"block",marginBottom:"8px"},children:"First Name"}),e.jsx("input",{className:"bw-input",value:z.first_name,onChange:s=>{D({...z,first_name:s.target.value}),B(null)},style:{fontFamily:"Work Sans, sans-serif",fontSize:"16px",padding:"16px 18px",borderRadius:0,width:"100%",boxSizing:"border-box"}})]}),e.jsxs("div",{className:"bw-form-group",children:[e.jsx("label",{className:"small-muted",style:{fontFamily:"Work Sans, sans-serif",fontSize:"13px",color:"var(--bw-muted)",display:"block",marginBottom:"8px"},children:"Last Name"}),e.jsx("input",{className:"bw-input",value:z.last_name,onChange:s=>{D({...z,last_name:s.target.value}),B(null)},style:{fontFamily:"Work Sans, sans-serif",fontSize:"16px",padding:"16px 18px",borderRadius:0,width:"100%",boxSizing:"border-box"}})]}),e.jsxs("div",{className:"bw-form-group",children:[e.jsx("label",{className:"small-muted",style:{fontFamily:"Work Sans, sans-serif",fontSize:"13px",color:"var(--bw-muted)",display:"block",marginBottom:"8px"},children:"Email"}),e.jsx("input",{className:"bw-input",type:"email",value:z.email,onChange:s=>{D({...z,email:s.target.value}),B(null)},style:{fontFamily:"Work Sans, sans-serif",fontSize:"16px",padding:"16px 18px",borderRadius:0,width:"100%",boxSizing:"border-box"}})]}),e.jsxs("div",{className:"bw-form-group",children:[e.jsx("label",{className:"small-muted",style:{fontFamily:"Work Sans, sans-serif",fontSize:"13px",color:"var(--bw-muted)",display:"block",marginBottom:"8px"},children:"Driver Type"}),e.jsxs("select",{className:"bw-input",value:z.driver_type,onChange:s=>{D({...z,driver_type:s.target.value}),B(null)},style:{fontFamily:"Work Sans, sans-serif",fontSize:"16px",padding:"16px 18px",borderRadius:0,width:"100%",boxSizing:"border-box"},children:[e.jsx("option",{value:"outsourced",children:"Outsourced"}),e.jsx("option",{value:"in_house",children:"In-House"})]})]})]})]}),e.jsxs("div",{className:"bw-modal-footer",children:[e.jsx("button",{className:`bw-btn-outline ${ms?"custom-hover-border":""}`,onClick:()=>{M(!1),B(null),D({first_name:"",last_name:"",email:"",driver_type:"outsourced"})},onMouseEnter:()=>St(!0),onMouseLeave:()=>St(!1),style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:ms?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:ms?"rgba(155, 97, 209, 0.81)":void 0,color:ms?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:ms?"rgba(155, 97, 209, 0.81)":"inherit"},children:"Cancel"})}),e.jsx("button",{className:`bw-btn bw-btn-action ${os?"custom-hover-border":""}`,onClick:si,disabled:ve,onMouseEnter:()=>bt(!0),onMouseLeave:()=>bt(!1),style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:os?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:os?"rgba(155, 97, 209, 0.81)":void 0,color:os?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease",opacity:ve?.6:1,cursor:ve?"not-allowed":"pointer"},children:e.jsx("span",{style:{color:os?"rgba(155, 97, 209, 0.81)":"inherit"},children:ve?"Adding...":"Create Driver"})})]})]})}),Qs&&Ys&&e.jsx(tr,{vehicleId:Ys,isOpen:Qs,onClose:()=>{Ks(!1),qs(null)},onVehicleUpdated:()=>{K()},onDelete:ni}),Va&&e.jsx("div",{className:"bw-modal-overlay",onClick:()=>{Ue(!1),_s(null)},children:e.jsxs("div",{className:"bw-modal",onClick:s=>s.stopPropagation(),style:{maxWidth:"600px",width:"90vw",maxHeight:"90vh",overflowY:"auto"},children:[e.jsxs("div",{className:"bw-modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"clamp(16px, 2.5vw, 24px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("h3",{style:{margin:0,fontSize:"clamp(18px, 2.5vw, 24px)",fontWeight:400,fontFamily:'"Work Sans", sans-serif'},children:"Booking Details"}),e.jsx("button",{className:"bw-btn-icon",onClick:()=>{Ue(!1),_s(null)},style:{padding:"8px",minWidth:"32px",minHeight:"32px"},children:e.jsx(ee,{size:20})})]}),e.jsx("div",{className:"bw-modal-body",style:{padding:"clamp(16px, 2.5vw, 24px)",fontFamily:'"Work Sans", sans-serif',fontWeight:300},children:Pa?e.jsx("div",{style:{textAlign:"center",padding:"40px"},children:e.jsx("div",{style:{color:"var(--bw-muted)"},children:"Loading booking details..."})}):w?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(16px, 2.5vw, 24px)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"clamp(12px, 2vw, 16px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Booking ID"}),e.jsxs("div",{style:{fontSize:"clamp(18px, 2.5vw, 24px)",fontWeight:400,color:"var(--bw-text)"},children:["#",w.id]})]}),e.jsx("div",{style:{padding:"4px 12px",borderRadius:"8px",backgroundColor:G(w.booking_status)+"20",border:`1px solid ${G(w.booking_status)}`,color:G(w.booking_status),fontSize:"clamp(11px, 1.8vw, 12px)",fontFamily:'"Work Sans", sans-serif',fontWeight:500,display:"inline-block",textTransform:"capitalize"},children:w.booking_status})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 clamp(8px, 1.5vw, 12px) 0",fontSize:"clamp(14px, 2vw, 18px)",fontWeight:400,color:"var(--bw-text)"},children:"Customer Information"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"clamp(8px, 1.5vw, 12px)"},children:e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Customer Name"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:w.customer_name||"N/A"})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 clamp(8px, 1.5vw, 12px) 0",fontSize:"clamp(14px, 2vw, 18px)",fontWeight:400,color:"var(--bw-text)"},children:"Route Information"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(8px, 1.5vw, 12px)"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(Le,{className:"w-3 h-3",style:{color:"var(--bw-muted)"}}),"Pickup Location"]}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:w.pickup_location}),e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginTop:"4px"},children:new Date(w.pickup_time).toLocaleString()})]}),w.dropoff_location&&e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(Le,{size:12,style:{color:"var(--bw-muted)"}}),"Dropoff Location"]}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:w.dropoff_location}),w.dropoff_time&&e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginTop:"4px"},children:new Date(w.dropoff_time).toLocaleString()})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 clamp(8px, 1.5vw, 12px) 0",fontSize:"clamp(14px, 2vw, 18px)",fontWeight:400,color:"var(--bw-text)"},children:"Service Details"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"clamp(8px, 1.5vw, 12px)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Service Type"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)",textTransform:"capitalize"},children:w.service_type||"Standard"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Payment Method"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)",textTransform:"capitalize"},children:w.payment_method||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"City"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:w.country||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 clamp(8px, 1.5vw, 12px) 0",fontSize:"clamp(14px, 2vw, 18px)",fontWeight:400,color:"var(--bw-text)"},children:"Assignment"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"clamp(8px, 1.5vw, 12px)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Driver"}),e.jsxs("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)",display:"flex",alignItems:"center",gap:"8px"},children:[w.driver_name&&w.driver_name!=="None"?w.driver_name:"No assigned driver",e.jsx("button",{onClick:()=>Ye(!0),className:"bw-btn-icon",style:{padding:"4px",minWidth:"24px",minHeight:"24px"},title:"Assign Driver",children:e.jsx(zi,{size:12})})]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Vehicle"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:w.vehicle||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 clamp(8px, 1.5vw, 12px) 0",fontSize:"clamp(14px, 2vw, 18px)",fontWeight:400,color:"var(--bw-text)"},children:"Pricing"}),e.jsxs("div",{style:{fontSize:"clamp(20px, 3vw, 28px)",fontWeight:400,color:"var(--bw-text)"},children:["$",((ea=w.estimated_price)==null?void 0:ea.toFixed(2))||"0.00"]})]}),w.notes&&e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 clamp(8px, 1.5vw, 12px) 0",fontSize:"clamp(14px, 2vw, 18px)",fontWeight:400,color:"var(--bw-text)"},children:"Notes"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)",padding:"clamp(12px, 2vw, 16px)",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"6px",border:"1px solid var(--bw-border)"},children:w.notes})]})]}):e.jsx("div",{style:{textAlign:"center",padding:"40px"},children:e.jsx("div",{style:{color:"var(--bw-muted)"},children:"No booking details available"})})})]})}),Ya&&w&&e.jsx("div",{className:"bw-modal-overlay",onClick:()=>{P||(Ye(!1),qe(""),Fe(!1))},children:e.jsxs("div",{className:"bw-modal",onClick:s=>s.stopPropagation(),style:{maxWidth:"500px",width:"90vw"},children:[e.jsxs("div",{className:"bw-modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"clamp(16px, 2.5vw, 24px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("h3",{style:{margin:0,fontSize:"clamp(18px, 2.5vw, 24px)",fontWeight:400,fontFamily:'"Work Sans", sans-serif'},children:Qe?"Override Existing Driver?":"Assign Driver to Booking"}),e.jsx("button",{className:"bw-btn-icon",onClick:()=>{P||(Ye(!1),qe(""),Fe(!1))},style:{padding:"8px",minWidth:"32px",minHeight:"32px"},disabled:P,children:e.jsx(ee,{size:20})})]}),e.jsx("div",{className:"bw-modal-body",style:{padding:"clamp(16px, 2.5vw, 24px)",fontFamily:'"Work Sans", sans-serif',fontWeight:300},children:Qe?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"6px",border:"1px solid var(--bw-border)"},children:[e.jsx("div",{style:{fontSize:"14px",color:"var(--bw-text)",marginBottom:"8px"},children:"This booking already has a driver assigned:"}),e.jsx("div",{style:{fontSize:"16px",fontWeight:500,color:"var(--bw-text)"},children:w.driver_name})]}),e.jsx("div",{style:{fontSize:"14px",color:"var(--bw-muted)"},children:"Do you want to replace the current driver with a new one?"})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--bw-text)",marginBottom:"8px"},children:"Select Driver"}),e.jsxs("select",{value:ge,onChange:s=>qe(s.target.value),className:"bw-input",style:{width:"100%",padding:"10px 12px",fontSize:"14px",color:"var(--bw-text)",backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"6px"},children:[e.jsx("option",{value:"",children:"Choose a driver"}),F.filter(s=>s.driver_type==="in_house").map(s=>e.jsxs("option",{value:s.id,children:[s.first_name," ",s.last_name]},s.id))]})]}),w.driver_name&&w.driver_name!=="None"&&e.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"6px",border:"1px solid var(--bw-border)",fontSize:"13px",color:"var(--bw-muted)"},children:["Current driver: ",e.jsx("span",{style:{fontWeight:500,color:"var(--bw-text)"},children:w.driver_name})]})]})}),e.jsxs("div",{className:"bw-modal-footer",style:{display:"flex",justifyContent:"flex-end",gap:"12px",padding:"clamp(16px, 2.5vw, 24px)",borderTop:"1px solid var(--bw-border)"},children:[e.jsx("button",{className:`bw-btn-outline ${vs?"custom-hover-border":""}`,onClick:()=>{P||(Ye(!1),qe(""),Fe(!1))},onMouseEnter:()=>!P&&kt(!0),onMouseLeave:()=>kt(!1),disabled:P,style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:vs?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:vs?"rgba(155, 97, 209, 0.81)":void 0,color:vs?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:vs?"rgba(155, 97, 209, 0.81)":"inherit"},children:Qe?"Cancel":"Close"})}),Qe?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`bw-btn-outline ${fs?"custom-hover-border":""}`,onClick:()=>Fe(!1),onMouseEnter:()=>!P&&Ct(!0),onMouseLeave:()=>Ct(!1),disabled:P,style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:fs?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:fs?"rgba(155, 97, 209, 0.81)":void 0,color:fs?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:fs?"rgba(155, 97, 209, 0.81)":"inherit"},children:"Back"})}),e.jsx("button",{className:`bw-btn bw-btn-action ${ps?"custom-hover-border":""}`,onClick:Ht,onMouseEnter:()=>!P&&!ge&&wt(!0),onMouseLeave:()=>wt(!1),disabled:P||!ge,style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:ps?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:ps?"rgba(155, 97, 209, 0.81)":void 0,color:ps?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:ps?"rgba(155, 97, 209, 0.81)":"inherit"},children:P?"Assigning...":"Yes, Override"})})]}):e.jsx("button",{className:`bw-btn bw-btn-action ${ds?"custom-hover-border":""}`,onClick:Ht,onMouseEnter:()=>!P&&!ge&&ht(!0),onMouseLeave:()=>ht(!1),disabled:P||!ge,style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:ds?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:ds?"rgba(155, 97, 209, 0.81)":void 0,color:ds?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:ds?"rgba(155, 97, 209, 0.81)":"inherit"},children:P?"Assigning...":"Assign Driver"})})]})]})}),qa&&be&&e.jsx("div",{className:"bw-modal-overlay",onClick:()=>{se||(Ge(!1),Ke(null))},children:e.jsxs("div",{className:"bw-modal",onClick:s=>s.stopPropagation(),style:{maxWidth:"500px",width:"90vw"},children:[e.jsxs("div",{className:"bw-modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"clamp(16px, 2.5vw, 24px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("h3",{style:{margin:0,fontSize:"clamp(18px, 2.5vw, 24px)",fontWeight:400,fontFamily:'"Work Sans", sans-serif',color:"var(--bw-error, #C5483D)"},children:"Delete Vehicle"}),e.jsx("button",{className:"bw-btn-icon",onClick:()=>{se||(Ge(!1),Ke(null))},style:{padding:"8px",minWidth:"32px",minHeight:"32px"},disabled:se,children:e.jsx(ee,{size:20})})]}),e.jsx("div",{className:"bw-modal-body",style:{padding:"clamp(16px, 2.5vw, 24px)",fontFamily:'"Work Sans", sans-serif',fontWeight:300},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"6px",border:"1px solid var(--bw-border)"},children:[e.jsx(me,{size:20,style:{color:"var(--bw-error, #C5483D)",flexShrink:0}}),e.jsx("div",{style:{fontSize:"14px",color:"var(--bw-text)"},children:"Are you sure you want to delete this vehicle? This action cannot be undone."})]}),y.find(s=>s.id===be)&&e.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"6px",border:"1px solid var(--bw-border)",fontSize:"13px"},children:[e.jsx("div",{style:{color:"var(--bw-muted)",marginBottom:"4px"},children:"Vehicle Details:"}),e.jsxs("div",{style:{color:"var(--bw-text)",fontWeight:500},children:[(sa=y.find(s=>s.id===be))==null?void 0:sa.year," ",(ta=y.find(s=>s.id===be))==null?void 0:ta.make," ",(aa=y.find(s=>s.id===be))==null?void 0:aa.model]})]})]})}),e.jsxs("div",{className:"bw-modal-footer",style:{display:"flex",justifyContent:"flex-end",gap:"12px",padding:"clamp(16px, 2.5vw, 24px)",borderTop:"1px solid var(--bw-border)"},children:[e.jsx("button",{className:`bw-btn-outline ${gs?"custom-hover-border":""}`,onClick:()=>{se||(Ge(!1),Ke(null))},onMouseEnter:()=>!se&&Wt(!0),onMouseLeave:()=>Wt(!1),disabled:se,style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:gs?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:gs?"rgba(155, 97, 209, 0.81)":void 0,color:gs?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:gs?"rgba(155, 97, 209, 0.81)":"inherit"},children:"Cancel"})}),e.jsx("button",{className:`bw-btn ${Is?"custom-hover-border":""}`,onClick:di,onMouseEnter:()=>!se&&ut(!0),onMouseLeave:()=>ut(!1),disabled:se,style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,backgroundColor:Is?"rgba(155, 97, 209, 0.81)":"var(--bw-error, #C5483D)",color:"#ffffff",borderColor:Is?"rgba(155, 97, 209, 0.81)":"var(--bw-error, #C5483D)",border:Is?"2px solid rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:e.jsx("span",{children:se?"Deleting...":"Delete Vehicle"})})]})]})}),Qa&&te&&e.jsx("div",{className:"bw-modal-overlay",onClick:()=>{ae||(Je(!1),Xe(null),oe(null))},children:e.jsxs("div",{className:"bw-modal",onClick:s=>s.stopPropagation(),style:{maxWidth:"500px",width:"90vw"},children:[e.jsxs("div",{className:"bw-modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"clamp(16px, 2.5vw, 24px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("h3",{style:{margin:0,fontSize:"clamp(18px, 2.5vw, 24px)",fontWeight:400,fontFamily:'"Work Sans", sans-serif',color:"#ef4444"},children:"Unassign Driver"}),e.jsx("button",{className:"bw-btn-icon",onClick:()=>{ae||(Je(!1),Xe(null),oe(null))},style:{padding:"8px",minWidth:"32px",minHeight:"32px"},disabled:ae,children:e.jsx(ee,{size:20})})]}),e.jsx("div",{className:"bw-modal-body",style:{padding:"clamp(16px, 2.5vw, 24px)",fontFamily:'"Work Sans", sans-serif',fontWeight:300},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"6px",border:"1px solid var(--bw-border)"},children:[e.jsx(me,{size:20,style:{color:"#ef4444",flexShrink:0}}),e.jsx("div",{style:{fontSize:"14px",color:"var(--bw-text)"},children:"Are you sure you want to unassign the driver from this vehicle?"})]}),y.find(s=>s.id===te)&&e.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"6px",border:"1px solid var(--bw-border)",fontSize:"13px"},children:[e.jsx("div",{style:{color:"var(--bw-muted)",marginBottom:"4px"},children:"Vehicle Details:"}),e.jsxs("div",{style:{color:"var(--bw-text)",fontWeight:500},children:[(ia=y.find(s=>s.id===te))==null?void 0:ia.year," ",(ra=y.find(s=>s.id===te))==null?void 0:ra.make," ",(la=y.find(s=>s.id===te))==null?void 0:la.model]}),((na=y.find(s=>s.id===te))==null?void 0:na.driver)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{color:"var(--bw-muted)",marginTop:"8px",marginBottom:"4px"},children:"Assigned Driver:"}),e.jsx("div",{style:{color:"var(--bw-text)",fontWeight:500},children:((da=(oa=y.find(s=>s.id===te))==null?void 0:oa.driver)==null?void 0:da.full_name)||"Unknown"})]})]}),tt&&e.jsx("div",{style:{padding:"12px",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"6px",border:"1px solid #ef4444",fontSize:"13px",color:"#ef4444"},children:tt})]})}),e.jsxs("div",{className:"bw-modal-footer",style:{display:"flex",justifyContent:"flex-end",gap:"12px",padding:"clamp(16px, 2.5vw, 24px)",borderTop:"1px solid var(--bw-border)"},children:[e.jsx("button",{className:`bw-btn-outline ${bs?"custom-hover-border":""}`,onClick:()=>{ae||(Je(!1),Xe(null),oe(null))},onMouseEnter:()=>!ae&&Ft(!0),onMouseLeave:()=>Ft(!1),disabled:ae,style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:bs?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:bs?"rgba(155, 97, 209, 0.81)":void 0,color:bs?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:bs?"rgba(155, 97, 209, 0.81)":"inherit"},children:"Cancel"})}),e.jsx("button",{className:`bw-btn-outline ${ke?"custom-hover-border":""}`,onClick:()=>ti(!0),onMouseEnter:()=>!ae&&_t(!0),onMouseLeave:()=>_t(!1),disabled:ae,style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,backgroundColor:"transparent",border:ke?"2px solid #dc2626":"2px solid #ef4444",borderColor:ke?"#dc2626":"#ef4444",color:ke?"#dc2626":"#ef4444",boxShadow:ke?"inset 0 2px 4px rgba(0, 0, 0, 0.1)":"none",transform:ke?"scale(0.98)":"scale(1)",transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:ke?"#dc2626":"#ef4444"},children:ae?"Unassigning...":"Unassign Driver"})})]})]})}),Ka&&he&&e.jsx("div",{className:"bw-modal-overlay",onClick:()=>{q||(es(!1),Ze(null),Te(""),de(null))},children:e.jsxs("div",{className:"bw-modal",onClick:s=>s.stopPropagation(),style:{maxWidth:"500px",width:"90vw"},children:[e.jsxs("div",{className:"bw-modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"clamp(16px, 2.5vw, 24px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("h3",{style:{margin:0,fontSize:"clamp(18px, 2.5vw, 24px)",fontWeight:400,fontFamily:'"Work Sans", sans-serif',color:"#10b981"},children:"Assign Driver"}),e.jsx("button",{className:"bw-btn-icon",onClick:()=>{q||(es(!1),Ze(null),Te(""),de(null))},style:{padding:"8px",minWidth:"32px",minHeight:"32px"},disabled:q,children:e.jsx(ee,{size:20})})]}),e.jsx("div",{className:"bw-modal-body",style:{padding:"clamp(16px, 2.5vw, 24px)",fontFamily:'"Work Sans", sans-serif',fontWeight:300},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"6px",border:"1px solid var(--bw-border)"},children:[e.jsx(me,{size:20,style:{color:"#10b981",flexShrink:0}}),e.jsx("div",{style:{fontSize:"14px",color:"var(--bw-text)"},children:"Select a driver to assign to this vehicle."})]}),y.find(s=>s.id===he)&&e.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"6px",border:"1px solid var(--bw-border)",fontSize:"13px"},children:[e.jsx("div",{style:{color:"var(--bw-muted)",marginBottom:"4px"},children:"Vehicle Details:"}),e.jsxs("div",{style:{color:"var(--bw-text)",fontWeight:500},children:[(pa=y.find(s=>s.id===he))==null?void 0:pa.year," ",(ca=y.find(s=>s.id===he))==null?void 0:ca.make," ",(xa=y.find(s=>s.id===he))==null?void 0:xa.model]})]}),e.jsxs("div",{className:"bw-form-group",children:[e.jsx("label",{children:"Select Driver"}),e.jsxs("select",{value:Ie,onChange:s=>Te(s.target.value),className:"bw-input",disabled:q,style:{color:"#374151",backgroundColor:"#ffffff"},children:[e.jsx("option",{value:"",children:"Choose a driver"}),F.map(s=>e.jsxs("option",{value:s.id,style:{color:"#374151",backgroundColor:"#ffffff"},children:[s.first_name," ",s.last_name," - ",s.email]},s.id))]})]}),it&&e.jsx("div",{style:{padding:"12px",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"6px",border:"1px solid #ef4444",fontSize:"13px",color:"#ef4444"},children:it})]})}),e.jsxs("div",{className:"bw-modal-footer",style:{display:"flex",justifyContent:"flex-end",gap:"12px",padding:"clamp(16px, 2.5vw, 24px)",borderTop:"1px solid var(--bw-border)"},children:[e.jsx("button",{className:`bw-btn-outline ${hs?"custom-hover-border":""}`,onClick:()=>{q||(es(!1),Ze(null),Te(""),de(null))},onMouseEnter:()=>!q&&Dt(!0),onMouseLeave:()=>Dt(!1),disabled:q,style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,border:hs?"2px solid rgba(155, 97, 209, 0.81)":void 0,borderColor:hs?"rgba(155, 97, 209, 0.81)":void 0,color:hs?"rgba(155, 97, 209, 0.81)":void 0,transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:hs?"rgba(155, 97, 209, 0.81)":"inherit"},children:"Cancel"})}),e.jsx("button",{className:`bw-btn ${Re?"custom-hover-border":""}`,onClick:ai,onMouseEnter:()=>!q&&Bt(!0),onMouseLeave:()=>Bt(!1),disabled:q||!Ie,style:{padding:a?"clamp(14px, 2.5vw, 18px) clamp(20px, 4vw, 24px)":"14px 24px",fontSize:a?"clamp(14px, 2vw, 16px)":"14px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,display:"flex",alignItems:"center",gap:a?"clamp(8px, 1.5vw, 10px)":"8px",width:a?"100%":"auto",justifyContent:"center",borderRadius:7,backgroundColor:Re?"transparent":"#10b981",border:"2px solid #10b981",borderColor:"#10b981",color:Re?"#10b981":"#ffffff",boxShadow:Re?"inset 0 2px 4px rgba(0, 0, 0, 0.1)":"none",transform:Re?"scale(0.98)":"scale(1)",opacity:!Ie||q?.5:1,cursor:!Ie||q?"not-allowed":"pointer",transition:"all 0.2s ease"},children:e.jsx("span",{style:{color:Re?"#10b981":"#ffffff"},children:q?"Assigning...":"Assign Driver"})})]})]})}),Ua&&e.jsx("div",{className:"bw-modal-overlay",onClick:()=>{Oe(!1),Es(null)},children:e.jsxs("div",{className:"bw-modal",onClick:s=>s.stopPropagation(),style:{maxWidth:"600px",width:"90vw",maxHeight:"90vh",overflowY:"auto"},children:[e.jsxs("div",{className:"bw-modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"clamp(16px, 2.5vw, 24px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsx("h3",{style:{margin:0,fontSize:"clamp(18px, 2.5vw, 24px)",fontWeight:400,fontFamily:'"Work Sans", sans-serif'},children:"Driver Details"}),e.jsx("button",{className:"bw-btn-icon",onClick:()=>{Oe(!1),Es(null)},style:{padding:"8px",minWidth:"32px",minHeight:"32px"},children:e.jsx(ee,{size:20})})]}),e.jsx("div",{className:"bw-modal-body",style:{padding:"clamp(16px, 2.5vw, 24px)",fontFamily:'"Work Sans", sans-serif',fontWeight:300},children:Oa?e.jsx("div",{style:{textAlign:"center",padding:"40px"},children:e.jsx("div",{style:{color:"var(--bw-muted)"},children:"Loading driver details..."})}):f?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(16px, 2.5vw, 24px)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"clamp(12px, 2vw, 16px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Driver ID"}),e.jsxs("div",{style:{fontSize:"clamp(18px, 2.5vw, 24px)",fontWeight:400,color:"var(--bw-text)"},children:["#",f.id]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"8px"},children:[e.jsx("span",{className:`bw-badge ${f.is_active?"bw-badge-success":"bw-badge-warning"}`,style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,textTransform:"capitalize"},children:f.is_active?"Active":"Inactive"}),e.jsx("span",{className:`bw-badge ${f.is_registered==="registered"?"bw-badge-success":"bw-badge-warning"}`,style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,textTransform:"capitalize"},children:f.is_registered==="registered"?"Registered":"Pending"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 clamp(8px, 1.5vw, 12px) 0",fontSize:"clamp(14px, 2vw, 18px)",fontWeight:400,color:"var(--bw-text)"},children:"Personal Information"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"clamp(8px, 1.5vw, 12px)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Full Name"}),e.jsxs("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:[f.first_name," ",f.last_name]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Email"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:f.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Phone Number"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:f.phone_no||"N/A"})]}),f.state&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"State"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:f.state})]}),f.postal_code&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Postal Code"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:f.postal_code})]}),f.license_number&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"License Number"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:f.license_number})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 clamp(8px, 1.5vw, 12px) 0",fontSize:"clamp(14px, 2vw, 18px)",fontWeight:400,color:"var(--bw-text)"},children:"Driver Information"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"clamp(8px, 1.5vw, 12px)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Driver Type"}),e.jsx("div",{children:e.jsx("span",{className:`bw-badge ${f.driver_type==="in_house"?"bw-badge-primary":"bw-badge-secondary"}`,style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,textTransform:"capitalize"},children:f.driver_type==="in_house"?"In-House":"Outsourced"})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Role"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:f.role||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Status"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:f.status||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Completed Rides"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:f.completed_rides||0})]})]})]}),f.vehicle&&e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 clamp(8px, 1.5vw, 12px) 0",fontSize:"clamp(14px, 2vw, 18px)",fontWeight:400,color:"var(--bw-text)"},children:"Assigned Vehicle"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"clamp(8px, 1.5vw, 12px)",padding:"clamp(12px, 2vw, 16px)",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"6px",border:"1px solid var(--bw-border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Make & Model"}),e.jsxs("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:[f.vehicle.make," ",f.vehicle.model]})]}),f.vehicle.year&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Year"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:f.vehicle.year})]}),f.vehicle.license_plate&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"License Plate"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:f.vehicle.license_plate})]}),f.vehicle.color&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Color"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:f.vehicle.color})]}),f.vehicle.seating_capacity&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Seating Capacity"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:f.vehicle.seating_capacity})]}),f.vehicle.status&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px"},children:"Vehicle Status"}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.5vw, 15px)",color:"var(--bw-text)"},children:f.vehicle.status})]})]})]}),e.jsxs("div",{style:{paddingTop:"clamp(12px, 2vw, 16px)",borderTop:"1px solid var(--bw-border)",fontSize:"clamp(11px, 1.3vw, 13px)",color:"var(--bw-muted)"},children:[e.jsxs("div",{style:{marginBottom:"4px"},children:["Created: ",f.created_on?new Date(f.created_on).toLocaleString():"N/A"]}),f.updated_on&&e.jsxs("div",{children:["Updated: ",new Date(f.updated_on).toLocaleString()]})]})]}):e.jsx("div",{style:{textAlign:"center",padding:"40px"},children:e.jsx("div",{style:{color:"var(--bw-muted)"},children:"No driver details available"})})})]})})]}),e.jsx("style",{children:`
        .bw-vehicle-grid {
          display: grid;
          gap: clamp(16px, 3vw, 24px);
          padding: 0;
        }
        
        /* Very small screens: 1 column */
        @media (max-width: 480px) {
          .bw-vehicle-grid {
            grid-template-columns: 1fr;
            gap: clamp(12px, 2vw, 16px);
          }
        }
        
        /* Small screens: 2 columns */
        @media (min-width: 481px) and (max-width: 767px) {
          .bw-vehicle-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: clamp(14px, 2.5vw, 18px);
          }
        }
        
        /* Medium screens: 3 columns */
        @media (min-width: 768px) and (max-width: 1023px) {
          .bw-vehicle-grid {
            grid-template-columns: repeat(3, 1fr);
            gap: clamp(18px, 2.5vw, 22px);
          }
        }
        
        /* Large screens: 4 columns */
        @media (min-width: 1024px) {
          .bw-vehicle-grid {
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
          }
        }
      `})]})}export{Cr as default};
