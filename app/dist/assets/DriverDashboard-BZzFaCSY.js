import{r as c,j as e,N as pe,V as Ht,W as Et,n as dt,D as ce,Y as Pt,x as qt,J as Ut,s as X,d as V,O as F,u as K,Z as Q,B as xt,_ as ft,$ as mt,a0 as gt,p as Xt,y as Vt}from"./react-vendor-JE9gdlBQ.js";import{g as Yt,a as vt,b as Ot,c as Jt,r as Zt,u as Gt}from"./driver-ZL_jGIpG.js";import{f as Kt}from"./vehicles-CkZMpXtf.js";import{t as Qt,u as bt}from"./index-DaAC2zqA.js";import{u as eo}from"./useFavicon-Bc8ZFvv0.js";import{g as to}from"./bookings-DED0-iGc.js";import{b as oo,a as so}from"./router-DL0rZlEF.js";import"./vendor-C1Py2TwH.js";import"./utils-2shQNo7D.js";function go(){var Te,Ie,Re,Be,De,Ae,Me,$e,Ne,He,Ee,Pe,qe,Ue,Xe,Ve,Ye,Oe,Je,Ze,Ge,Ke,Qe,et,tt,ot,st,it,at,rt,nt,lt,pt,ct;eo();const[g,de]=c.useState(null),[ut,wt]=c.useState([]),[ee,yt]=c.useState([]),[M,ht]=c.useState([]),[te,Y]=c.useState(5),[I,oe]=c.useState(""),[_,se]=c.useState(""),[jt,kt]=c.useState(""),[S,xe]=c.useState(!1),[L,z]=c.useState(!0),[St,fe]=c.useState(!1),[me,w]=c.useState(""),[O,R]=c.useState(!1),[C,Ct]=c.useState(window.innerWidth<=768),[$,ge]=c.useState(!1),[B,Wt]=c.useState([]),[ve,be]=c.useState(!1),[o,zt]=c.useState([]),[s,N]=c.useState(0),[v,ue]=c.useState(!1),[we,ye]=c.useState(new Set),[k,J]=c.useState(null),[D,Ft]=c.useState(null),[io,he]=c.useState(!1),[ie,ae]=c.useState({}),[je,ke]=c.useState({}),{tenantInfo:H}=Qt(),h=oo(),j=so();c.useEffect(()=>{const t=()=>{Ct(window.innerWidth<=768),window.innerWidth>768&&R(!1)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),c.useEffect(()=>{const a=new URLSearchParams(j.search).get("token");if(a)try{bt.getState().login({token:a});const i=new URLSearchParams(j.search);i.delete("token");const l=i.toString(),x=l?`${j.pathname}?${l}`:j.pathname;h(x,{replace:!0}),sessionStorage.removeItem("driver-switch-token")}catch(i){console.error("Failed to set driver token from URL:",i)}},[j.search,j.pathname,h]);const _t=t=>{if(!t)return"N/A";const a=t.replace(/\D/g,"");return a.length===0?t:a.length<=3?`(${a}`:a.length<=6?`(${a.slice(0,3)}) ${a.slice(3)}`:a.length<=10?`(${a.slice(0,3)}) ${a.slice(3,6)}-${a.slice(6)}`:`(${a.slice(0,3)}) ${a.slice(3,6)}-${a.slice(6,10)} ${a.slice(10)}`},Se=async()=>{try{be(!0);const t=await Yt();t.success&&t.data&&Wt(t.data)}catch(t){console.error("Failed to load upcoming rides:",t)}finally{be(!1)}},Ce=async()=>{try{ue(!0);const t=await vt({limit:5,booking_status:"pending"});t.success&&t.data&&(zt(t.data),N(0))}catch(t){console.error("Failed to load new requests:",t)}finally{ue(!1)}},Lt=async()=>{try{he(!0);const t=await Ot();t.success&&t.data&&Ft(t.data)}catch(t){console.error("Failed to load analytics:",t)}finally{he(!1)}},We=async()=>{var t,a;try{fe(!0),w("");const[i,l,x]=await Promise.all([Jt().catch(r=>{var m,p;console.error("Failed to load driver info:",r);const d=((p=(m=r.response)==null?void 0:m.data)==null?void 0:p.detail)||r.message||"Failed to load driver information";return w(d),{success:!1,data:null,message:d}}),vt().catch(r=>{var d,m,p,u;if(console.error("Failed to load available rides:",r),!g){const y=((m=(d=r.response)==null?void 0:d.data)==null?void 0:m.detail)||r.message||"Failed to load available rides";w(y)}return{success:!1,data:[],message:((u=(p=r.response)==null?void 0:p.data)==null?void 0:u.detail)||r.message}}),Kt().catch(r=>{var d,m;return console.error("Failed to load vehicles:",r),{success:!1,data:[],message:((m=(d=r.response)==null?void 0:d.data)==null?void 0:m.detail)||r.message}})]);if(i.success&&i.data?de(i.data):!i.success&&i.message&&w(i.message),l.success&&l.data){const r=l.data.filter(d=>{var m;return((m=d.booking_status)==null?void 0:m.toLowerCase())!=="completed"});console.log("Available rides:",r.length,"out of",l.data.length,"total rides"),wt(r)}x.success&&x.data&&yt(x.data)}catch(i){console.error("Unexpected error loading data:",i),w(((a=(t=i.response)==null?void 0:t.data)==null?void 0:a.detail)||i.message||"Failed to load data")}finally{fe(!1)}};c.useEffect(()=>{We(),Se(),Ce(),Lt()},[]);const Tt=t=>{switch(t){case"confirmed":return"accept this ride";case"cancelled":return"decline this ride";case"completed":return"mark this ride as completed";default:return"perform this action"}},b=async(t,a)=>{var x,r,d,m;const i=Tt(a);if(window.confirm(`Are you sure you want to ${i}? Please confirm your action.`))try{w("");const p=await Zt(t,a);p.success?await We():w(p.message||"Failed to update ride status")}catch(p){console.error("Failed to update ride status:",p),w(((r=(x=p.response)==null?void 0:x.data)==null?void 0:r.detail)||((m=(d=p.response)==null?void 0:d.data)==null?void 0:m.message)||p.message||"Failed to update ride status")}},It=async t=>{var a,i,l,x;try{ge(!0),w("");const r=await Gt(t);r.success&&r.data?g&&de({...g,is_active:r.data.is_active}):w(r.message||"Failed to update driver status")}catch(r){console.error("Failed to update driver status:",r),w(((i=(a=r.response)==null?void 0:a.data)==null?void 0:i.detail)||((x=(l=r.response)==null?void 0:l.data)==null?void 0:x.message)||r.message||"Failed to update driver status")}finally{ge(!1)}},ze=t=>t?new Date(t).toLocaleString():"N/A",E=t=>{switch(t==null?void 0:t.toLowerCase()){case"completed":case"active":return"#10b981";case"pending":return"#f59e0b";case"cancelled":return"#ef4444";default:return"#6b7280"}},Fe=t=>{const a=E(t);switch(t==null?void 0:t.toLowerCase()){case"completed":case"active":return e.jsx(X,{size:14,style:{color:a}});case"pending":return e.jsx(Vt,{size:14,style:{color:a}});case"cancelled":return e.jsx(V,{size:14,style:{color:a}});default:return e.jsx(Xt,{size:14,style:{color:a}})}},_e=(t,a)=>{if(!t.booking_status||!t.id)return null;const i=t.booking_status,l=E(i),x=a;return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:x,borderRadius:"8px",backgroundColor:l+"20",border:`1px solid ${l}`,fontSize:"clamp(11px, 1.8vw, 12px)",fontFamily:"Work Sans, sans-serif",fontWeight:500,color:l},children:[Fe(i),e.jsx("span",{style:{textTransform:"capitalize"},children:i})]})},re=c.useRef({}),Z=(t,a)=>{re.current[t]=a,ke(i=>({...i,[t]:!0})),ae(i=>({...i,[t]:0}))},G=(t,a,i)=>{const l=re.current[t]||a,x=a-l,r=Math.min(Math.max(x/i*100,0),100);ae(d=>({...d,[t]:r}))},A=(t,a)=>{(ie[t]||0)>=85&&a(),ke(l=>({...l,[t]:!1})),ae(l=>({...l,[t]:0})),delete re.current[t]},ne=[{id:"dashboard",label:"Dashboard",icon:Ht},{id:"bookings",label:"Bookings",icon:Et,branches:[{id:"upcoming",label:"Upcoming Rides"},{id:"new-requests",label:"New Requests"},{id:"all",label:"See All Bookings"}]},{id:"vehicles",label:"Vehicles",icon:dt}],Rt=()=>{const t=j.pathname;return t.includes("/driver/bookings")?"bookings":t.includes("/driver/vehicles")?"vehicles":"dashboard"},Bt=()=>{const t=j.pathname;return t.includes("/driver/bookings/upcoming")?"upcoming":t.includes("/driver/bookings/new-requests")?"new-requests":t.includes("/driver/bookings/all")||t==="/driver/bookings"?"all":null},W=Rt(),le=Bt();c.useEffect(()=>{W==="bookings"?(ye(t=>new Set(t).add("/driver/bookings")),le?(J(le),j.pathname==="/driver/bookings"&&h("/driver/bookings/all",{replace:!0})):(J("all"),h("/driver/bookings/all",{replace:!0}))):J(null)},[W,le,j.pathname,h]);const Dt=t=>{t==="dashboard"?h("/driver/dashboard",{replace:!0}):t==="bookings"?(ye(a=>{const i=new Set(a);return i.has("/driver/bookings")?i.delete("/driver/bookings"):i.add("/driver/bookings"),i}),we.has("/driver/bookings")||k||h("/driver/bookings/upcoming",{replace:!0})):t==="vehicles"&&h("/driver/vehicles",{replace:!0}),R(!1)},At=t=>{J(t),t==="upcoming"?h("/driver/bookings/upcoming",{replace:!0}):t==="new-requests"?h("/driver/bookings/new-requests",{replace:!0}):t==="all"&&h("/driver/bookings/all",{replace:!0}),R(!1)},Mt=async(t,a,i)=>{var l,x;try{xe(!0),w("");const r=M.length,d={limit:t};a&&(d.booking_status=a),i&&(d.service_type=i);const m=await to(d);if(m.success&&m.data){const p=m.data;ht(p),p.length<t||r>0&&p.length===r?z(!1):z(!0)}else w(m.message||"Failed to load bookings"),z(!1)}catch(r){console.error("Failed to load bookings:",r),w(((x=(l=r.response)==null?void 0:l.data)==null?void 0:x.detail)||r.message||"Failed to load bookings"),z(!1)}finally{xe(!1)}};c.useEffect(()=>{j.pathname.includes("/driver/bookings")&&(k==="upcoming"?Se():k==="new-requests"?Ce():k==="all"&&(te===5&&z(!0),Mt(te,I||void 0,_||void 0)))},[j.pathname,k,te,I,_]);const $t=t=>{if(kt(t),!t){oe(""),se(""),Y(5),z(!0);return}const[a,i]=t.split(":");a==="status"?oe(i||""):a==="service_type"&&se(i||""),Y(5),z(!0)},Le=t=>{t==="status"?oe(""):se(""),Y(5),z(!0)},Nt=()=>{Y(t=>t+5)};return e.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--bw-bg)",fontFamily:"Work Sans, sans-serif",position:"relative"},children:[O&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:998,transition:"opacity 0.3s ease"},onClick:()=>R(!1)}),e.jsxs("div",{className:"driver-sidebar",style:{position:"fixed",top:0,left:C?O?"0":"-100%":"0",width:C?"100%":"clamp(280px, 25vw, 320px)",height:"100vh",backgroundColor:"var(--bw-bg)",borderRight:"1px solid var(--bw-border)",zIndex:999,transition:"left 0.3s ease",overflowY:"auto",display:"flex",flexDirection:"column",boxShadow:"var(--bw-shadow, 0 4px 6px rgba(0, 0, 0, 0.1))"},children:[e.jsxs("div",{style:{padding:"clamp(16px, 2.5vw, 24px)",borderBottom:"1px solid var(--bw-border)",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[H?H.logo_url?e.jsx("img",{src:H.logo_url,alt:H.company_name||"Company Logo",style:{maxHeight:"clamp(40px, 5vw, 50px)",maxWidth:"clamp(120px, 20vw, 180px)",objectFit:"contain"}}):e.jsx("h1",{style:{margin:0,fontSize:"clamp(20px, 3vw, 28px)",fontWeight:600,color:"var(--bw-text)",fontFamily:"DM Sans, sans-serif",flex:1},children:H.company_name}):e.jsx("h1",{style:{margin:0,fontSize:"clamp(20px, 3vw, 28px)",fontWeight:600,color:"var(--bw-text)",fontFamily:"DM Sans, sans-serif",flex:1},children:"Driver Dashboard"}),e.jsx("button",{onClick:()=>R(!1),"aria-label":"Close menu",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",minWidth:"40px",minHeight:"40px",backgroundColor:"transparent",border:"none",cursor:"pointer",color:"var(--bw-text)"},children:e.jsx(pe,{size:20})})]}),e.jsx("nav",{style:{flex:1,padding:"clamp(12px, 2vw, 20px) 0",display:"flex",flexDirection:"column",gap:"4px",overflowY:"auto",overflowX:"hidden",minHeight:0},children:ne.map(t=>{var m;const a=t.icon,i=t.id==="bookings",l=W==="bookings",x=i&&t.branches,r=x&&we.has("/driver/bookings"),d=W===t.id||x&&l;return e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("button",{onClick:()=>Dt(t.id),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"clamp(12px, 2vw, 16px)",padding:"clamp(12px, 2vw, 16px) clamp(16px, 3vw, 24px)",backgroundColor:d?"var(--bw-bg-hover, rgba(0, 0, 0, 0.05))":"transparent",border:"none",borderLeft:d?"3px solid var(--bw-fg)":"3px solid transparent",color:"var(--bw-text)",cursor:"pointer",fontSize:"clamp(14px, 2vw, 16px)",fontFamily:"Work Sans, sans-serif",fontWeight:d?500:300,textAlign:"left",transition:"all 0.2s ease"},onMouseEnter:p=>{d||(p.currentTarget.style.backgroundColor="var(--bw-bg-hover, rgba(0, 0, 0, 0.05))")},onMouseLeave:p=>{d||(p.currentTarget.style.backgroundColor="transparent")},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(12px, 2vw, 16px)"},children:[e.jsx(a,{size:20,style:{flexShrink:0,width:"clamp(18px, 2.5vw, 20px)",height:"clamp(18px, 2.5vw, 20px)"}}),e.jsx("span",{children:t.label})]}),x&&e.jsx(ce,{size:16,style:{flexShrink:0,transform:r?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]}),x&&r&&e.jsx("div",{style:{paddingLeft:"clamp(30px, 4vw, 40px)",paddingTop:"4px",display:"flex",flexDirection:"column",gap:"2px"},children:(m=t.branches)==null?void 0:m.map(p=>{const u=k===p.id;return e.jsx("button",{onClick:()=>At(p.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",padding:"clamp(8px, 1.5vw, 10px) clamp(12px, 2vw, 16px)",backgroundColor:u?"var(--bw-bg-hover, rgba(0, 0, 0, 0.05))":"transparent",border:"none",borderLeft:u?"2px solid var(--bw-fg)":"2px solid transparent",color:"var(--bw-text)",cursor:"pointer",fontSize:"clamp(13px, 1.8vw, 14px)",fontFamily:"Work Sans, sans-serif",fontWeight:u?500:300,textAlign:"left",transition:"all 0.2s ease",opacity:u?1:.8},onMouseEnter:y=>{u||(y.currentTarget.style.backgroundColor="var(--bw-bg-hover, rgba(0, 0, 0, 0.05))",y.currentTarget.style.opacity="1")},onMouseLeave:y=>{u||(y.currentTarget.style.backgroundColor="transparent",y.currentTarget.style.opacity="0.8")},children:e.jsx("span",{children:p.label})},p.id)})})]},t.id)})}),e.jsx("div",{style:{padding:"clamp(12px, 2vw, 20px)",borderTop:"1px solid var(--bw-border)",display:"flex",flexDirection:"column",gap:"12px"},children:e.jsxs("button",{onClick:()=>{bt.getState().logout(),h("/driver/login",{replace:!0})},style:{width:"100%",display:"flex",alignItems:"center",gap:"8px",padding:"clamp(10px, 1.5vw, 12px) clamp(16px, 3vw, 24px)",backgroundColor:"transparent",border:"1px solid var(--bw-border)",borderRadius:"6px",color:"var(--bw-text)",cursor:"pointer",fontSize:"clamp(14px, 2vw, 16px)",fontFamily:"Work Sans, sans-serif",fontWeight:300},children:[e.jsx(Pt,{size:18}),"Logout"]})})]}),e.jsxs("div",{style:{padding:"clamp(12px, 2.5vw, 24px)",marginLeft:C?"0":"clamp(280px, 25vw, 320px)",transition:"margin-left 0.3s ease"},className:"driver-main-content",children:[e.jsxs("div",{style:{marginBottom:"clamp(16px, 3vw, 24px)",paddingBottom:"clamp(12px, 2vw, 16px)",borderBottom:"1px solid var(--bw-border)",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px"},children:[C&&e.jsx("button",{className:"driver-hamburger",onClick:()=>R(!O),"aria-label":"Toggle menu","aria-expanded":O,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",minWidth:"40px",minHeight:"40px",backgroundColor:"transparent",border:"1px solid var(--bw-border)",borderRadius:"6px",cursor:"pointer",color:"var(--bw-text)"},children:e.jsx(qt,{size:20})}),e.jsx("h1",{style:{margin:0,fontSize:"clamp(20px, 4vw, 28px)",fontWeight:200,fontFamily:"DM Sans, sans-serif",color:"var(--bw-text)",flex:1},children:W==="bookings"&&k?((Re=(Ie=(Te=ne.find(t=>t.id==="bookings"))==null?void 0:Te.branches)==null?void 0:Ie.find(t=>t.id===k))==null?void 0:Re.label)||"Bookings":((Be=ne.find(t=>t.id===W))==null?void 0:Be.label)||"Dashboard"})]}),me&&e.jsx("div",{style:{padding:"clamp(10px, 2vw, 12px)",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"8px",color:"#ef4444",marginBottom:"clamp(16px, 3vw, 24px)",fontSize:"clamp(13px, 2vw, 14px)"},children:me}),W==="dashboard"&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(16px, 3vw, 24px)"},children:[g&&e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 24px)"},children:[e.jsx("h2",{style:{margin:"0 0 clamp(16px, 3vw, 20px) 0",fontSize:"clamp(18px, 3vw, 22px)",fontWeight:400,fontFamily:"Work Sans, sans-serif",color:"var(--bw-text)"},children:"Driver Status"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif",marginBottom:"4px"},children:g.is_active?"You are currently active and available for rides":"You are currently inactive and not accepting rides"}),e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,fontFamily:"Work Sans, sans-serif"},children:g.is_active?"Toggle off to stop receiving ride requests":"Toggle on to start receiving ride requests"})]}),e.jsx("button",{onClick:()=>It(!g.is_active),disabled:$,style:{position:"relative",width:"56px",height:"32px",borderRadius:"16px",border:"none",cursor:$?"not-allowed":"pointer",backgroundColor:g.is_active?"#10b981":"#6b7280",transition:"background-color 0.3s ease",opacity:$?.6:1,padding:"2px",display:"flex",alignItems:"center",flexShrink:0},onMouseEnter:t=>{$||(t.currentTarget.style.opacity="0.8")},onMouseLeave:t=>{$||(t.currentTarget.style.opacity="1")},children:e.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:"white",transform:g.is_active?"translateX(24px)":"translateX(0)",transition:"transform 0.3s ease",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"}})})]})]}),e.jsxs("div",{className:"driver-stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"clamp(12px, 2vw, 16px)"},children:[e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 24px)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"clamp(28px, 5vw, 40px)",fontWeight:700,color:"var(--bw-text)",marginBottom:"8px",fontFamily:"Work Sans, sans-serif"},children:(D==null?void 0:D.completed)??(g==null?void 0:g.completed_rides)??0}),e.jsx("div",{style:{fontSize:"clamp(12px, 2vw, 14px)",color:"var(--bw-text)",opacity:.7,fontFamily:"Work Sans, sans-serif",fontWeight:300},children:"Completed Rides"})]}),e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 24px)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"clamp(28px, 5vw, 40px)",fontWeight:700,color:"var(--bw-text)",marginBottom:"8px",fontFamily:"Work Sans, sans-serif"},children:(D==null?void 0:D.pending)??ut.length}),e.jsx("div",{style:{fontSize:"clamp(12px, 2vw, 14px)",color:"var(--bw-text)",opacity:.7,fontFamily:"Work Sans, sans-serif",fontWeight:300},children:"Available Rides"})]})]}),g&&e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 20px)"},children:[e.jsx("h2",{style:{margin:"0 0 clamp(16px, 3vw, 20px) 0",fontSize:"clamp(18px, 3vw, 22px)",fontWeight:400,fontFamily:"Work Sans, sans-serif",color:"var(--bw-text)"},children:"My Information"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(clamp(150px, 25vw, 200px), 1fr))",gap:"clamp(12px, 2vw, 16px)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Name"}),e.jsxs("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:[g.first_name," ",g.last_name]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Email"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:g.email})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Phone"}),e.jsxs("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(Ut,{size:14}),_t(g.phone_no)]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Status"}),e.jsxs("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:g.is_active?"#10b981":"#6b7280",fontWeight:300,fontFamily:"Work Sans, sans-serif",display:"flex",alignItems:"center",gap:"6px"},children:[g.is_active?e.jsx(X,{size:14}):e.jsx(V,{size:14}),g.is_active?"Active":"Inactive"]})]})]}),g.vehicle&&e.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid var(--bw-border)"},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"8px"},children:"Vehicle"}),e.jsxs("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:[g.vehicle.make," ",g.vehicle.model," ",g.vehicle.year?`(${g.vehicle.year})`:""]})]})]})]}),e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(10px, 2vw, 14px)",display:"flex",flexDirection:"column"},children:[e.jsx("h2",{style:{margin:"0 0 clamp(10px, 2vw, 14px) 0",fontSize:"clamp(18px, 3vw, 22px)",fontWeight:400,fontFamily:"Work Sans, sans-serif",color:"var(--bw-text)"},children:"New Requests"}),v&&o.length===0?e.jsx("div",{style:{padding:"clamp(12px, 2vw, 20px)",textAlign:"center",color:"var(--bw-muted)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:"Work Sans, sans-serif"},children:"Loading new requests..."}):o.length===0?e.jsx("div",{style:{padding:"clamp(12px, 2vw, 20px)",textAlign:"center",color:"var(--bw-muted)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:"Work Sans, sans-serif"},children:"No new requests"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"relative",minHeight:"100px",display:"flex",flexDirection:"column"},children:o[s]&&e.jsxs("div",{style:{padding:"clamp(10px, 1.5vw, 12px)",border:"1px solid var(--bw-border)",borderRadius:"8px",backgroundColor:"var(--bw-bg-secondary)",display:"flex",flexDirection:"column",gap:"clamp(6px, 1vw, 10px)"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"10px",flexWrap:"wrap",marginBottom:"6px"},children:e.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.8vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px",fontFamily:"Work Sans, sans-serif"},children:"Customer"}),e.jsx("div",{style:{fontSize:"clamp(14px, 2vw, 15px)",color:"var(--bw-text)",fontWeight:500,fontFamily:"Work Sans, sans-serif"},children:o[s].customer_name||"N/A"})]})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"6px"},children:[e.jsx(F,{size:16,style:{color:"var(--bw-muted)",marginTop:"2px",flexShrink:0}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.5vw, 12px)",color:"var(--bw-muted)",marginBottom:"2px",fontFamily:"Work Sans, sans-serif"},children:"Pickup"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif"},children:o[s].pickup_location||"N/A"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"6px"},children:[e.jsx(F,{size:16,style:{color:"var(--bw-muted)",marginTop:"2px",flexShrink:0}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.5vw, 12px)",color:"var(--bw-muted)",marginBottom:"2px",fontFamily:"Work Sans, sans-serif"},children:"Dropoff"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif"},children:o[s].dropoff_location||"N/A"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(K,{size:16,style:{color:"var(--bw-muted)",flexShrink:0}}),e.jsx("div",{style:{fontSize:"clamp(12px, 1.8vw, 13px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif"},children:o[s].pickup_time?new Date(o[s].pickup_time).toLocaleString():"N/A"})]}),o[s].estimated_price&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Q,{size:16,style:{color:"var(--bw-muted)",flexShrink:0}}),e.jsxs("div",{style:{fontSize:"clamp(12px, 1.8vw, 13px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontWeight:500},children:["$",o[s].estimated_price.toFixed(2)]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px",flexWrap:"wrap"},children:[e.jsx("button",{onClick:()=>o[s].id&&b(o[s].id,"confirmed"),disabled:((De=o[s].booking_status)==null?void 0:De.toLowerCase())==="completed"||!o[s].id,style:{flex:1,minWidth:"clamp(70px, 20vw, 90px)",padding:"clamp(6px, 1.5vw, 8px) clamp(12px, 2.5vw, 14px)",backgroundColor:((Ae=o[s].booking_status)==null?void 0:Ae.toLowerCase())==="completed"?"#6b7280":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:((Me=o[s].booking_status)==null?void 0:Me.toLowerCase())==="completed"?"not-allowed":"pointer",fontSize:"clamp(11px, 1.8vw, 12px)",fontFamily:"Work Sans, sans-serif",fontWeight:500,opacity:(($e=o[s].booking_status)==null?void 0:$e.toLowerCase())==="completed"?.6:1},children:"Accept"}),e.jsx("button",{onClick:()=>o[s].id&&b(o[s].id,"cancelled"),disabled:((Ne=o[s].booking_status)==null?void 0:Ne.toLowerCase())==="completed"||!o[s].id,style:{flex:1,minWidth:"clamp(70px, 20vw, 90px)",padding:"clamp(6px, 1.5vw, 8px) clamp(12px, 2.5vw, 14px)",backgroundColor:"transparent",color:((He=o[s].booking_status)==null?void 0:He.toLowerCase())==="completed"?"#6b7280":"#ef4444",border:`1px solid ${((Ee=o[s].booking_status)==null?void 0:Ee.toLowerCase())==="completed"?"#6b7280":"#ef4444"}`,borderRadius:"6px",cursor:((Pe=o[s].booking_status)==null?void 0:Pe.toLowerCase())==="completed"?"not-allowed":"pointer",fontSize:"clamp(11px, 1.8vw, 12px)",fontFamily:"Work Sans, sans-serif",fontWeight:500,opacity:((qe=o[s].booking_status)==null?void 0:qe.toLowerCase())==="completed"?.6:1},children:"Decline"}),(((Ue=o[s].booking_status)==null?void 0:Ue.toLowerCase())==="confirmed"||((Xe=o[s].booking_status)==null?void 0:Xe.toLowerCase())==="active")&&e.jsx("button",{onClick:()=>o[s].id&&b(o[s].id,"completed"),disabled:((Ve=o[s].booking_status)==null?void 0:Ve.toLowerCase())==="completed"||!o[s].id,style:{flex:1,minWidth:"clamp(70px, 20vw, 90px)",padding:"clamp(6px, 1.5vw, 8px) clamp(12px, 2.5vw, 14px)",backgroundColor:((Ye=o[s].booking_status)==null?void 0:Ye.toLowerCase())==="completed"?"#6b7280":"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:((Oe=o[s].booking_status)==null?void 0:Oe.toLowerCase())==="completed"?"not-allowed":"pointer",fontSize:"clamp(11px, 1.8vw, 12px)",fontFamily:"Work Sans, sans-serif",fontWeight:500,opacity:((Je=o[s].booking_status)==null?void 0:Je.toLowerCase())==="completed"?.6:1},children:"Complete"})]})]})}),o.length>1&&e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",marginTop:"clamp(10px, 2vw, 14px)",paddingTop:"clamp(10px, 2vw, 14px)",borderTop:"1px solid var(--bw-border)"},children:[e.jsx("button",{onClick:()=>N(t=>t>0?t-1:o.length-1),disabled:v,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"clamp(8px, 1.5vw, 10px)",backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"6px",cursor:v?"not-allowed":"pointer",color:"var(--bw-text)",opacity:v?.6:1,transition:"all 0.2s ease",minWidth:"44px",minHeight:"44px"},onMouseEnter:t=>{v||(t.currentTarget.style.backgroundColor="var(--bw-bg-hover)",t.currentTarget.style.borderColor="var(--bw-border-strong)")},onMouseLeave:t=>{v||(t.currentTarget.style.backgroundColor="var(--bw-bg-secondary)",t.currentTarget.style.borderColor="var(--bw-border)")},children:e.jsx(xt,{size:20})}),e.jsxs("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontWeight:300},children:[s+1," of ",o.length]}),e.jsx("button",{onClick:()=>N(t=>t<o.length-1?t+1:0),disabled:v,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"clamp(8px, 1.5vw, 10px)",backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"6px",cursor:v?"not-allowed":"pointer",color:"var(--bw-text)",opacity:v?.6:1,transition:"all 0.2s ease",minWidth:"44px",minHeight:"44px"},onMouseEnter:t=>{v||(t.currentTarget.style.backgroundColor="var(--bw-bg-hover)",t.currentTarget.style.borderColor="var(--bw-border-strong)")},onMouseLeave:t=>{v||(t.currentTarget.style.backgroundColor="var(--bw-bg-secondary)",t.currentTarget.style.borderColor="var(--bw-border)")},children:e.jsx(ce,{size:20})})]})]})]}),e.jsx("div",{style:{backgroundColor:"unset",border:"none",borderRadius:"12px",padding:"clamp(4px, 1vw, 8px)",display:"flex",flexDirection:"column",width:"100%"},children:ve&&B.length===0?e.jsx("div",{style:{padding:"clamp(12px, 2vw, 20px)",textAlign:"center",color:"var(--bw-muted)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:"Work Sans, sans-serif"},children:"Loading upcoming rides..."}):B.length===0?e.jsx("div",{style:{padding:"clamp(12px, 2vw, 20px)",textAlign:"center",color:"var(--bw-muted)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:"Work Sans, sans-serif"},children:"No upcoming rides"}):e.jsx(e.Fragment,{children:e.jsx("div",{style:{maxHeight:"clamp(400px, 60vh, 600px)",overflowY:"auto",overflowX:"hidden",display:"grid",gridTemplateColumns:"1fr",gap:"clamp(16px, 2.5vw, 20px)",paddingRight:"8px",width:"100%"},children:B.map((t,a)=>{var d,m,p,u,y,P,q,U;const i=t.id||a,l=ie[i]||0,x=je[i]||!1;let r=null;return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:C?"1fr":"1fr clamp(200px, 25vw, 280px)",gap:"clamp(16px, 2vw, 20px)",padding:"clamp(16px, 2.5vw, 20px)",border:"1px solid var(--bw-border)",borderRadius:"12px",backgroundColor:"var(--bw-card-bg, var(--bw-bg))",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(16px, 2vw, 20px)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px",paddingBottom:"clamp(12px, 1.5vw, 16px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.5vw, 12px)",color:"var(--bw-text)",opacity:.5,marginBottom:"6px",fontFamily:"Work Sans, sans-serif",fontWeight:267,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Customer"}),e.jsx("div",{style:{fontSize:"clamp(20px, 3vw, 24px)",color:"var(--bw-text)",fontWeight:400,fontFamily:"Work Sans, sans-serif",lineHeight:1.2},children:t.customer_name||"N/A"})]}),_e(t,"6px 12px")]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.8vw, 13px)",color:"var(--bw-text)",opacity:.6,fontFamily:"Work Sans, sans-serif",fontWeight:333,textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"4px"},children:"Pickup"}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"8px",backgroundColor:"var(--bw-bg-secondary)",flexShrink:0},children:e.jsx(F,{size:18,style:{color:"var(--bw-text)",opacity:.8}})}),e.jsx("div",{style:{flex:1,minWidth:0},children:e.jsx("div",{style:{fontSize:"clamp(15px, 2.2vw, 17px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontWeight:333,lineHeight:1.4,wordBreak:"break-word"},children:t.pickup_location||"N/A"})})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.8vw, 13px)",color:"var(--bw-text)",opacity:.6,fontFamily:"Work Sans, sans-serif",fontWeight:333,textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"4px"},children:"Dropoff"}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"8px",backgroundColor:"var(--bw-bg-secondary)",flexShrink:0},children:e.jsx(ft,{size:18,style:{color:"var(--bw-text)",opacity:.8}})}),e.jsx("div",{style:{flex:1,minWidth:0},children:e.jsx("div",{style:{fontSize:"clamp(15px, 2.2vw, 17px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontWeight:333,lineHeight:1.4,wordBreak:"break-word"},children:t.dropoff_location||"N/A"})})]})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"clamp(16px, 2vw, 24px)",paddingTop:"clamp(12px, 1.5vw, 16px)",borderTop:"1px solid var(--bw-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(K,{size:16,style:{color:"var(--bw-text)",opacity:.6}}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.8vw, 14px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",opacity:.8},children:t.pickup_time?new Date(t.pickup_time).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"N/A"})]}),t.estimated_price&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Q,{size:16,style:{color:"var(--bw-text)",opacity:.6}}),e.jsxs("div",{style:{fontSize:"clamp(15px, 2vw, 16px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontWeight:400},children:["$",t.estimated_price.toFixed(2)]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[e.jsxs("button",{onClick:()=>t.id&&b(t.id,"cancelled"),disabled:((d=t.booking_status)==null?void 0:d.toLowerCase())==="completed"||!t.id,style:{flex:1,padding:"clamp(12px, 2vw, 14px)",backgroundColor:"transparent",color:((m=t.booking_status)==null?void 0:m.toLowerCase())==="completed"?"var(--bw-text)":"#ef4444",border:`1px solid ${((p=t.booking_status)==null?void 0:p.toLowerCase())==="completed"?"var(--bw-border)":"#ef4444"}`,borderRadius:"10px",fontSize:"clamp(14px, 2vw, 15px)",fontFamily:"Work Sans, sans-serif",fontWeight:400,cursor:((u=t.booking_status)==null?void 0:u.toLowerCase())==="completed"?"not-allowed":"pointer",opacity:((y=t.booking_status)==null?void 0:y.toLowerCase())==="completed"?.5:1,transition:"all 0.2s ease",minHeight:"48px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},onMouseEnter:n=>{var f;((f=t.booking_status)==null?void 0:f.toLowerCase())!=="completed"&&t.id&&(n.currentTarget.style.backgroundColor="#ef444410")},onMouseLeave:n=>{n.currentTarget.style.backgroundColor="transparent"},children:[e.jsx(V,{size:18}),"Decline"]}),e.jsxs("button",{ref:n=>{r=n},onClick:()=>{l>=85&&t.id&&b(t.id,"completed")},disabled:((P=t.booking_status)==null?void 0:P.toLowerCase())==="completed"||!t.id,onTouchStart:n=>{var f;t.id&&((f=t.booking_status)==null?void 0:f.toLowerCase())!=="completed"&&Z(i,n.touches[0].clientX)},onTouchMove:n=>{var f;if(t.id&&((f=t.booking_status)==null?void 0:f.toLowerCase())!=="completed"&&r){const T=r.offsetWidth;G(i,n.touches[0].clientX,T)}},onTouchEnd:()=>{var n;t.id&&((n=t.booking_status)==null?void 0:n.toLowerCase())!=="completed"&&A(i,()=>{t.id&&b(t.id,"completed")})},onMouseDown:n=>{var f;t.id&&((f=t.booking_status)==null?void 0:f.toLowerCase())!=="completed"&&r&&Z(i,n.clientX)},onMouseMove:n=>{var f;if(x&&t.id&&((f=t.booking_status)==null?void 0:f.toLowerCase())!=="completed"&&r){const T=r.offsetWidth;G(i,n.clientX,T)}},onMouseUp:()=>{var n;t.id&&((n=t.booking_status)==null?void 0:n.toLowerCase())!=="completed"&&A(i,()=>{t.id&&b(t.id,"completed")})},onMouseLeave:()=>{x&&t.id&&A(i,()=>{t.id&&b(t.id,"completed")})},style:{flex:2,padding:"clamp(12px, 2vw, 14px)",backgroundColor:(l>=85,"#10b981"),color:"#ffffff",border:"none",borderRadius:"10px",fontSize:"clamp(14px, 2vw, 15px)",fontFamily:"Work Sans, sans-serif",fontWeight:400,cursor:((q=t.booking_status)==null?void 0:q.toLowerCase())==="completed"?"not-allowed":"pointer",opacity:((U=t.booking_status)==null?void 0:U.toLowerCase())==="completed"?.5:1,transition:l>=85?"all 0.2s ease":"background-color 0.2s ease",minHeight:"48px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",left:0,top:0,height:"100%",width:`${l}%`,backgroundColor:"#059669",transition:"width 0.1s ease",zIndex:0}}),e.jsx("span",{style:{position:"relative",zIndex:1,display:"flex",alignItems:"center",gap:"6px"},children:l>=85?e.jsxs(e.Fragment,{children:[e.jsx(X,{size:18}),"Release to Complete"]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{size:18}),"Swipe to Complete"]})})]})]})]}),!C&&e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"10px",border:"1px solid var(--bw-border)",minHeight:"200px",position:"relative",overflow:"hidden"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",color:"var(--bw-text)",opacity:.4},children:[e.jsx(gt,{size:48}),e.jsx("div",{style:{fontSize:"clamp(12px, 1.5vw, 13px)",fontFamily:"Work Sans, sans-serif"},children:"Map Preview"})]})})]},i)})})})})]}),W==="bookings"&&e.jsxs(e.Fragment,{children:[k==="upcoming"&&e.jsx("div",{style:{border:"none",borderRadius:"12px",padding:"clamp(4px, 1vw, 8px)",display:"flex",flexDirection:"column",minHeight:"clamp(600px, 70vh, 900px)",width:"100%"},children:ve&&B.length===0?e.jsx("div",{style:{padding:"clamp(12px, 2vw, 20px)",textAlign:"center",color:"var(--bw-muted)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:"Work Sans, sans-serif"},children:"Loading upcoming rides..."}):B.length===0?e.jsx("div",{style:{padding:"clamp(12px, 2vw, 20px)",textAlign:"center",color:"var(--bw-muted)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:"Work Sans, sans-serif"},children:"No upcoming rides"}):e.jsx(e.Fragment,{children:e.jsx("div",{style:{maxHeight:"clamp(500px, 70vh, 900px)",overflowY:"auto",overflowX:"hidden",display:"grid",gridTemplateColumns:"1fr",gap:"clamp(16px, 2.5vw, 20px)",paddingRight:"8px",width:"100%"},children:B.map((t,a)=>{var d,m,p,u,y,P,q,U;const i=t.id||a,l=ie[i]||0,x=je[i]||!1;let r=null;return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:C?"1fr":"1fr clamp(200px, 25vw, 280px)",gap:"clamp(16px, 2vw, 20px)",padding:"clamp(16px, 2.5vw, 20px)",border:"1px solid var(--bw-border)",borderRadius:"12px",backgroundColor:"var(--bw-card-bg, var(--bw-bg))",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(16px, 2vw, 20px)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px",paddingBottom:"clamp(12px, 1.5vw, 16px)",borderBottom:"1px solid var(--bw-border)"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.5vw, 12px)",color:"var(--bw-text)",opacity:.5,marginBottom:"6px",fontFamily:"Work Sans, sans-serif",fontWeight:267,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Customer"}),e.jsx("div",{style:{fontSize:"clamp(20px, 3vw, 24px)",color:"var(--bw-text)",fontWeight:400,fontFamily:"Work Sans, sans-serif",lineHeight:1.2},children:t.customer_name||"N/A"})]}),_e(t,"6px 12px")]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.8vw, 13px)",color:"var(--bw-text)",opacity:.6,fontFamily:"Work Sans, sans-serif",fontWeight:333,textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"4px"},children:"Pickup"}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"8px",backgroundColor:"var(--bw-bg-secondary)",flexShrink:0},children:e.jsx(F,{size:18,style:{color:"var(--bw-text)",opacity:.8}})}),e.jsx("div",{style:{flex:1,minWidth:0},children:e.jsx("div",{style:{fontSize:"clamp(15px, 2.2vw, 17px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontWeight:333,lineHeight:1.4,wordBreak:"break-word"},children:t.pickup_location||"N/A"})})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.8vw, 13px)",color:"var(--bw-text)",opacity:.6,fontFamily:"Work Sans, sans-serif",fontWeight:333,textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"4px"},children:"Dropoff"}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"8px",backgroundColor:"var(--bw-bg-secondary)",flexShrink:0},children:e.jsx(ft,{size:18,style:{color:"var(--bw-text)",opacity:.8}})}),e.jsx("div",{style:{flex:1,minWidth:0},children:e.jsx("div",{style:{fontSize:"clamp(15px, 2.2vw, 17px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontWeight:333,lineHeight:1.4,wordBreak:"break-word"},children:t.dropoff_location||"N/A"})})]})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"clamp(16px, 2vw, 24px)",paddingTop:"clamp(12px, 1.5vw, 16px)",borderTop:"1px solid var(--bw-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(K,{size:16,style:{color:"var(--bw-text)",opacity:.6}}),e.jsx("div",{style:{fontSize:"clamp(13px, 1.8vw, 14px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",opacity:.8},children:t.pickup_time?new Date(t.pickup_time).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"N/A"})]}),t.estimated_price&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Q,{size:16,style:{color:"var(--bw-text)",opacity:.6}}),e.jsxs("div",{style:{fontSize:"clamp(15px, 2vw, 16px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontWeight:400},children:["$",t.estimated_price.toFixed(2)]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[e.jsxs("button",{onClick:()=>t.id&&b(t.id,"cancelled"),disabled:((d=t.booking_status)==null?void 0:d.toLowerCase())==="completed"||!t.id,style:{flex:1,padding:"clamp(12px, 2vw, 14px)",backgroundColor:"transparent",color:((m=t.booking_status)==null?void 0:m.toLowerCase())==="completed"?"var(--bw-text)":"#ef4444",border:`1px solid ${((p=t.booking_status)==null?void 0:p.toLowerCase())==="completed"?"var(--bw-border)":"#ef4444"}`,borderRadius:"10px",fontSize:"clamp(14px, 2vw, 15px)",fontFamily:"Work Sans, sans-serif",fontWeight:400,cursor:((u=t.booking_status)==null?void 0:u.toLowerCase())==="completed"?"not-allowed":"pointer",opacity:((y=t.booking_status)==null?void 0:y.toLowerCase())==="completed"?.5:1,transition:"all 0.2s ease",minHeight:"48px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},onMouseEnter:n=>{var f;((f=t.booking_status)==null?void 0:f.toLowerCase())!=="completed"&&t.id&&(n.currentTarget.style.backgroundColor="#ef444410")},onMouseLeave:n=>{n.currentTarget.style.backgroundColor="transparent"},children:[e.jsx(V,{size:18}),"Decline"]}),e.jsxs("button",{ref:n=>{r=n},onClick:()=>{l>=85&&t.id&&b(t.id,"completed")},disabled:((P=t.booking_status)==null?void 0:P.toLowerCase())==="completed"||!t.id,onTouchStart:n=>{var f;t.id&&((f=t.booking_status)==null?void 0:f.toLowerCase())!=="completed"&&Z(i,n.touches[0].clientX)},onTouchMove:n=>{var f;if(t.id&&((f=t.booking_status)==null?void 0:f.toLowerCase())!=="completed"&&r){const T=r.offsetWidth;G(i,n.touches[0].clientX,T)}},onTouchEnd:()=>{var n;t.id&&((n=t.booking_status)==null?void 0:n.toLowerCase())!=="completed"&&A(i,()=>{t.id&&b(t.id,"completed")})},onMouseDown:n=>{var f;t.id&&((f=t.booking_status)==null?void 0:f.toLowerCase())!=="completed"&&r&&Z(i,n.clientX)},onMouseMove:n=>{var f;if(x&&t.id&&((f=t.booking_status)==null?void 0:f.toLowerCase())!=="completed"&&r){const T=r.offsetWidth;G(i,n.clientX,T)}},onMouseUp:()=>{var n;t.id&&((n=t.booking_status)==null?void 0:n.toLowerCase())!=="completed"&&A(i,()=>{t.id&&b(t.id,"completed")})},onMouseLeave:()=>{x&&t.id&&A(i,()=>{t.id&&b(t.id,"completed")})},style:{flex:2,padding:"clamp(12px, 2vw, 14px)",backgroundColor:(l>=85,"#10b981"),color:"#ffffff",border:"none",borderRadius:"10px",fontSize:"clamp(14px, 2vw, 15px)",fontFamily:"Work Sans, sans-serif",fontWeight:400,cursor:((q=t.booking_status)==null?void 0:q.toLowerCase())==="completed"?"not-allowed":"pointer",opacity:((U=t.booking_status)==null?void 0:U.toLowerCase())==="completed"?.5:1,transition:l>=85?"all 0.2s ease":"background-color 0.2s ease",minHeight:"48px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",left:0,top:0,height:"100%",width:`${l}%`,backgroundColor:"#059669",transition:"width 0.1s ease",zIndex:0}}),e.jsx("span",{style:{position:"relative",zIndex:1,display:"flex",alignItems:"center",gap:"6px"},children:l>=85?e.jsxs(e.Fragment,{children:[e.jsx(X,{size:18}),"Release to Complete"]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{size:18}),"Swipe to Complete"]})})]})]})]}),!C&&e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--bw-bg-secondary)",borderRadius:"10px",border:"1px solid var(--bw-border)",minHeight:"200px",position:"relative",overflow:"hidden"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",color:"var(--bw-text)",opacity:.4},children:[e.jsx(gt,{size:48}),e.jsx("div",{style:{fontSize:"clamp(12px, 1.5vw, 13px)",fontFamily:"Work Sans, sans-serif"},children:"Map Preview"})]})})]},i)})})})}),k==="new-requests"&&e.jsx("div",{style:{border:"none",borderRadius:"12px",padding:"clamp(10px, 2vw, 14px)",display:"flex",flexDirection:"column"},children:v&&o.length===0?e.jsx("div",{style:{padding:"clamp(12px, 2vw, 20px)",textAlign:"center",color:"var(--bw-muted)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:"Work Sans, sans-serif"},children:"Loading new requests..."}):o.length===0?e.jsx("div",{style:{padding:"clamp(12px, 2vw, 20px)",textAlign:"center",color:"var(--bw-muted)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:"Work Sans, sans-serif"},children:"No new requests"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"relative",minHeight:"100px",display:"flex",flexDirection:"column"},children:o[s]&&e.jsxs("div",{style:{padding:"clamp(10px, 1.5vw, 12px)",border:"1px solid var(--bw-border)",borderRadius:"8px",backgroundColor:"var(--bw-bg-secondary)",display:"flex",flexDirection:"column",gap:"clamp(6px, 1vw, 10px)"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"10px",flexWrap:"wrap",marginBottom:"6px"},children:e.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[e.jsx("div",{style:{fontSize:"clamp(12px, 1.8vw, 13px)",color:"var(--bw-muted)",marginBottom:"4px",fontFamily:"Work Sans, sans-serif"},children:"Customer"}),e.jsx("div",{style:{fontSize:"clamp(14px, 2vw, 15px)",color:"var(--bw-text)",fontWeight:500,fontFamily:"Work Sans, sans-serif"},children:o[s].customer_name||"N/A"})]})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"6px"},children:[e.jsx(F,{size:16,style:{color:"var(--bw-muted)",marginTop:"2px",flexShrink:0}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.5vw, 12px)",color:"var(--bw-muted)",marginBottom:"2px",fontFamily:"Work Sans, sans-serif"},children:"Pickup"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif"},children:o[s].pickup_location||"N/A"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"6px"},children:[e.jsx(F,{size:16,style:{color:"var(--bw-muted)",marginTop:"2px",flexShrink:0}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.5vw, 12px)",color:"var(--bw-muted)",marginBottom:"2px",fontFamily:"Work Sans, sans-serif"},children:"Dropoff"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif"},children:o[s].dropoff_location||"N/A"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(K,{size:16,style:{color:"var(--bw-muted)",flexShrink:0}}),e.jsx("div",{style:{fontSize:"clamp(12px, 1.8vw, 13px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif"},children:o[s].pickup_time?new Date(o[s].pickup_time).toLocaleString():"N/A"})]}),o[s].estimated_price&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(Q,{size:16,style:{color:"var(--bw-muted)",flexShrink:0}}),e.jsxs("div",{style:{fontSize:"clamp(12px, 1.8vw, 13px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontWeight:500},children:["$",o[s].estimated_price.toFixed(2)]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px",flexWrap:"wrap"},children:[e.jsx("button",{onClick:()=>o[s].id&&b(o[s].id,"confirmed"),disabled:((Ze=o[s].booking_status)==null?void 0:Ze.toLowerCase())==="completed"||!o[s].id,style:{flex:1,minWidth:"clamp(70px, 20vw, 90px)",padding:"clamp(6px, 1.5vw, 8px) clamp(12px, 2.5vw, 14px)",backgroundColor:((Ge=o[s].booking_status)==null?void 0:Ge.toLowerCase())==="completed"?"#6b7280":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:((Ke=o[s].booking_status)==null?void 0:Ke.toLowerCase())==="completed"?"not-allowed":"pointer",fontSize:"clamp(11px, 1.8vw, 12px)",fontFamily:"Work Sans, sans-serif",fontWeight:500,opacity:((Qe=o[s].booking_status)==null?void 0:Qe.toLowerCase())==="completed"?.6:1},children:"Accept"}),e.jsx("button",{onClick:()=>o[s].id&&b(o[s].id,"cancelled"),disabled:((et=o[s].booking_status)==null?void 0:et.toLowerCase())==="completed"||!o[s].id,style:{flex:1,minWidth:"clamp(70px, 20vw, 90px)",padding:"clamp(6px, 1.5vw, 8px) clamp(12px, 2.5vw, 14px)",backgroundColor:"transparent",color:((tt=o[s].booking_status)==null?void 0:tt.toLowerCase())==="completed"?"#6b7280":"#ef4444",border:`1px solid ${((ot=o[s].booking_status)==null?void 0:ot.toLowerCase())==="completed"?"#6b7280":"#ef4444"}`,borderRadius:"6px",cursor:((st=o[s].booking_status)==null?void 0:st.toLowerCase())==="completed"?"not-allowed":"pointer",fontSize:"clamp(11px, 1.8vw, 12px)",fontFamily:"Work Sans, sans-serif",fontWeight:500,opacity:((it=o[s].booking_status)==null?void 0:it.toLowerCase())==="completed"?.6:1},children:"Decline"}),(((at=o[s].booking_status)==null?void 0:at.toLowerCase())==="confirmed"||((rt=o[s].booking_status)==null?void 0:rt.toLowerCase())==="active")&&e.jsx("button",{onClick:()=>o[s].id&&b(o[s].id,"completed"),disabled:((nt=o[s].booking_status)==null?void 0:nt.toLowerCase())==="completed"||!o[s].id,style:{flex:1,minWidth:"clamp(70px, 20vw, 90px)",padding:"clamp(6px, 1.5vw, 8px) clamp(12px, 2.5vw, 14px)",backgroundColor:((lt=o[s].booking_status)==null?void 0:lt.toLowerCase())==="completed"?"#6b7280":"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:((pt=o[s].booking_status)==null?void 0:pt.toLowerCase())==="completed"?"not-allowed":"pointer",fontSize:"clamp(11px, 1.8vw, 12px)",fontFamily:"Work Sans, sans-serif",fontWeight:500,opacity:((ct=o[s].booking_status)==null?void 0:ct.toLowerCase())==="completed"?.6:1},children:"Complete"})]})]})}),o.length>1&&e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",marginTop:"clamp(10px, 2vw, 14px)",paddingTop:"clamp(10px, 2vw, 14px)",borderTop:"1px solid var(--bw-border)"},children:[e.jsx("button",{onClick:()=>N(t=>t>0?t-1:o.length-1),disabled:v,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"clamp(8px, 1.5vw, 10px)",backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"6px",cursor:v?"not-allowed":"pointer",color:"var(--bw-text)",opacity:v?.6:1,transition:"all 0.2s ease",minWidth:"44px",minHeight:"44px"},onMouseEnter:t=>{v||(t.currentTarget.style.backgroundColor="var(--bw-bg-hover)",t.currentTarget.style.borderColor="var(--bw-border-strong)")},onMouseLeave:t=>{v||(t.currentTarget.style.backgroundColor="var(--bw-bg-secondary)",t.currentTarget.style.borderColor="var(--bw-border)")},children:e.jsx(xt,{size:20})}),e.jsxs("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontWeight:300},children:[s+1," of ",o.length]}),e.jsx("button",{onClick:()=>N(t=>t<o.length-1?t+1:0),disabled:v,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"clamp(8px, 1.5vw, 10px)",backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"6px",cursor:v?"not-allowed":"pointer",color:"var(--bw-text)",opacity:v?.6:1,transition:"all 0.2s ease",minWidth:"44px",minHeight:"44px"},onMouseEnter:t=>{v||(t.currentTarget.style.backgroundColor="var(--bw-bg-hover)",t.currentTarget.style.borderColor="var(--bw-border-strong)")},onMouseLeave:t=>{v||(t.currentTarget.style.backgroundColor="var(--bw-bg-secondary)",t.currentTarget.style.borderColor="var(--bw-border)")},children:e.jsx(ce,{size:20})})]})]})}),k==="all"&&e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 20px)"},children:[e.jsx("div",{style:{display:"flex",flexDirection:C?"column":"row",justifyContent:"space-between",alignItems:C?"flex-start":"center",marginBottom:"clamp(16px, 3vw, 20px)",gap:"clamp(12px, 2vw, 16px)"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(8px, 1.5vw, 12px)",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",flexWrap:"wrap"},children:[e.jsx("label",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontWeight:300,opacity:.8},children:"Filter by:"}),e.jsxs("select",{value:jt,onChange:t=>{const a=t.target.value;$t(a)},disabled:S,style:{padding:"clamp(8px, 1.5vw, 10px) clamp(12px, 2vw, 16px)",border:"1px solid var(--bw-border)",borderRadius:"6px",backgroundColor:"var(--bw-bg)",color:"var(--bw-text)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:"Work Sans, sans-serif",fontWeight:300,cursor:S?"not-allowed":"pointer",opacity:S?.6:1,minWidth:"clamp(180px, 25vw, 220px)"},children:[e.jsx("option",{value:"",style:{color:"var(--bw-text)",opacity:.6,fontWeight:300},children:"Select Filter"}),e.jsxs("optgroup",{label:"Status",style:{color:"var(--bw-text)",fontWeight:400,fontStyle:"normal"},children:[e.jsx("option",{value:"status:",style:{color:"var(--bw-text)",opacity:.6,fontWeight:300},children:"All Statuses"}),e.jsx("option",{value:"status:pending",style:{color:"var(--bw-text)",fontWeight:300},children:"Pending"}),e.jsx("option",{value:"status:confirmed",style:{color:"var(--bw-text)",fontWeight:300},children:"Confirmed"}),e.jsx("option",{value:"status:completed",style:{color:"var(--bw-text)",fontWeight:300},children:"Completed"}),e.jsx("option",{value:"status:cancelled",style:{color:"var(--bw-text)",fontWeight:300},children:"Cancelled"})]}),e.jsxs("optgroup",{label:"Service Type",style:{color:"var(--bw-text)",fontWeight:400,fontStyle:"normal"},children:[e.jsx("option",{value:"service_type:",style:{color:"var(--bw-text)",opacity:.6,fontWeight:300},children:"All Service Types"}),e.jsx("option",{value:"service_type:airport",style:{color:"var(--bw-text)",fontWeight:300},children:"Airport"}),e.jsx("option",{value:"service_type:dropoff",style:{color:"var(--bw-text)",fontWeight:300},children:"Dropoff"}),e.jsx("option",{value:"service_type:hourly",style:{color:"var(--bw-text)",fontWeight:300},children:"Hourly"})]})]})]}),(I||_)&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(6px, 1.5vw, 8px)",flexWrap:"wrap"},children:[I&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"clamp(4px, 1vw, 6px) clamp(8px, 1.5vw, 12px)",backgroundColor:"var(--bw-bg)",border:"1px solid var(--bw-border)",borderRadius:"6px",fontSize:"clamp(12px, 1.8vw, 13px)",fontFamily:"Work Sans, sans-serif",fontWeight:300,color:"var(--bw-text)"},children:[e.jsxs("span",{children:["Status: ",I.charAt(0).toUpperCase()+I.slice(1)]}),e.jsx("button",{onClick:()=>Le("status"),style:{background:"none",border:"none",color:"var(--bw-text)",cursor:"pointer",padding:"0",display:"flex",alignItems:"center",opacity:.7},onMouseEnter:t=>t.currentTarget.style.opacity="1",onMouseLeave:t=>t.currentTarget.style.opacity="0.7",children:e.jsx(pe,{size:14})})]}),_&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"clamp(4px, 1vw, 6px) clamp(8px, 1.5vw, 12px)",backgroundColor:"var(--bw-bg)",border:"1px solid var(--bw-border)",borderRadius:"6px",fontSize:"clamp(12px, 1.8vw, 13px)",fontFamily:"Work Sans, sans-serif",fontWeight:300,color:"var(--bw-text)"},children:[e.jsxs("span",{children:["Service: ",_==="dropoff"?"Dropoff":_.charAt(0).toUpperCase()+_.slice(1)]}),e.jsx("button",{onClick:()=>Le("service_type"),style:{background:"none",border:"none",color:"var(--bw-text)",cursor:"pointer",padding:"0",display:"flex",alignItems:"center",opacity:.7},onMouseEnter:t=>t.currentTarget.style.opacity="1",onMouseLeave:t=>t.currentTarget.style.opacity="0.7",children:e.jsx(pe,{size:14})})]})]})]})}),S&&M.length===0?e.jsx("div",{style:{textAlign:"center",padding:"clamp(40px, 8vw, 60px)",color:"var(--bw-text)",opacity:.6,fontSize:"clamp(14px, 2.5vw, 16px)"},children:"Loading bookings..."}):M.length===0?e.jsx("div",{style:{textAlign:"center",padding:"clamp(40px, 8vw, 60px)",color:"var(--bw-text)",opacity:.6,fontSize:"clamp(14px, 2.5vw, 16px)"},children:"No bookings found."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(12px, 2.5vw, 16px)",marginBottom:"clamp(16px, 3vw, 24px)"},children:M.map(t=>e.jsxs("div",{style:{border:"1px solid var(--bw-border)",borderRadius:"8px",padding:"clamp(12px, 2.5vw, 16px)",backgroundColor:"var(--bw-bg)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px",flexWrap:"wrap",gap:"8px"},children:[e.jsx("div",{children:e.jsxs("div",{style:{fontSize:"clamp(16px, 3vw, 18px)",fontWeight:600,color:"var(--bw-text)",marginBottom:"4px"},children:["Booking #",t.id]})}),t.booking_status&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"8px",backgroundColor:E(t.booking_status)+"20",border:`1px solid ${E(t.booking_status)}`,fontSize:"clamp(11px, 1.8vw, 12px)",fontFamily:"Work Sans, sans-serif",fontWeight:500,color:E(t.booking_status)},children:[Fe(t.booking_status),e.jsx("span",{style:{textTransform:"capitalize"},children:t.booking_status})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(10px, 2vw, 12px)",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsx(F,{size:16,style:{marginTop:"2px",color:"var(--bw-text)",opacity:.7}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Pickup"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:t.pickup_location}),e.jsx("div",{style:{fontSize:"clamp(10px, 1.5vw, 11px)",color:"#9ca3af",fontWeight:300,marginTop:"4px"},children:ze(t.pickup_time)})]})]}),t.dropoff_location&&e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsx(F,{size:16,style:{marginTop:"2px",color:"var(--bw-text)",opacity:.7}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Dropoff"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:t.dropoff_location}),t.dropoff_time&&e.jsx("div",{style:{fontSize:"clamp(10px, 1.5vw, 11px)",color:"#9ca3af",fontWeight:300,marginTop:"4px"},children:ze(t.dropoff_time)})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(clamp(120px, 20vw, 150px), 1fr))",gap:"clamp(10px, 2vw, 12px)",marginTop:"8px",paddingTop:"12px",borderTop:"1px solid var(--bw-border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Service"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif",textTransform:"capitalize"},children:t.service_type})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Payment"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif",textTransform:"capitalize"},children:t.payment_method})]}),t.estimated_price>0&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Price"}),e.jsxs("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:["$",t.estimated_price.toFixed(2)]})]}),t.customer_name&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Customer"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:t.customer_name})]}),t.driver_name&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Driver"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:t.driver_name||"Unassigned"})]}),t.vehicle&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7,marginBottom:"4px"},children:"Vehicle"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:t.vehicle})]})]}),t.notes&&e.jsxs("div",{style:{marginTop:"8px",padding:"clamp(8px, 1.5vw, 10px)",backgroundColor:"var(--bw-bg)",borderRadius:"6px",fontSize:"clamp(12px, 2vw, 14px)",color:"var(--bw-text)",opacity:.8},children:[e.jsx("strong",{children:"Notes:"})," ",t.notes]})]})]},t.id))}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"clamp(8px, 2vw, 12px)",marginTop:"clamp(16px, 3vw, 24px)"},children:[!L&&M.length>0&&e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",opacity:.7,fontFamily:"Work Sans, sans-serif",textAlign:"center"},children:"That's all your rides so far"}),e.jsx("button",{onClick:Nt,disabled:S||!L,style:{padding:"clamp(12px, 2.5vw, 16px) clamp(24px, 4vw, 32px)",backgroundColor:"var(--bw-fg)",color:"var(--bw-bg)",border:"none",borderRadius:"8px",cursor:S||!L?"not-allowed":"pointer",fontSize:"clamp(14px, 2.5vw, 16px)",fontFamily:"Work Sans, sans-serif",fontWeight:600,opacity:S||!L?.4:1,filter:L?"none":"blur(0.5px)",transition:"opacity 0.2s ease, filter 0.2s ease"},onMouseEnter:t=>{!S&&L&&(t.currentTarget.style.opacity="0.9")},onMouseLeave:t=>{!S&&L&&(t.currentTarget.style.opacity="1")},children:S?"Loading...":"Show More"})]})]})]})]}),W==="vehicles"&&e.jsxs("div",{style:{backgroundColor:"var(--bw-card-bg, var(--bw-bg))",border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 20px)"},children:[e.jsx("h2",{style:{margin:"0 0 clamp(16px, 3vw, 20px) 0",fontSize:"clamp(18px, 3vw, 22px)",fontWeight:400,fontFamily:"Work Sans, sans-serif",color:"var(--bw-text)"},children:"Vehicles"}),St&&ee.length===0?e.jsx("div",{style:{textAlign:"center",padding:"clamp(40px, 8vw, 60px)",color:"var(--bw-text)",opacity:.6,fontSize:"clamp(14px, 2.5vw, 16px)"},children:"Loading vehicles..."}):ee.length===0?e.jsx("div",{style:{textAlign:"center",padding:"clamp(40px, 8vw, 60px)",color:"var(--bw-text)",opacity:.6,fontSize:"clamp(14px, 2.5vw, 16px)"},children:"No vehicles available."}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(clamp(280px, 30vw, 350px), 1fr))",gap:"clamp(16px, 3vw, 20px)"},children:ee.map(t=>e.jsxs("div",{style:{border:"1px solid var(--bw-border)",borderRadius:"12px",padding:"clamp(16px, 3vw, 20px)",backgroundColor:"var(--bw-bg)",display:"flex",flexDirection:"column",gap:"12px"},children:[t.vehicle_images&&Object.keys(t.vehicle_images).length>0?e.jsx("div",{style:{width:"100%",height:"clamp(150px, 25vw, 200px)",borderRadius:"8px",overflow:"hidden",backgroundColor:"var(--bw-bg-hover, rgba(0, 0, 0, 0.05))",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("img",{src:Object.values(t.vehicle_images)[0],alt:`${t.make} ${t.model}`,style:{width:"100%",height:"100%",objectFit:"cover"}})}):e.jsx("div",{style:{width:"100%",height:"clamp(150px, 25vw, 200px)",borderRadius:"8px",backgroundColor:"var(--bw-bg-hover, rgba(0, 0, 0, 0.05))",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--bw-text)",opacity:.5},children:e.jsx(dt,{size:48})}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontSize:"clamp(18px, 3vw, 22px)",fontWeight:600,color:"var(--bw-text)",marginBottom:"8px",fontFamily:"Work Sans, sans-serif"},children:[t.make," ",t.model,t.year&&` (${t.year})`]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.license_plate&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7},children:"License Plate:"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:500,fontFamily:"Work Sans, sans-serif"},children:t.license_plate})]}),t.color&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7},children:"Color:"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif",textTransform:"capitalize"},children:t.color})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7},children:"Seating Capacity:"}),e.jsx("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:"var(--bw-text)",fontWeight:300,fontFamily:"Work Sans, sans-serif"},children:t.seating_capacity})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{fontSize:"clamp(11px, 1.8vw, 12px)",color:"var(--bw-text)",opacity:.7},children:"Status:"}),e.jsxs("div",{style:{fontSize:"clamp(13px, 2vw, 14px)",color:t.status==="available"?"#10b981":"#6b7280",fontWeight:500,fontFamily:"Work Sans, sans-serif",textTransform:"capitalize",display:"flex",alignItems:"center",gap:"6px"},children:[t.status==="available"?e.jsx(X,{size:14}):e.jsx(V,{size:14}),t.status||"N/A"]})]})]})]})]},t.id))})]})]}),e.jsx("style",{children:`
        @media (max-width: 768px) {
          .driver-stats-grid {
            grid-template-columns: repeat(2, 1fr) !important;
          }
        }
      `})]})}export{go as default};
