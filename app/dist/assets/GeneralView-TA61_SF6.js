import{r,j as a,o as A,ak as P,al as U,am as M}from"./react-vendor-JE9gdlBQ.js";import{f as E}from"./index-DaAC2zqA.js";import{U as T}from"./UpgradePlanButton-C63cPaCY.js";import{u as V,S as G}from"./SettingsMenuBar-Cp_MNEJw.js";import{b as H}from"./router-DL0rZlEF.js";import"./vendor-C1Py2TwH.js";import"./utils-2shQNo7D.js";function Z(){var p,d,c,x,m,v,b,w,u,g,h,y,f,S,j,W,N,k;const[e,C]=r.useState(null),[z,F]=r.useState(!0),[n,B]=r.useState(window.innerWidth<=768),{isOpen:o}=V(),[D,i]=r.useState(!1),I=H();r.useEffect(()=>{const l=()=>{B(window.innerWidth<=768)};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),r.useEffect(()=>{(async()=>{try{const s=await E();C(s.data)}catch(s){console.error("Failed to load data:",s)}finally{F(!1)}})()},[]);const R=()=>{i(!0)};if(z)return a.jsx("div",{className:"bw bw-container",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",padding:"clamp(16px, 3vw, 24px) 0"},children:a.jsx("div",{className:"bw-loading",style:{fontSize:"clamp(14px, 2vw, 16px)",fontFamily:'"Work Sans", sans-serif',color:"var(--bw-muted)"},children:"Loading..."})});const L=((d=(p=e==null?void 0:e.profile)==null?void 0:p.subscription_plan)==null?void 0:d.toLowerCase())||"free";return a.jsxs("div",{className:"bw",style:{display:"flex",minHeight:"100vh"},children:[a.jsx(G,{}),a.jsxs("div",{style:{marginLeft:n?"0":o?"20%":"64px",transition:"margin-left 0.3s ease",width:n?"100%":o?"calc(100% - 20%)":"calc(100% - 64px)",maxWidth:"100%",overflowX:"hidden",boxSizing:"border-box"},children:[a.jsx("div",{style:{width:"100%",maxWidth:"100%",padding:"clamp(16px, 2vw, 24px) clamp(16px, 2vw, 24px) clamp(16px, 2vw, 24px) clamp(16px, 2vw, 24px)",marginBottom:"clamp(24px, 4vw, 32px)",boxSizing:"border-box"},children:a.jsx("h1",{style:{fontSize:"clamp(24px, 4vw, 32px)",margin:0,fontFamily:'"DM Sans", sans-serif',fontWeight:200,color:"var(--bw-text)"},children:"General View"})}),a.jsx("div",{className:"bw-container",style:{padding:"0 clamp(16px, 2vw, 24px) clamp(16px, 2vw, 24px) clamp(16px, 2vw, 24px)",maxWidth:"100%",overflowX:"hidden",boxSizing:"border-box"},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(2, minmax(0, 1fr))",gap:"clamp(16px, 2vw, 24px)",width:"100%",maxWidth:"100%"},children:[a.jsxs("div",{className:"bw-card",style:{backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"clamp(8px, 1.5vw, 12px)",padding:"clamp(16px, 2.5vw, 24px)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",marginBottom:"clamp(12px, 2vw, 16px)"},children:[a.jsx(A,{className:"w-5 h-5",style:{color:"var(--bw-text)"}}),a.jsx("h3",{style:{margin:0,fontSize:"clamp(16px, 2.5vw, 20px)",fontFamily:'"Work Sans", sans-serif',fontWeight:400,color:"var(--bw-text)"},children:"Account Information"})]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(8px, 1.5vw, 12px)"},children:[{label:"First Name:",value:e==null?void 0:e.first_name},{label:"Last Name:",value:e==null?void 0:e.last_name},{label:"Email:",value:e==null?void 0:e.email},{label:"Phone:",value:e==null?void 0:e.phone_no},{label:"Role:",value:(c=e==null?void 0:e.profile)==null?void 0:c.role},{label:"Account Verified:",value:e!=null&&e.is_verified?"Yes":"No"},{label:"Member Since:",value:new Date(e==null?void 0:e.created_on).toLocaleDateString()}].map((l,s,t)=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:s<t.length-1?"clamp(6px, 1vw, 8px)":0,borderBottom:s<t.length-1?"1px solid var(--bw-border)":"none"},children:[a.jsx("span",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:l.label}),a.jsx("span",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,fontFamily:'"Work Sans", sans-serif',color:"var(--bw-text)"},children:l.value||"N/A"})]},s))})]}),a.jsxs("div",{className:"bw-card",style:{backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"clamp(8px, 1.5vw, 12px)",padding:"clamp(16px, 2.5vw, 24px)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",marginBottom:"clamp(12px, 2vw, 16px)"},children:[a.jsx(P,{className:"w-5 h-5",style:{color:"var(--bw-text)"}}),a.jsx("h3",{style:{margin:0,fontSize:"clamp(16px, 2.5vw, 20px)",fontFamily:'"Work Sans", sans-serif',fontWeight:400,color:"var(--bw-text)"},children:"Company Information"})]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(8px, 1.5vw, 12px)"},children:[{label:"Company Name:",value:(x=e==null?void 0:e.profile)==null?void 0:x.company_name},{label:"Slug:",value:(m=e==null?void 0:e.profile)==null?void 0:m.slug},{label:"City:",value:(v=e==null?void 0:e.profile)==null?void 0:v.city},{label:"Address:",value:((b=e==null?void 0:e.profile)==null?void 0:b.address)||"Not provided"},{label:"Subscription Status:",value:((w=e==null?void 0:e.profile)==null?void 0:w.subscription_status)||"Free",isStatus:!0},{label:"Account Status:",value:((u=e==null?void 0:e.profile)==null?void 0:u.subscription_status)==="active"?"Active":((g=e==null?void 0:e.profile)==null?void 0:g.subscription_status)||"Free",isStatus:!0}].map((l,s,t)=>{var _;return a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:s<t.length-1?"clamp(6px, 1vw, 8px)":0,borderBottom:s<t.length-1?"1px solid var(--bw-border)":"none"},children:[a.jsx("span",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:l.label}),a.jsx("span",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,fontFamily:'"Work Sans", sans-serif',color:l.isStatus&&((_=e==null?void 0:e.profile)==null?void 0:_.subscription_status)==="active"?"var(--bw-success)":l.isStatus?"var(--bw-warning)":"var(--bw-text)"},children:l.value})]},s)})})]}),a.jsxs("div",{className:"bw-card",style:{backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"clamp(8px, 1.5vw, 12px)",padding:"clamp(16px, 2.5vw, 24px)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",marginBottom:"clamp(12px, 2vw, 16px)"},children:[a.jsx(U,{className:"w-5 h-5",style:{color:"var(--bw-text)"}}),a.jsx("h3",{style:{margin:0,fontSize:"clamp(16px, 2.5vw, 20px)",fontFamily:'"Work Sans", sans-serif',fontWeight:400,color:"var(--bw-text)"},children:"Subscription & Billing"})]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(8px, 1.5vw, 12px)"},children:[{label:"Subscription Plan:",value:((h=e==null?void 0:e.profile)==null?void 0:h.subscription_plan)||"No plan"},{label:"Subscription Status:",value:((y=e==null?void 0:e.profile)==null?void 0:y.subscription_status)||"N/A"},{label:"Stripe Customer ID:",value:((f=e==null?void 0:e.profile)==null?void 0:f.stripe_customer_id)||"Not connected"},{label:"Stripe Account ID:",value:((S=e==null?void 0:e.profile)==null?void 0:S.stripe_account_id)||"Not connected"}].map((l,s,t)=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:s<t.length-1?"clamp(6px, 1vw, 8px)":0,borderBottom:s<t.length-1?"1px solid var(--bw-border)":"none"},children:[a.jsx("span",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:l.label}),a.jsx("span",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,fontFamily:'"Work Sans", sans-serif',color:"var(--bw-text)"},children:l.value})]},s))})]}),a.jsxs("div",{className:"bw-card",style:{backgroundColor:"var(--bw-bg-secondary)",border:"1px solid var(--bw-border)",borderRadius:"clamp(8px, 1.5vw, 12px)",padding:"clamp(16px, 2.5vw, 24px)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 1.5vw, 12px)",marginBottom:"clamp(12px, 2vw, 16px)"},children:[a.jsx(M,{className:"w-5 h-5",style:{color:"var(--bw-text)"}}),a.jsx("h3",{style:{margin:0,fontSize:"clamp(16px, 2.5vw, 20px)",fontFamily:'"Work Sans", sans-serif',fontWeight:400,color:"var(--bw-text)"},children:"Statistics"})]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(8px, 1.5vw, 12px)"},children:[{label:"Total Drivers:",value:((j=e==null?void 0:e.stats)==null?void 0:j.drivers_count)||0},{label:"Total Rides:",value:((W=e==null?void 0:e.stats)==null?void 0:W.total_ride_count)||0},{label:"Daily Rides:",value:((N=e==null?void 0:e.stats)==null?void 0:N.daily_ride_count)||0},{label:"Last Reset:",value:(k=e==null?void 0:e.stats)!=null&&k.last_ride_count_reset?new Date(e.stats.last_ride_count_reset).toLocaleDateString():"N/A"}].map((l,s,t)=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:s<t.length-1?"clamp(6px, 1vw, 8px)":0,borderBottom:s<t.length-1?"1px solid var(--bw-border)":"none"},children:[a.jsx("span",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,color:"var(--bw-muted)",fontFamily:'"Work Sans", sans-serif'},children:l.label}),a.jsx("span",{style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:300,fontFamily:'"Work Sans", sans-serif',color:"var(--bw-text)"},children:l.value})]},s))})]})]})}),a.jsx(T,{currentPlan:L,onUpgradeClick:R,isMobile:n}),D&&a.jsx("div",{className:"bw-modal-overlay",onClick:()=>i(!1),children:a.jsxs("div",{className:"bw-modal",onClick:l=>l.stopPropagation(),style:{maxWidth:"600px",width:"90vw"},children:[a.jsxs("div",{className:"bw-modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"clamp(16px, 2.5vw, 24px)",borderBottom:"1px solid var(--bw-border)"},children:[a.jsx("h3",{style:{margin:0,fontSize:"clamp(18px, 2.5vw, 24px)",fontWeight:400,fontFamily:'"Work Sans", sans-serif'},children:"Upgrade Plan"}),a.jsx("button",{onClick:()=>i(!1),style:{padding:"8px",background:"transparent",border:"none",cursor:"pointer",color:"var(--bw-text)"},children:"Ã—"})]}),a.jsxs("div",{className:"bw-modal-body",style:{padding:"clamp(16px, 2.5vw, 24px)",fontFamily:'"Work Sans", sans-serif'},children:[a.jsx("p",{style:{marginBottom:"16px",color:"var(--bw-text)"},children:"Please visit the Plans page to view all available plans and upgrade options."}),a.jsx("button",{className:"bw-btn bw-btn-action",onClick:()=>{i(!1),I("/tenant/settings/plans")},style:{padding:"14px 24px",fontFamily:'"Work Sans", sans-serif',fontWeight:600,fontSize:"14px",borderRadius:7},children:"View Plans"})]})]})})]})]})}export{Z as default};
