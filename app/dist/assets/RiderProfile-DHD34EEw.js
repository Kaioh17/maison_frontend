import{r as o,j as a,Q as z,N as C,ab as I,Y as R,b as _,O as D,ac as L}from"./react-vendor-JE9gdlBQ.js";import{g as A,C as E}from"./CityAutocomplete-Dtwa3AUg.js";import{u as M,t as B}from"./index-DaAC2zqA.js";import{b as P,L as U}from"./router-DL0rZlEF.js";import{u as T}from"./useFavicon-Bc8ZFvv0.js";import{C as $}from"./CountryAutocomplete-DcIo2GPh.js";import{S as H}from"./StateAutocomplete-CLQ3OVdu.js";import"./vendor-C1Py2TwH.js";import"./utils-2shQNo7D.js";function Z(){T();const[s,y]=o.useState(null),[j,h]=o.useState(!0),[i,d]=o.useState(!1),[f,g]=o.useState(!1),[w,r]=o.useState(""),[c,x]=o.useState({}),v=P(),{isAuthenticated:b,role:u,logout:W}=M(),{tenantInfo:t}=B();o.useEffect(()=>{if(!b||u!=="rider"){v("/riders/login",{replace:!0});return}S()},[b,u,v]);const S=async()=>{var e,p;try{h(!0),r("");const n=await A();n.success&&n.data?(y(n.data),x(n.data)):r("Failed to load user information")}catch(n){r(((p=(e=n.response)==null?void 0:e.data)==null?void 0:p.detail)||n.message||"Failed to load user information")}finally{h(!1)}},m=e=>{const{name:p,value:n}=e.target;x({...c,[p]:n})},N=async()=>{var e,p;try{g(!0),r(""),y({...s,...c}),d(!1)}catch(n){r(((p=(e=n.response)==null?void 0:e.data)==null?void 0:p.detail)||n.message||"Failed to update profile")}finally{g(!1)}},k=()=>{x(s||{}),d(!1),r("")},F=()=>{W(),v("/riders/login",{replace:!0})};if(j)return a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--bw-bg)"},children:a.jsx("div",{style:{color:"var(--bw-text)",fontFamily:"Work Sans, sans-serif",fontSize:"clamp(14px, 2vw, 16px)"},children:"Loading profile..."})});if(!s)return a.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--bw-bg)",padding:"clamp(16px, 3vw, 24px)"},children:[a.jsx("div",{style:{color:"var(--bw-error)",fontFamily:"Work Sans, sans-serif",fontSize:"clamp(14px, 2vw, 16px)",marginBottom:"clamp(12px, 2vw, 16px)"},children:w||"Failed to load profile"}),a.jsx("button",{className:"bw-btn",onClick:S,style:{borderRadius:0,padding:"clamp(12px, 2.5vw, 14px) clamp(20px, 4vw, 24px)",fontFamily:"Work Sans, sans-serif",fontWeight:500,fontSize:"clamp(14px, 2.5vw, 16px)"},children:"Retry"})]});const l=i?c:s;return a.jsx("main",{className:"bw",style:{minHeight:"100vh",backgroundColor:"var(--bw-bg)",padding:"clamp(16px, 3vw, 24px)"},children:a.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[t&&a.jsx("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"clamp(12px, 2vw, 16px)"},children:t.logo_url?a.jsx("img",{src:t.logo_url,alt:t.company_name||"Company Logo",style:{maxHeight:"clamp(40px, 5vw, 50px)",maxWidth:"clamp(120px, 20vw, 180px)",objectFit:"contain"}}):a.jsx("h1",{style:{margin:0,fontSize:"clamp(20px, 3vw, 28px)",fontWeight:600,color:"var(--bw-text)",fontFamily:"DM Sans, sans-serif"},children:t.company_name})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"clamp(24px, 4vw, 32px)",flexWrap:"wrap",gap:"clamp(12px, 2vw, 16px)"},children:[a.jsxs("div",{children:[a.jsx("h1",{style:{margin:0,fontSize:"clamp(28px, 5vw, 40px)",fontFamily:"DM Sans, sans-serif",fontWeight:200,color:"var(--bw-text)"},children:"Profile"}),a.jsx("p",{className:"small-muted",style:{marginTop:"clamp(4px, 1vw, 6px)",fontSize:"clamp(14px, 2vw, 16px)",fontFamily:"Work Sans, sans-serif",fontWeight:300,color:"var(--bw-text)",opacity:.8},children:t?`${t.company_name} - Manage your account information`:"Manage your account information"})]}),a.jsxs("div",{style:{display:"flex",gap:"clamp(8px, 1.5vw, 12px)",flexWrap:"wrap"},children:[i?a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:"bw-btn",onClick:k,disabled:f,style:{borderRadius:0,padding:"clamp(12px, 2.5vw, 14px) clamp(20px, 4vw, 24px)",fontFamily:"Work Sans, sans-serif",fontWeight:600,background:"var(--bw-bg)",color:"var(--bw-fg)",border:"1px solid var(--bw-fg)",display:"flex",alignItems:"center",gap:"clamp(6px, 1vw, 8px)",fontSize:"clamp(14px, 2.5vw, 16px)"},children:[a.jsx(C,{size:16,style:{width:"clamp(14px, 2vw, 16px)",height:"clamp(14px, 2vw, 16px)"}}),"Cancel"]}),a.jsxs("button",{className:"bw-btn",onClick:N,disabled:f,style:{borderRadius:0,padding:"clamp(12px, 2.5vw, 14px) clamp(20px, 4vw, 24px)",fontFamily:"Work Sans, sans-serif",fontWeight:600,display:"flex",alignItems:"center",gap:"clamp(6px, 1vw, 8px)",fontSize:"clamp(14px, 2.5vw, 16px)"},children:[a.jsx(I,{size:16}),f?"Saving...":"Save Changes"]})]}):a.jsxs("button",{className:"bw-btn",onClick:()=>d(!0),style:{borderRadius:0,padding:"clamp(12px, 2.5vw, 14px) clamp(20px, 4vw, 24px)",fontFamily:"Work Sans, sans-serif",fontWeight:500,display:"flex",alignItems:"center",gap:"clamp(6px, 1vw, 8px)",fontSize:"clamp(14px, 2.5vw, 16px)"},children:[a.jsx(z,{size:16}),"Edit Profile"]}),a.jsxs("button",{className:"bw-btn",onClick:F,style:{borderRadius:0,padding:"clamp(12px, 2.5vw, 14px) clamp(20px, 4vw, 24px)",fontFamily:"Work Sans, sans-serif",fontWeight:500,background:"var(--bw-bg)",color:"var(--bw-fg)",border:"1px solid var(--bw-fg)",display:"flex",alignItems:"center",gap:"clamp(6px, 1vw, 8px)",fontSize:"clamp(14px, 2.5vw, 16px)"},children:[a.jsx(R,{size:16}),"Logout"]})]})]}),w&&a.jsx("div",{style:{marginBottom:"clamp(16px, 3vw, 24px)",padding:"clamp(10px, 2vw, 12px)",backgroundColor:"rgba(197, 72, 61, 0.1)",border:"1px solid var(--bw-error)",borderRadius:"4px",color:"var(--bw-error)",fontSize:"clamp(13px, 2vw, 14px)",fontFamily:"Work Sans, sans-serif"},children:w}),a.jsxs("div",{className:"bw-card",style:{marginBottom:"clamp(16px, 3vw, 24px)"},children:[a.jsx("div",{className:"bw-card-header",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(10px, 1.5vw, 12px)"},children:[a.jsx("div",{className:"bw-card-icon",children:a.jsx(_,{size:20})}),a.jsx("h3",{style:{margin:0,fontFamily:"DM Sans, sans-serif",fontWeight:400,fontSize:"clamp(16px, 2.5vw, 18px)"},children:"Personal Information"})]})}),a.jsxs("div",{className:"bw-info-grid",style:{fontFamily:"Work Sans, sans-serif"},children:[a.jsxs("div",{className:"bw-info-item",children:[a.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:"clamp(12px, 1.8vw, 13px)"},children:"First Name:"}),i?a.jsx("input",{name:"first_name",type:"text",value:l.first_name||"",onChange:m,className:"bw-input",style:{padding:"clamp(12px, 2vw, 16px) clamp(14px, 2.5vw, 18px) clamp(12px, 2vw, 16px) clamp(38px, 5vw, 44px)",borderRadius:0,fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)"}}):a.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:300,fontSize:"clamp(13px, 2vw, 14px)"},children:s.first_name})]}),a.jsxs("div",{className:"bw-info-item",children:[a.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:"clamp(12px, 1.8vw, 13px)"},children:"Last Name:"}),i?a.jsx("input",{name:"last_name",type:"text",value:l.last_name||"",onChange:m,className:"bw-input",style:{padding:"clamp(12px, 2vw, 16px) clamp(14px, 2.5vw, 18px) clamp(12px, 2vw, 16px) clamp(38px, 5vw, 44px)",borderRadius:0,fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)"}}):a.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:300,fontSize:"clamp(13px, 2vw, 14px)"},children:s.last_name})]}),a.jsxs("div",{className:"bw-info-item",children:[a.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:"clamp(12px, 1.8vw, 13px)"},children:"Email:"}),i?a.jsx("input",{name:"email",type:"email",value:l.email||"",onChange:m,className:"bw-input",style:{padding:"clamp(12px, 2vw, 16px) clamp(14px, 2.5vw, 18px) clamp(12px, 2vw, 16px) clamp(38px, 5vw, 44px)",borderRadius:0,fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)"}}):a.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:300,fontSize:"clamp(13px, 2vw, 14px)"},children:s.email})]}),a.jsxs("div",{className:"bw-info-item",children:[a.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:"clamp(12px, 1.8vw, 13px)"},children:"Phone:"}),i?a.jsx("input",{name:"phone_no",type:"tel",value:l.phone_no||"",onChange:m,className:"bw-input",style:{padding:"clamp(12px, 2vw, 16px) clamp(14px, 2.5vw, 18px) clamp(12px, 2vw, 16px) clamp(38px, 5vw, 44px)",borderRadius:0,fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)"}}):a.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:300,fontSize:"clamp(13px, 2vw, 14px)"},children:s.phone_no})]})]})]}),a.jsxs("div",{className:"bw-card",style:{marginBottom:"clamp(16px, 3vw, 24px)"},children:[a.jsx("div",{className:"bw-card-header",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(10px, 1.5vw, 12px)"},children:[a.jsx("div",{className:"bw-card-icon",children:a.jsx(D,{size:20})}),a.jsx("h3",{style:{margin:0,fontFamily:"DM Sans, sans-serif",fontWeight:400,fontSize:"clamp(16px, 2.5vw, 18px)"},children:"Address Information"})]})}),a.jsxs("div",{className:"bw-info-grid",style:{fontFamily:"Work Sans, sans-serif"},children:[a.jsxs("div",{className:"bw-info-item",style:{gridColumn:"span 2"},children:[a.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:"clamp(12px, 1.8vw, 13px)"},children:"Address:"}),i?a.jsx("input",{name:"address",type:"text",value:l.address||"",onChange:m,className:"bw-input",style:{padding:"clamp(12px, 2vw, 16px) clamp(14px, 2.5vw, 18px) clamp(12px, 2vw, 16px) clamp(38px, 5vw, 44px)",borderRadius:0,fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)"}}):a.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:300,fontSize:"clamp(13px, 2vw, 14px)"},children:s.address})]}),a.jsxs("div",{className:"bw-info-item",children:[a.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:"clamp(12px, 1.8vw, 13px)"},children:"City:"}),i?a.jsx(E,{value:l.city||"",onChange:e=>x({...c,city:e}),selectedState:l.state||"",className:"bw-input",style:{padding:"clamp(12px, 2vw, 16px) clamp(14px, 2.5vw, 18px) clamp(12px, 2vw, 16px) clamp(38px, 5vw, 44px)",borderRadius:0}}):a.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:300,fontSize:"clamp(13px, 2vw, 14px)"},children:s.city})]}),a.jsxs("div",{className:"bw-info-item",children:[a.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:"clamp(12px, 1.8vw, 13px)"},children:"State:"}),i?a.jsx(H,{value:l.state||"",onChange:e=>x({...c,state:e,city:""}),className:"bw-input",style:{padding:"clamp(12px, 2vw, 16px) clamp(14px, 2.5vw, 18px) clamp(12px, 2vw, 16px) clamp(38px, 5vw, 44px)",borderRadius:0}}):a.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)"},children:s.state})]}),a.jsxs("div",{className:"bw-info-item",children:[a.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:"clamp(12px, 1.8vw, 13px)"},children:"Country:"}),i?a.jsx($,{value:l.country||"",onChange:e=>x({...c,country:e}),className:"bw-input",style:{padding:"clamp(12px, 2vw, 16px) clamp(14px, 2.5vw, 18px) clamp(12px, 2vw, 16px) clamp(38px, 5vw, 44px)",borderRadius:0}}):a.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:300,fontSize:"clamp(13px, 2vw, 14px)"},children:s.country})]}),a.jsxs("div",{className:"bw-info-item",children:[a.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:"clamp(12px, 1.8vw, 13px)"},children:"Postal Code:"}),i?a.jsx("input",{name:"postal_code",type:"text",value:l.postal_code||"",onChange:m,className:"bw-input",style:{padding:"clamp(12px, 2vw, 16px) clamp(14px, 2.5vw, 18px) clamp(12px, 2vw, 16px) clamp(38px, 5vw, 44px)",borderRadius:0,fontFamily:"Work Sans, sans-serif",fontSize:"clamp(13px, 2vw, 14px)"},maxLength:5}):a.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:300,fontSize:"clamp(13px, 2vw, 14px)"},children:s.postal_code})]})]})]}),a.jsxs("div",{className:"bw-card",children:[a.jsx("div",{className:"bw-card-header",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(10px, 1.5vw, 12px)"},children:[a.jsx("div",{className:"bw-card-icon",children:a.jsx(L,{size:20})}),a.jsx("h3",{style:{margin:0,fontFamily:"DM Sans, sans-serif",fontWeight:400,fontSize:"clamp(16px, 2.5vw, 18px)"},children:"Account Details"})]})}),a.jsxs("div",{className:"bw-info-grid",style:{fontFamily:"Work Sans, sans-serif"},children:[a.jsxs("div",{className:"bw-info-item",children:[a.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:"clamp(12px, 1.8vw, 13px)"},children:"Role:"}),a.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:300,fontSize:"clamp(13px, 2vw, 14px)"},children:s.role})]}),a.jsxs("div",{className:"bw-info-item",children:[a.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:"clamp(12px, 1.8vw, 13px)"},children:"Tier:"}),a.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:300,fontSize:"clamp(13px, 2vw, 14px)"},children:s.tier||"N/A"})]}),a.jsxs("div",{className:"bw-info-item",children:[a.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:"clamp(12px, 1.8vw, 13px)"},children:"Member Since:"}),a.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:300,fontSize:"clamp(13px, 2vw, 14px)"},children:new Date(s.created_on).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),a.jsxs("div",{className:"bw-info-item",children:[a.jsx("span",{className:"bw-info-label",style:{fontFamily:"Work Sans, sans-serif",fontWeight:400,fontSize:"clamp(12px, 1.8vw, 13px)"},children:"Last Updated:"}),a.jsx("span",{className:"bw-info-value",style:{fontFamily:"Work Sans, sans-serif",fontWeight:300,fontSize:"clamp(13px, 2vw, 14px)"},children:new Date(s.updated_on).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),a.jsx("div",{style:{marginTop:"clamp(24px, 4vw, 32px)",display:"flex",gap:"clamp(8px, 1.5vw, 12px)"},children:a.jsx(U,{to:"/rider/dashboard",style:{textDecoration:"none"},children:a.jsx("button",{className:"bw-btn",style:{borderRadius:0,padding:"clamp(12px, 2.5vw, 14px) clamp(20px, 4vw, 24px)",fontFamily:"Work Sans, sans-serif",fontWeight:500,background:"var(--bw-bg)",color:"var(--bw-fg)",border:"1px solid var(--bw-fg)",fontSize:"clamp(14px, 2.5vw, 16px)"},children:"Back to Dashboard"})})})]})})}export{Z as default};
